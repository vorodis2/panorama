!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define("PLPLUS",[],i):"object"==typeof exports?exports.PLPLUS=i():t.PLPLUS=i()}(window,function(){return function(t){var i={};function h(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,h),s.l=!0,s.exports}return h.m=t,h.c=i,h.d=function(t,i,e){h.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},h.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},h.t=function(t,i){if(1&i&&(t=h(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(h.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)h.d(e,s,function(i){return t[i]}.bind(null,s));return e},h.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return h.d(i,"a",i),i},h.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},h.p="pl102/build/",h(h.s=1)}([function(t,i,h){"use strict";function e(t,i,h,s,o,n,r){var a,l,u,c,p,d=this;this.fun=o,this.funD=n,this.funU=r,this.arrObj=[],this.arrBtn=[],this.klush=s,this.podKlush="nullXZ",this._width=100,this._height=100,this._boolLeft=!1,this.boolG=!0,this.galBool=!1,this.isFullHeightPanel=!1,this._butVisiblePanel=!1,this._visibleIndex=!1,this.otstup=0,this._wh=60,this._stepW=1,this.idArr=0,this._otstupImg=2,this._visiItem=-1,this._kontThick=4,this._colorThick=16757248,this.povedSlid=0,this.object,this.lavel=0,this.content=new PIXI.Container,t.addChild(this.content),this.content.x=i||0,this.content.y=h||0,this.shapeMask=new PIXI.Graphics,this.content.addChild(this.shapeMask),this.contentB=new PIXI.Container,this.content.addChild(this.contentB),this.contentBbb=new PIXI.Container,this.contentB.addChild(this.contentBbb),this.contentKont=new PIXI.Container,this.contentB.addChild(this.contentKont),this.contentKont.visible=this._visibleIndex,this.kont=new PLContur(this.contentKont,0,0),this.kont.width=this._wh,this.kont.height=this._wh,this.kont.thickness=this._kontThick,this.kont.color=this._colorThick,this.kont.visible=!1,this._value="null",this._theme=void 0,this.visiDoble=!0,this.funVisiSlider,this.contentB.mask=this.shapeMask,this.childrenGal=[],this.funDown,this.funUp,this.textAll="All",this.slidV=new PLScrollBarV(this.content,this._width-18,this.otstup,function(){d.contentB.y=-this.scrolValue}),this.slidV.visible=!1,this.slidV.otstup=3,this.slidV.width=15,this.onDragEnd=function(t){},this.boolLink=!1,this.obj,this.idArr,this.downBut=function(){0==d.boolLink?d.value=this.obj.id:d.value=this.obj.texture.url,d.setAt(this.idArr,this)},this.setAt=function(t,i){var h=!0;null==i&&(i=d.arrBtn[t],h=!1),d.idArr=t,d.obj=d.object.data[t],a=!0,null!=d.obj[d.klush]&&null!=i.galeri&&(a=!i.galeri.content.visible);for(var s=0;s<d.arrBtn.length;s++)null!=d.arrBtn[s].galeri&&(d.arrBtn[s].galeri.content.visible=!1);null!=d.obj[d.klush]&&(null==i.galeri&&(1==d.boolG?(i.galeri=new e(d.content,-(128+3*d.otstup+i.x),0,d.klush,d.fun,d.funD,d.funU),i.galeri.stepW=2,i.galeri.lavel=d.lavel+1,i.galeri.setObj(d.obj[d.klush],60),i.galeri.height=d._height,i.galeri.boolLeft=d._boolLeft):(i.galeri=new e(d.content,d.wh+3*d.otstup+i.x,0,d.klush,d.fun,d.funD,d.funU),i.galeri.setObj(d.obj[d.klush],d._wh),i.galeri.height=d._height,i.galeri.lavel=d.lavel+1,i.galeri.boolLeft=d._boolLeft)),null!=i.galeri&&(i.galeri.content.visible=a)),0==d.visiDoble&&i.galeri&&(i.galeri.content.visible=!0),d.fun&&1==h&&(d.galBool=!1,i.galeri&&(d.galBool=!0),d.fun())},this.fDown=function(){d.testItem(this.idArr,!1),d.idArr=this.idArr,d.obj=d.object.data[this.idArr],d.obj.indexGalADM=d.object.index,d.funD&&d.funD(),pl102.isMouseEvents&&pl102.stage.on("mouseup",d.fUp),pl102.isTouchEvents&&pl102.stage.on("touchend",d.fUp)},this.fUp=function(){d.funU&&d.funU(),pl102.isMouseEvents&&pl102.stage.off("mouseup",d.fUp),pl102.isTouchEvents&&pl102.stage.off("touchend",d.fUp)},this.activBtnFromLink=function(t,i){for(var h=0;h<this.arrBtn.length;h++)if(this.arrBtn[h].obj.texture.url==t)return h;return-1},this.testItem=function(t,i){if(-1!=this._visiItem&&0!=this.slidV.visible){l=0,u=0;for(var h=0;h<t;h++)++l>=this._stepW&&(l=0,u++);i?(this.slidV.scrolValue=u*(this._wh+this.otstup)*100/this.slidV.height,this.contentB.y=-(this.currentHeight-this._height)*(this.slidV.scrolValue/100)):(this.contentB.y+u*(this._wh+this.otstup)<0&&(this.slidV.scrolValue=u*(this._wh+this.otstup),this.contentB.y=-u*(this._wh+this.otstup)),u*(this._wh+this.otstup)+this._wh-(Math.abs(this.contentB.y)+this._height)>0&&(this.slidV.scrolValue=u*(this._wh+this.otstup)+this._wh-this._height,this.contentB.y=-(u*(this._wh+this.otstup)+this._wh-this._height)))}},this.oldArrBtn=[],this.getButton=function(t){for(var i=0;i<this.oldArrBtn.length;i++)if(0==this.oldArrBtn[i].visible&&this.oldArrBtn[i].link==t.image.url)return(c=this.oldArrBtn[i]).idArr=this.arrBtn.length,c.transLink=!1,c;return(c=new PLButton(this.contentBbb,0,0,"",this.downBut)).funDown=this.fDown,c.idArr=this.arrBtn.length,c.width=this._wh,c.height=this._wh,c.funError=this.startDoLoad,c.funComplit=this.funComplitImg,c.visiblePanel=this._butVisiblePanel,c.boolKontur=!0,c.otstup=this._otstupImg,this.oldArrBtn.push(c),c},this.funComplit=null,this.startDoLoad=function(){d.waitLoad=!1,d.startLoad()},this.funComplitImg=function(){d.waitLoad=!1,d.startLoad(),d.funComplit&&d.funComplit()},this.plus=function(t){if((p=this.getButton(t)).obj=t,1==menuDebag.bigVisible&&t instanceof BlokObjConf){var i=new PLLabel(p.contDop,0,0),h=t.id;t.product&&(h=t.product.copyFromProductId+" ("+t.id+")"),i.fontSize=11,i.text=h;var e=i.getRect();i.x=3,i.y=p.width-e.height-1}p.visible=!0,this.arrBtn.push(p),this.arrLoadedImgId.push(p.idArr)},this.loadImgComplite=!0,this.stopLoad=!1,this.startLoad=function(){if(!d.waitLoad&&!this.stopLoad)if(0===this.arrLoadedImgId.length)this.loadImgComplite=!0;else{d.waitLoad=!0,this.loadImgComplite=!1;var t=this.arrLoadedImgId.shift();this.setLoadImeg(t,d.object.data[t].image.url)}},this.setLoadImeg=function(t,i){null!=i&&(!function(t){return!(-1===t.indexOf(".")&&-1===t.indexOf("data:image"))}(i)?d.setColor(t,i):d.arrBtn[t].link===i&&d.arrBtn[t].image&&d.arrBtn[t].image.isLoaded?d.startDoLoad():d.arrBtn[t].loadImeg(i))},this.setColor=function(t,i){d.arrBtn[t].color=i,d.arrBtn[t].panel.nizAlpha=0,d.arrBtn[t].transLink=!0,d.draw(),d.startDoLoad()},this.array=[],this.arrLoadedImgId=[];Math.random();this.setObj=function(t,i){"?x="+Math.random(),this.arrLoadedImgId=[],this.clear(),null!=i&&(this._wh=i),this.object=t,this.contentB.y=0,this.slidV.scrolValue=0;for(var h=0;h<t.data.length;h++)this.plus(t.data[h]);this.startLoad(),this.draw();var e=this._theme;this._theme=null,this.theme=e},this.addObj=function(t){null==this.object&&(this.object={},this.object.data=[]),this.object.data.push(t),this.plus(this.object.data[this.object.data.length-1]),this.startLoad(),this.draw();var i=this._theme;this._theme=null,this.theme=i},this.clear=function(){this._value="nullXXXZZZ";for(var t=0;t<this.arrBtn.length;t++)this.arrBtn[t].visible=!1;this.arrBtn.length=0,this.index=-1},this.currentHeight=0;var _,f,g=0,m=0;this.currentHeight=0,this.draw=function(){if(null!=this.object){this.currentHeight=0,g=0,m=0;var t=function(){for(var t=0,i=0;i<d.arrBtn.length;i++)d.arrBtn[i].visible&&t++;return t}();_=Math.ceil(t/this._stepW),this.currentHeight=this._wh*_+this.otstup*(_+1);for(var i=0;i<this.object.data.length;i++)0!=this.arrBtn[i].visible&&(this.arrBtn[i].galeri&&(this.arrBtn[i].galeri.wh=this._wh,this.arrBtn[i].galeri.content.x=this._wh+this.otstup),this.arrBtn[i].x=this.otstup+g*(this.otstup+this._wh),this.arrBtn[i].y=this.otstup+m*(this.otstup+this._wh),this.arrBtn[i].visiblePanel=this._butVisiblePanel,this.arrBtn[i].transLink&&(this.arrBtn[i].visiblePanel=!0),++g>=this._stepW&&(g=0,m++));this.slidV.heightContent=this.currentHeight,this.slidV.height=this._height,this.slidV.fun(),this.slidV.visible=this.slidV.height<this.slidV.heightContent,this.funVisiSlider&&this.funVisiSlider(),1==this.slidV.visible?0==this.boolWhell&&this.initWhell():this.contentB.x=(this._width-this._stepW*(this.otstup+this._wh))/2,this.shapeMask.clear(),this.shapeMask.beginFill(0,.5),this.shapeMask.drawRect(0,0,this._width+1,this._height)}},this.boolWhell=!1,this.wheelDrag=function(t){1==d.slidV.visible&&(f=d.contentB.y,t.delta>0?(f+=10)>0&&(f=0):(f-=10)<-(d.currentHeight-d._height)&&(f=-(d.currentHeight-d._height)),d.contentB.y=f,d.slidV.scrolValue=-d.contentB.y),this.funVisiSlider&&this.funVisiSlider()},this.initWhell=function(){this.boolWhell=!0,this.content.interactive=!0,pl102Wheel.on(this.content,"mousewheel",this.wheelDrag)},this.arrSortedId=[],this.filter=function(t){this.arrSortedId=[];for(var i=0;i<this.arrBtn.length;i++){var h=1==t(this.arrBtn[i],i,this.arrBtn);h&&this.arrSortedId.push(this.arrBtn[i].idArr),this.arrBtn[i].visible=h}this.draw()},this.korektWidth=function(){this.width=this._stepW*(this._wh+this.otstup)},this.editSlidByPoved=function(){0===this.povedSlid&&(this.slidV.width=bigMenu.scrolWidth,this.slidV.offsetHit=0),1===this.povedSlid&&!0===this._boolLeft&&(this.slidV.width=bigMenu.scrolWidth/2,this.slidV.x=-this.slidV.width,this.slidV.offsetHit=bigMenu.scrolWidth/2)},this.setFilterName=function(t){this.filterName=t,this.filter(function(i){if(!i.obj.product&&!i.obj.arrObjPar)return!0;if(i.obj.arrObjPar){if(void 0!==d.theme&&null!==d.theme){for(var h=!1,e=0;e<i.obj.arrObjPar.length;e++){var s=i.obj.arrObjPar[e].product;if(!s)return!0;for(var o=s.theme,n=0;n<d.theme.length;n++)if(d.theme[n]==o){h=!0;break}}if(0==h)return!1}return void 0===t&&(t=d.textAll),d.textAll,!0}if(void 0!==d.theme&&null!==d.theme){for(h=!1,n=0;n<d.theme.length;n++)d.theme[n]==i.obj.product.theme&&(h=!0);if(0==h)return!1}return void 0===t&&(t=d.textAll),t===d.textAll||t==i.obj.product.categoryId}),this.arrLoadedImgId=this.arrSortedId,this.startLoad()}}Object.defineProperty(i,"__esModule",{value:!0}),i.PLGalleryADM=e,e.prototype={set theme(t){this._theme!=t&&(this._theme=t,this.setFilterName(this.filterName),this.draw())},get theme(){return this._theme},set stepW(t){this._stepW!=t&&(this._stepW=t,this.korektWidth(),this.draw())},get stepW(){return this._stepW},set height(t){if(this._height!=t){this._height=t;for(var i=0;i<this.arrBtn.length;i++)this.arrBtn[i].galeri&&(this.arrBtn[i].galeri.height=this._height);this.draw()}},get height(){return this._height},set width(t){this._width!=t&&(this._width=t,0==this._boolLeft&&(this.slidV.x=this._width-this.slidV.width),this.editSlidByPoved())},get width(){return this._width},set wh(t){if(this._wh!=t){this._wh=t,this.kont.width=this._wh,this.kont.height=this._wh;for(var i=0;i<this.oldArrBtn.length;i++)this.oldArrBtn[i].width=this.arrBtn[i].height=this._wh;this.korektWidth(),this.draw()}},get wh(){return this._wh},set x(t){this._x=t,this.content.x=t},get x(){return this._x},set y(t){this._y=t,this.content.y=t},get y(){return this._y},set visible(t){this._visible=t,this.content.visible=t},get visible(){return this._visible},set boolLeft(t){this._boolLeft=t,0==this._boolLeft?this.slidV.x=this._width-10:this.slidV.x=0,this.editSlidByPoved()},get boolLeft(){return this._boolLeft},set butVisiblePanel(t){this._butVisiblePanel=t;for(var i=0;i<this.arrBtn.length;i++)this.arrBtn[i].visiblePanel=this._butVisiblePanel,this.arrBtn[i].galeri&&(this.arrBtn[i].galeri.butVisiblePanel=this._butVisiblePanel)},get butVisiblePanel(){return this._butVisiblePanel},set otstupImg(t){this._otstupImg!=t&&(this._otstupImg=t)},get otstupImg(){return this._otstupImg},set visiItem(t){this._visiItem!=t&&(this._visiItem=t)},get visiItem(){return this._visiItem},set colorThick(t){this._colorThick!=t&&(this._colorThick=t)},get colorThick(){return this._colorThick},set kontThick(t){this._kontThick!=t&&(this._kontThick=t)},get kontThick(){return this._kontThick},set index(t){this._index!=t&&(this._index=t,this.kont.visible=!1,null!=this.arrBtn[this._index]?(this.kont.x=this.arrBtn[this._index].x,this.kont.y=this.arrBtn[this._index].y,this.kont.visible=!0):(this.contentB.y=0,this.slidV.scrolValue=0))},get index(){return this._index},set visibleIndex(t){this._visibleIndex!=t&&(this._index=t,this.contentKont.visible=t)},get visibleIndex(){return this._visibleIndex},set value(t){var i=!0;if(this._value=t,null!=this.object)for(var h=0;h<this.arrBtn.length;h++)if(this.arrBtn[h].obj.id==t){this.index=h,i=!1,this.boolLink=!1;break}1==i&&(this.index=-1)},get value(){return this._value}}},function(t,i,h){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0});var e=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var h in t)if(Object.prototype.hasOwnProperty.call(t,h)){var e=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,h):{};e.get||e.set?Object.defineProperty(i,h,e):i[h]=t[h]}return i.default=t,i}(h(3));for(var s in Object.keys(e).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return e[t]}})}),e)t[s]=e[s]}).call(this,h(2))},function(t,i){var h;h=function(){return this}();try{h=h||new Function("return this")()}catch(t){"object"==typeof window&&(h=window)}t.exports=h},function(t,i,h){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=h(4);Object.keys(e).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return e[t]}})});var s=h(0);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return s[t]}})});var o=h(5);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return o[t]}})});var n=h(6);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return n[t]}})});var r=h(7);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return r[t]}})});var a=h(8);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return a[t]}})});var l=h(9);Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return l[t]}})});var u=h(10);Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return u[t]}})});var c=h(11);Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return c[t]}})});var p=h(12);Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return p[t]}})});var d=h(13);Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return d[t]}})});var _=h(14);Object.keys(_).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return _[t]}})});var f=h(15);Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return f[t]}})});var g=h(16);Object.keys(g).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return g[t]}})});var m=h(17);Object.keys(m).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return m[t]}})});var v=h(18);Object.keys(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return v[t]}})});var w=h(19);Object.keys(w).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return w[t]}})});var b=h(20);Object.keys(b).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return b[t]}})});var y=h(21);Object.keys(y).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return y[t]}})});var P=h(22);Object.keys(P).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return P[t]}})});var C=h(23);Object.keys(C).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return C[t]}})});var x=h(24);Object.keys(x).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return x[t]}})})},function(t,i,h){"use strict";function e(t,i,h){PIXI.Container.call(this),this.type="ScrollPane";var e,s,o,n,r=this;t&&(t.addChild(this),this.x=i,this.y=h),this._debug=!1,this._isCutMask=!0,this._otstup=0,this._width=100,this._height=100,this._widthContent=100,this._heightContent=100,this._isInside=!1,this._sizeScroll=7,this._boolPositScrol=!0,this._boolPositOtctup=!1,this.arrDom=[],this.cont=new PIXI.Container,this.content=new PIXI.Container,this.gmask=new PIXI.Graphics,this.graphics=new PIXI.Graphics,this.cont.addChild(this.content),this.addChild(this.graphics),this.addChild(this.gmask),this.addChild(this.cont),this.scrollBarH=new PLScrollBarH(this,0,0,function(){this.widthContent>this.width&&(r.content.x=-this.scrolValue),u()}),this.scrollBarH.graphics.buttonMode=!0,this.scrollBarV=new PLScrollBarV(this,0,0,function(){this.heightContent>this.height&&(r.content.y=-this.scrolValue),u()}),this.scrollBarV.graphics.buttonMode=!0,this.updateArrDom=function(){this.arrDom=function t(i){var h=[];if("PLDOMElement"===i.type)return h.push(i),h;for(var e in i.children)h=h.concat(t(i.children[e]));return h}(this.content),u()},this.update=function(){this.updateArrDom()},this.addContent=function(t){this.content.addChild(t),this.updateArrDom(),u()},this.removeContent=function(t){this.content.removeChild(t),this.updateArrDom(),u()},this.draw=function(){this.graphics.clear(),this.graphics.beginFill(3289855,.4),this.graphics.drawRect(0,0,this._width,this._height),this.graphics.visible=this._debug,e=this._widthContent,s=this._heightContent,e>this._width?this.scrollBarH.visible=!0:this.scrollBarH.visible=!1,s>this._height?this.scrollBarV.visible=!0:this.scrollBarV.visible=!1,this.scrollBarV.width=this._sizeScroll,this.scrollBarH.height=this._sizeScroll,this.scrollBarV.height=this._height,this.scrollBarH.width=this._width,this.scrollBarH.widthContent=e,this.scrollBarV.heightContent=s,this.scrollBarH.scrolValue=-this.content.x,this.scrollBarV.scrolValue=-this.content.y,this.content.x=-this.scrollBarH.scrolValue,this.content.y=-this.scrollBarV.scrolValue,o=e>this._width?this._width:e,n=s>this._height?this._height:s,this.ww=e,this.wM=o,this.hh=s,this.hM=n,this._boolPositScrol?this._boolPositOtctup?(this.scrollBarH.y=n-this.otstup-this._sizeScroll,this.scrollBarV.x=o-this.otstup-this._sizeScroll):(this.scrollBarH.y=n+this.otstup,this.scrollBarV.x=o+this.otstup):this._boolPositOtctup?(this.scrollBarH.y=this.otstup,this.scrollBarV.x=this.otstup):(this.scrollBarH.y=-this.otstup-this._sizeScroll,this.scrollBarV.x=-this.otstup-this._sizeScroll),this.gmask.clear(),this.gmask.beginFill(65280,0),this.gmask.drawRect(0,0,this._width,this._height),r._isCutMask?this.content.mask=this.gmask:this.content.mask=null,u()},this.innerRect=new PIXI.Rectangle,this.point=new PIXI.Point,this.point1=new PIXI.Point;var a,l=new PIXI.Point;function u(){a=0==pl102.devas?1/window.devicePixelRatio:1,l.set(0,0);var t=r.toGlobal(l);l.set(r._width,r._height);var i=r.toGlobal(l);for(var h in i.x*=a,i.y*=a,t.x*=a,t.y*=a,r.arrDom){var e=r.arrDom[h];e._recursivePostUpdateTransform();var s=e.htmlElement,o=s.getBoundingClientRect(),n=o.width/s.offsetWidth,u=o.height/s.offsetHeight,c=(i.y-o.y)/u,p=(t.y-o.y)/u,d=(i.x-o.x)/n,_=(t.x-o.x)/n;r._isCutMask?s.style.clip="rect("+p+"px, "+d+"px, "+c+"px, "+_+"px)":s.style.clip=null}}if(this._debug){var c=new PIXI.Container;new PLInput(c,0,0),new PLInput(c,0,40),new PLInput(c,30,80),new PLInput(c,50,120),new PLInput(c,0,160);var p=new PIXI.Container;p.position.set(120,50),p.scale.set(.5,.5),new PLInput(p,0,0),new PLInput(p,0,40),new PLInput(p,30,80),new PLInput(p,50,120),new PLInput(p,0,160),c.addChild(p);var d=new PIXI.Container;d.position.set(200,50),d.scale.set(2.5,2.5),new PLInput(d,0,0),new PLInput(d,0,40),new PLInput(d,30,80),new PLInput(d,50,120),new PLInput(d,0,160),c.addChild(p),c.addChild(d),this.addContent(c),this.g=new PIXI.Graphics,this.addContent(this.g),this._heightContent=300,this._widthContent=360,this.g.clear(),this.g.beginFill(14483677,.2),this.g.drawRect(0,0,this._widthContent,this._heightContent),this.g.drawCircle(this._widthContent/2,this._heightContent/2,10)}this.sahDelta=20,this.mousewheel=function(t){r.scrollBarV.visible?(r.scrollBarV.scrolValue-=10*t.delta,r.scrollBarV.fun()):r.scrollBarH.visible&&(r.scrollBarH.scrolValue-=10*t.delta,r.scrollBarH.fun()),u()},this.draw(),this.boolWheel=!0}Object.defineProperty(i,"__esModule",{value:!0}),i.ScrollPane=e,e.prototype=Object.create(PIXI.Container.prototype),e.prototype.constructor=e,Object.defineProperties(e.prototype,{boolWheel:{set:function(t){this._boolWheel!=t&&(this._boolWheel=t,this.interactive=this._boolWheel,1==this._boolWheel?pl102Wheel.on(this,"mousewheel",this.mousewheel):pl102Wheel.off(this,"mousewheel",this.mousewheel))},get:function(){return this._boolWheel}},boolPositScrol:{set:function(t){this._boolPositScrol!=t&&(this._boolPositScrol=t,this.draw())},get:function(){return this._boolPositScrol}},boolPositOtctup:{set:function(t){this._boolPositOtctup!=t&&(this._boolPositOtctup=t,this.draw())},get:function(){return this._boolPositOtctup}},sizeScroll:{set:function(t){this._sizeScroll!=t&&(this._sizeScroll=t,this.draw())},get:function(){return this._sizeScroll}},width:{set:function(t){this._width!=t&&(this._width=t,this.draw())},get:function(){return this._width}},height:{set:function(t){this._height!=t&&(this._height=t,this.draw())},get:function(){return this._height}},widthContent:{set:function(t){this._widthContent!=t&&(this._widthContent=t,this.draw())},get:function(){return this._widthContent}},heightContent:{set:function(t){this._heightContent!=t&&(this._heightContent=t,this.draw())},get:function(){return this._heightContent}},debug:{set:function(t){this._debug!=t&&(this._debug=t,this.graphics.visible=t)},get:function(){return this._debug}},otstup:{set:function(t){this._otstup!=t&&(this._otstup=t,this.draw())},get:function(){return this._otstup}},isCutMask:{set:function(t){this._isCutMask!=t&&(this._isCutMask=t,this.draw())},get:function(){return this._isCutMask}}})},function(t,i,h){"use strict";function e(t,i){PIXI.Container.call(this),this.type="PLArrayFon";var h,e;t.addChild(this),this.content=new PIXI.Container,this.addChild(this.content),this.contentGraph=new PIXI.Container,this.addChild(this.contentGraph),this.link=i||pl102.base,this._width=100,this._alphaIm=.3,this.colorLine=10790052,this.lineWidth=1,this.content.alpha=this._alphaIm,this.otstupLineImg=1,this.graphics=new PIXI.Graphics,this.contentGraph.addChild(this.graphics),this.array,this.arrayImage=[],this.setArrFon=function(t){this.array=t,this.clear();for(var i=0;i<this.array.length;i+=2)this.arrayImage[i/2]?this.arrayImage[i/2].visible=!0:((h=new PLImage(this.content,0,0,this.link)).visible=!0,h.width=this._width,this.arrayImage.push(h)),this.arrayImage[i/2].y=this.array[i],this.arrayImage[i/2].height=this.array[i+1]-this.lineWidth-this.otstupLineImg,this.arrayImage[i/2].kontur=!1,this.draw102()},this.editHeight=function(t,i){this._nizNum<=0?(t.height=i,t.y=0):i>this._nizNum?(t.height=this._nizNum,t.y=t.y+i-this._nizNum):t.height=i},this.draw102=function(){this.graphics.clear();for(var t=0;t<this.arrayImage.length;t++)1==this.arrayImage[t].visible&&(e=this.arrayImage[t].y+this.arrayImage[t].height+this.lineWidth+this.otstupLineImg,this.graphics.beginFill(),this.graphics.lineStyle(this.lineWidth,this.colorLine),this.graphics.moveTo(0,e),this.graphics.lineTo(this._width,e),this.graphics.endFill())},this.clear=function(){for(var t=0;t<this.arrayImage.length;t++)this.arrayImage[t].visible=!1,this.arrayImage[t].y=0}}Object.defineProperty(i,"__esModule",{value:!0}),i.PLArrayFon=e,e.prototype=Object.create(PIXI.Container.prototype),e.prototype.constructor=e,Object.defineProperties(e.prototype,{width:{set:function(t){if(this._width!=t){this._width=t;for(var i=0;i<this.arrayImage.length;i++)this.arrayImage[i].width=this._width;this.draw102()}},get:function(){return this._width}},alphaIm:{set:function(t){this._alphaIm!=t&&(this._alphaIm=t,this.content.alpha=t)},get:function(){return this._alphaIm}}})},function(t,i,h){"use strict";function e(t,i,h,e){PIXI.Container.call(this),this.type="PLButSwitch",t.addChild(this);var s=this;this.x=i||0,this.y=h||0,this.fun=e,this._width=100,this._height=pl102.wh,this._index=-1,this._plusArrText=[],this.arrTab=[],this.arrBut=[],this.otstup=10,this.colorActiv=16777215,this.colorNotActiv=pl102.color5,this.content=new PIXI.Container,this.addChild(this.content);var o="";this.addTab=function(t){this.addArr([t])},this.addArr=function(t){for(var i=0;i<t.length;i++){o=t[i]||"text",this.arrTab.push(o),this.getButton().text=o}this.reCount(),this.changeActiv(),this.reposition()},this.setArr=function(t){this.clearTab(),this.addArr(t)},this.getArrTab=function(){for(var t=[],i=0;i<this.arrTab.length;i++)t[i]=this.arrTab[i];return t},this.clearTab=function(){this.arrTab.length=0;for(var t=0;t<this.arrBut.length;t++)this.arrBut[t].visible=!1},this.removeTabByText=function(t){for(var i=0;i<this.arrTab.length;i++)this.arrTab[i]===t&&(this.arrTab.splice(i,1),i=i-2>0?i-2:-1);for(i=0;i<this.arrBut.length;i++)this.arrBut[i].visible&&this.arrBut[i].text===t&&(this.arrBut[i].visible=!1);this.reCount(),this.reposition(),this.index=0},this.reCount=function(){n=0;for(var t=0;t<this.arrBut.length;t++)this.arrBut[t].visible&&(this.arrBut[t].idArr=n,n++)},this.getButton=function(){for(var t=0;t<this.arrBut.length;t++)if(!1===this.arrBut[t].visible){var i=this.arrBut[t];return i.visible=!0,this.arrBut.splice(t,1),this.arrBut.push(i),this.arrBut[this.arrBut.length-1]}var h=new PLButton(this.content,0,0,"",this.butDow);return h.setStile(1),h.label.bold=!1,h.labelOtstup=this.otstup,this.arrBut.push(h),h},this.butDow=function(){s.index=this.idArr,s.fun&&s.fun()};var n=0,r=0;this.reposition=function(){n=0,r=this._width/this.arrTab.length;for(var t=0;t<this.arrBut.length;t++)this.arrBut[t].visible&&(this.arrBut[t].x=r*n,this.arrBut[t].width=r,n++)},this.changeActiv=function(){for(var t=0;t<this.arrBut.length;t++)this.arrBut[t].visible&&(this.arrBut[t].color=this.colorNotActiv,this.arrBut[t].idArr===this._index&&(this.arrBut[t].color=this.colorActiv))}}Object.defineProperty(i,"__esModule",{value:!0}),i.PLButSwitch=e,e.prototype=Object.create(PIXI.Container.prototype),e.prototype.constructor=e,Object.defineProperties(e.prototype,{width:{set:function(t){this._width!==t&&(this._width=t,this.reposition())},get:function(){return this._width}},height:{set:function(t){if(this._height!==t){this._height=t;for(var i=0;i<this.arrBut.length;i++)this.arrBut[i].height=this._height}},get:function(){return this._height}},index:{set:function(t){this._index=t,this.changeActiv()},get:function(){return this._index}},plusArrText:{set:function(t){this.setArr(t)},get:function(){return this.getArrTab()}}})},function(t,i,h){"use strict";function e(t,i,h,e,s,n){PIXI.Container.call(this),this.type="PLComboBoxImage2",this.typeCom="pixi",t.addChild(this);var r,a,l,u=this;this.fun=s,this.funD=n,this.funCompl,this._boolKontur=!1,this._funActiv,this.stageDownBool=!0,this._activ=!1,this._wh=64,this.array=[],this._height=this._wh,this._width=this._wh,this.x=i||0,this.y=h||0,this.button=new PLButton(this,0,0,"",function(){u.activ=!u.activ,u.funD&&u.funD()}),e&&this.button.loadImeg(e),this.button.width=this._wh,this.button.height=this._wh,this.button.boolKontur=this._boolKontur,this.gPlus=this.button.gPlus,this.panel=new PLPanel(this,0,this._height+1),this.panel.visible=this._activ,this.onDown=function(){u.index=this.idArr,this.activLink=!this.activLink,u.fun&&u.fun()},this.addComponent=function(t,i){(r=new o(this.panel.content,0,0,"",this.onDown)).idArr=this.array.length,r.width=this._width,r.height=this._height,r.funComplit=function(){this.load22(),u.funCompl&&u.funCompl()},r.addComponent(t,i),this.array.push(r),this.reposition()},this.reposition=function(){this.button.height=this._height,this.button.width=this._width,this._height<this._width?this.button.image.width=this.button.image.height=this._height:this.button.image.width=this.button.image.height=this._width,a=0;for(var t=0;t<this.array.length;t++)this.array[t].visible&&(this.array[t].y=a,a+=this._height,this.array[t].height=this._height,this.array[t].width=this._width,this.array[t].heightImg=this._height,this.array[t].widthImg=this._width);this.panel.y=this._height,this.panel.width=this._width,this.panel.height=a},this.setStile=function(t,i,h){1==t&&(this.button.panel.nizAlpha=.25,this.button.panel.nizNum=30,this.color=15790320);for(var e=0;e<this.array.length;e++)this.array[e].setStile(t,i,h),this.array[e].setStile2(t,i,h);i&&(this.width=i),h&&(this.height=h)},this.stageDown=function(){var t=u.toLocal(pl102.global);0==u.contains(t.x,t.y)&&(u.activ=!1)},this.contains=function(t,i){return l=u.button.height,u.activ&&(l+=u.panel.height),t>=0&&t<=u.panel.width&&i>=0&&i<=l},this.setButIndexActiv=function(t,i){this._index=t,this.indexActivLink=i},this.getButIndexActiv=function(t){return this._index=t,this.indexActivLink},this.setButVisi=function(t,i){this.array[t].visible=i,this.reposition()}}function s(t,i,h,e){PIXI.Container.call(this),this.type="PLPachkaButton",this.typeCom="pixi",t.addChild(this);var s,n=this;this.fun=e,this.content=new PIXI.Container,this.addChild(this.content),this._activ=!1,this._height=this._wh,this._width=this._wh,this._wh=64,this._otstup=2,this.x=i||0,this.y=h||0,this.array=[],this.onDown=function(){n.index=this.idArr,n.fun&&n.fun()},this.addComponent=function(t,i){(s=new o(this.content,0,0,"",this.onDown)).idArr=this.array.length,s.width=this._wh,s.height=this._wh,s.funComplit=function(){this.load22()},s.addComponent(t,i),this.array.push(s),this.reposition()},this.reposition=function(){for(var t=0;t<this.array.length;t++)this.array[t].x=(this._wh+this._otstup)*t,this.array[t].height=this._wh,this.array[t].width=this._wh,this.array[t].heightImg=this._height,this.array[t].widthImg=this._width},this.setStile=function(t,i,h){1==t&&(this.color=15790320);for(var e=0;e<this.array.length;e++)this.array[e].setStile(t,i,h),this.array[e].setStile2(t,i,h);i&&(this.width=i),h&&(this.height=h)},this.activ=!0}function o(t,i,h,e,s){PLButton.call(this,t,i,h,e,s),this.type="BanonMY",this.typeCom="pixi",this.image2,this._activLink=!1;var o=this;this.addComponent=function(t,i){this.loadImeg(t),null!=i&&(this.image2=new PLImage(this.contentFilt,0,0,i,function(){this.width=o.image.width,this.height=o.image.width}))},this.load22=function(){null!=this.image2&&(this.image2.x=this.image.x,this.image2.y=this.image.y,this.image2.width=this.image.width,this.image2.height=this.image.height,this.activLink=!0)},this.setStile2=function(t,i,h){1==t&&(this.panel.nizAlpha=.25,this.panel.nizNum=30),this.image2&&(this.image2.width=i,this.image2.height=h),i&&(this.width=i),h&&(this.height=h)}}function n(t,i,h){PIXI.Container.call(this),this.type="PLPanel";var e=this;t.addChild(this),pl102.addElement(this),this.x=i||0,this.y=h||0,this._width=100,this._height=100,this.init=function(){this.w=new PLWindow(this,0,0,"DebugPLCBI2"),this.w.width=200,this.w.height=200,this.s1=new PLSliderBig(this.w.content,0,0,"height",function(){t.height=this.value,e.s2.value=t.width,e.s3.value=t.height},20,200),this.s1.width=this.w.width-10,this.s1.value=t.wh,this.s2=new PLSliderBig(this.w.content,0,50,"width",function(){t.width=this.value,e.s1.value=t.height,e.s3.value=t.wh},20,200),this.s2.width=this.w.width-10,this.s2.value=t.width,this.s3=new PLSliderBig(this.w.content,0,100,"wh",function(){t.wh=this.value,e.s1.value=t.height,e.s1.value=t.width},20,200),this.s3.width=this.w.width-10,this.s3.value=t.wh,this.but=new PLButton(this.w.content,5,165,"setStile",function(){t.setStile(1,100,100)}),this.but.width=this.w.width-10},this.init()}function r(t,i,h,e,s){PIXI.Container.call(this),this.type="PLSliderBigRad",t.addChild(this);var o=this;this.fun=s,this.x=i,this.y=h,this._width=100,this._height=pl102.wh+18,this._value=0,this._title=e||"----",this._activMouse=!0,this._colorText=pl102.color1,this.content=new PIXI.Container,this.addChild(this.content),this.slider=new PLSliderBig(this.content,0,0,this._title,function(){o._value=this.value*Math.PI/180,o.fun&&o.fun()},0,360),this.slider.slid.contPrilip.visible=!1,this.setText=function(t){this.slider.setText(t)},this.funUp,this.slider.funUp=function(){null!=o.funUp&&o.funUp()},this.slider.addPrilip(0,10),this.slider.addPrilip(90,10),this.slider.addPrilip(180,10),this.slider.addPrilip(270,10),this.slider.addPrilip(360,10),this.numPi=2,this.gradInFrame=function(t){var i=t,h=~~(i/Math.PI);if(i<=0){var e=-1*h;e+=e%2==0?2:1,i=Math.PI*e+i}return i>=2*Math.PI&&(h%2==0?this.numPi=h:h<this.numPi&&(this.numPi=h-1),i-=Math.PI*this.numPi),i},Object.defineProperty(this,"okrug",{set:function(t){this._okrug!=t&&(this._okrug=t,this.slider.okrug=this._okrug)},get:function(){return this._okrug}}),Object.defineProperty(this,"min",{set:function(t){this._min!=t&&(this._min=t,this.slider.min=this._min)},get:function(){return this._min}}),Object.defineProperty(this,"max",{set:function(t){this._max!=t&&(this._max=t,this.slider.max=this._max)},get:function(){return this._max}}),Object.defineProperty(this,"title",{set:function(t){this._title!=t&&(this._title=t,this.slider.title=this._title)},get:function(){return this._title}}),Object.defineProperty(this,"width",{set:function(t){this._width=t,this.slider.width=this._width},get:function(){return this._width}}),Object.defineProperty(this,"height",{get:function(){return this.slider.height}}),Object.defineProperty(this,"value",{set:function(t){this._value!=t&&(t=this.gradInFrame(t),this._value=t,this.slider.value=180*t/Math.PI,360==this.slider.value&&(this.slider.value=0),this._value=this.slider.value*Math.PI/180)},get:function(){return this._value}}),Object.defineProperty(this,"activMouse",{set:function(t){this._activMouse!=t&&(this._activMouse=t,this.slider.activMouse=this._activMouse)},get:function(){return this._activMouse}}),Object.defineProperty(this,"colorText",{set:function(t){this._colorText!=t&&(this._colorText=t,this.slider.colorText=this._colorText)},get:function(){return this._colorText}})}function a(t,i,h,e){PIXI.Container.call(this),t.addChild(this),this.type="PLPachkaButton2",this.typeCom="pixi";var s=this;this.fun=e,this._activ=!1,this._wh=64,this._height=this._wh,this._width=this._wh,this._title=[],this._index=0,this._value=this._index,this.activBtnState=[],this._otstup=1,this.otstupImg=3,this.valueBtn=!1,this.array=[],this.notUp=[],this.x=i||0,this.y=h||0,this.content=new PIXI.Container,this.addChild(this.content);var o,n=!1;this.onDown=function(t){(n=s.checkNotUp(this.idArr))?this.activ=!this.activ:t||(this.activ=!0),s.index=this.idArr,s.valueBtn=this.value,setTimeout(function(){s.updateBtnState(),s.fun&&s.fun()},100)},this.updateBtnState=function(){for(var t=0;t<this.array.length;t++)!0===this.checkNotUp(t)?this.activBtnState[t]=this.array[t].activ:this.activBtnState[t]=!1},this.onUp=function(){s.activNot()},this.activNot=function(){!0!==n&&(this.array[this.index].activ=!1)},this.checkNotUp=function(t){for(var i=0;i<this.notUp.length;i++)if(this.notUp[i]==t)return!0;return!1},this.contentPanel=new PIXI.Container,this.content.addChild(this.contentPanel),this.arrPanel=[],this.getPanel=function(){for(var t=0;t<this.arrPanel.length;t++)if(!this.arrPanel[t].visible)return this.arrPanel[t].visible=!0,this.arrPanel[t];return this.arrPanel[t]=new PLButton(this.contentPanel,0,0,""),this.arrPanel[t].graphInter.interactive=!1,this.arrPanel[t].graphInter.buttonMode=!1,this.arrPanel[t]},this.clearPanel=function(){for(var t=0;t<this.arrPanel.length;t++)this.arrPanel[t].visible=!1},this.addComponent=function(t){1==Array.isArray(t)?((o=new PLCheckBoxImage(this.content,0,0,t[0],t[1],"")).idArr=this.array.length,o.but.panel.image.visible=!0,o.but1.panel.image.visible=!0,o.width=this._wh,o.height=this._wh,o.fun=this.onDown):((o=new PLButton(this.content,0,0,"")).idArr=this.array.length,o.width=this._wh,o.height=this._wh,o.otstup=this.otstupImg,o.loadImeg(t),o.funUp=this.onUp,o.fun=this.onDown,o.funDownFile=this.onDown),this.activBtnState.push(o.activ),this.array.push(o),this.reposition()};this.reposition=function(){for(var t=this.array.length-1;t>=0;t--)this.array[t].x=this._wh*t+this._otstup*(t+1),this.array[t].height=this._wh,this.array[t].width=this._wh;this.fillPanel()},this.setStile=function(t,i,h){i&&(this.width=i),h&&(this.height=h)},this.fillPanel=function(){this.clearPanel();for(var t=[],i=0;i<this._title.length;i++){var h=t.length%2==0;0==this._title[i]&&h?t.push(i):0==this._title[i]||h||t.push(i)}t.length%2!=0&&t.push(i);var e=t.length/2,s=0;for(i=0;i<e;i++){var o=this.getPanel(),n=this._wh*t[s]+this._otstup*(t[s]+1),r=this._wh*t[s+1]+this._otstup*t[s+1];o.x=n,o.width=r-n,o.height=this._height,s+=2}},this.activ=!0}function l(t,i,h,e){PIXI.Container.call(this),t.addChild(this),this.type="PLPachkaCheckBoxImage",this.typeCom="pixi";var s,o=this;this.fun=e,this.x=i||0,this.y=h||0,this._activ=!1,this._wh=64,this._height=this._wh,this._width=this._wh,this._index=-1,this._value=-1,this._arrayActiv=[],this._activContur=!1,this._otstup=2,this._link="null",this._link1="null",this._activMouse=!0,this._isIlumActiv=!1,this.contTrick=-2,this.typeDown=0,this.color1=7171696,this.object="null",this.arrayBtn=[],this.array=[],this._poved=0,this.content=new PIXI.Container,this.addChild(this.content),this.contur=new PLContur(this,0,0),this.contur.visible=!1,this.contur.color=this.color1,this.contur.thickness=this.contTrick,this._activContur&&(this.contur.visible=!0),this.onDown=function(){if(this.object&&(o.object=this.object),o._value=this.idArr,0==o.typeDown&&(o._index=this.idArr),1==o.typeDown&&(o.index=this.idArr,o.index==this.idArr&&(this.value=!0)),1==o._poved)for(var t=0;t<o.arrayBtn.length;t++)t==o._index?o.arrayBtn[t].activ=!0:o.arrayBtn[t].activ=!1;o.contur.x=o.arrayBtn[this.idArr].x,o.contur.y=o.arrayBtn[this.idArr].y,o._arrayActiv[this.idArr]=this.value,o.fun&&o.fun()},this.setArr=function(t){this.array=t;for(var i=0;i<this.array.length;i+=2)this.addComponent(this.array[i],this.array[i+1])},this.setWH=function(t,i){for(var h=0;h<this.arrayBtn.length;h++)this.arrayBtn[h].x=0,this.arrayBtn[h].width=t,this.arrayBtn[h].height=i,this.arrayBtn[h].x=(t+this._otstup)*h;this.contur.width=t,this.contur.height=i,this._height=i},this.addComponent=function(t,i){(s=new PLCheckBoxImage(this.content,0,0,t,i,this.onDown)).kontur=!0,s.isIlumActiv=this._isIlumActiv,s.setStile(1,this._wh,this._wh),s.idArr=this.arrayBtn.length,s.width=this._wh,s.height=this._wh,this._arrayActiv.push(s.value),this.arrayBtn.push(s),this.reposition()},this.reposition=function(){0==this.arrayBtn.length?this._wh=this._width:this._wh=(this._width-(this.arrayBtn.length-1)*this._otstup)/this.arrayBtn.length;for(var t=0;t<this.arrayBtn.length;t++)this.arrayBtn[t].x=(this._wh+this._otstup)*t,this.arrayBtn[t].height=this._wh,this.arrayBtn[t].width=this._wh;this.contur.width=this._wh,this.contur.height=this._wh,this._height=this._wh},this.setIcons=function(t,i){this.link=t,this.link1=i},this.clear=function(){},this.setStile=function(){},this.setActivMouse=function(t,i){this.arrayBtn[t].activMouse=i}}function u(t,i,h,e){PIXI.Container.call(this),t.addChild(this),this.type="PLPachkaImgBut",this.typeCom="pixi";var s,o,n=this;this.fun=e,this.x=i||0,this.y=h||0,this._activ=!1,this._wh=64,this._height=this._wh,this._width=this._wh,this._index=-1,this._value=-1,this._arrayActiv=[],this._otstup=2,this._link="null",this._link1="null",this._activMouse=!0,this.contTrick=-2,this.typeDown=0,this.color1=7171696,this.arrayBtnImg=[],this.arrayButton=[],this.array=[],this.content=new PIXI.Container,this.addChild(this.content);for(var r=0;r<this.arrayBtnImg.length;r++)this.arrayBtnImg[r].setStile(0,this.arrayBtnImg[r].width,this.arrayBtnImg[r].height),this.arrayButton[r].setStile(0,this.arrayButton[r].width,this.arrayButton[r].height);this.onDown=function(){n._value=this.idArr,n.index=this.idArr;for(var t=0;t<n.arrayButton.length;t++)n.arrayButton[t].activ=t===n._index,n.arrayBtnImg[t].activ=!1;n._arrayActiv[this.idArr]=this.value,n.fun&&n.fun()},this.setArr=function(t){this.array=t;for(var i=0;i<this.array.length;i+=2)this.addComponent(this.array[i],this.array[i+1])},this.setWH=function(t,i){for(var h=0;h<this.arrayBtnImg.length;h++)this.arrayBtnImg[h].x=0,this.arrayBtnImg[h].width=t,this.arrayBtnImg[h].height=i,this.arrayBtnImg[h].x=(t+this._otstup)*h,this.arrayButton[h].x=(t+this._otstup)*h,this.arrayButton[h].y=this.arrayBtnImg[h].height,this.arrayButton[h].width=t;this._height=i},this.arrayButton=[],this.addComponent=function(t,i){(s=new PLButton(this.content,0,0,"",this.onDown,t)).setStile(1,this._wh,this._wh),s.idArr=this.arrayBtnImg.length,s.boolKontur=!0,s.funOut=u,s.funOver=c,(o=new PLButton(this.content,0,0,i,this.onDown)).idArr=this.arrayBtnImg.length,o.funOut=u,o.funOver=c,this._arrayActiv.push(s.value),this.arrayBtnImg.push(s),this.arrayButton.push(o),this.reposition()},this.reposition=function(){0==this.arrayBtnImg.length?this._wh=this._width:this._wh=(this._width-(this.arrayBtnImg.length-1)*this._otstup)/this.arrayBtnImg.length;for(var t=0;t<this.arrayBtnImg.length;t++)this.arrayBtnImg[t].x=(this._wh+this._otstup)*t,this.arrayBtnImg[t].height=this._wh,this.arrayBtnImg[t].width=this._wh,this.arrayButton[t].x=this.arrayBtnImg[t].x,this.arrayButton[t].y=this._wh,this.arrayButton[t].width=this._wh;this._height=this._wh,0!=this.arrayButton.length&&(this._height+=this.arrayButton[0].height)},this.clear=function(){},this.setStile=function(){};var a=!0,l=!0;function u(t){!1!==a&&(a=!1,void 0===this.image?n.arrayBtnImg[this.idArr].mouseOut(t):n.arrayButton[this.idArr].mouseOut(t),a=!0)}function c(t){!1!==l&&(l=!1,void 0===this.image?n.arrayBtnImg[this.idArr].mouseOver(t):n.arrayButton[this.idArr].mouseOver(t),l=!0)}}Object.defineProperty(i,"__esModule",{value:!0}),i.PLComboBoxImage2=e,i.PLPachkaButton=s,i.DebugPLCBI2=n,i.PLSliderBigRad=r,i.PLPachkaButton2=a,i.PLPachkaCheckBoxImage=l,i.PLPachkaImgBut=u,e.prototype=Object.create(PIXI.Container.prototype),e.prototype.constructor=e,Object.defineProperties(e.prototype,{activ:{set:function(t){this._activ!=t&&(this._activ=t,this.button.activ=this._activ,this.panel.visible=this._activ,1==this.stageDownBool&&(1==this._activ?pl102.stage.on("mousedown",this.stageDown):pl102.stage.off("mousedown",this.stageDown)))},get:function(){return this._activ}},funActiv:{set:function(t){this._funActiv!=t&&(this._funActiv=t,this.button.funActiv=this._funActiv)},get:function(){return this._activ}},height:{set:function(t){this._height!=t&&(this._height=t,this.reposition())},get:function(){return this._height}},width:{set:function(t){this._width!=t&&(this._width=t,this.reposition())},get:function(){return this._width}},wh:{set:function(t){this._width!=t&&(this._wh=t,this._width=t,this._height=t,this.reposition())},get:function(){return this._wh}},index:{set:function(t){this._index=t},get:function(){return this._index}},indexActivLink:{set:function(t){this.array[this._index].activLink=t},get:function(){return this.array[this._index].activLink}},color:{set:function(t){if(this._color!=t){this._color=t,this.button.color=this._color;for(var i=0;i<this.array.length;i++)this.array[i].color=t}},get:function(){return this._color}},boolKontur:{set:function(t){this._boolKontur=t,this.button.boolKontur=this._boolKontur},get:function(){return this._boolKontur}}}),s.prototype=Object.create(PIXI.Container.prototype),s.prototype.constructor=s,Object.defineProperties(s.prototype,{activ:{set:function(t){this._activ!=t&&(this._activ=t)},get:function(){return this._activ}},height:{set:function(t){this._height!=t&&(this._height=t,this._width=t,this._wh=t,this.reposition())},get:function(){return this._height}},width:{set:function(t){this._width!=t&&(this._width=t,this.wh=(this._width-(this.array.length-1)*this._otstup)/this.array.length,this._height=this._wh)},get:function(){return this._width}},wh:{set:function(t){this._width!=t&&(this._wh=t,this.reposition())},get:function(){return this._wh}},index:{set:function(t){if(this._index!=t){this._index=t;for(var i=0;i<this.array.length;i++)i==this._index?this.array[i].activLink=!0:this.array[i].activLink=!1}},get:function(){return this._index}},value:{set:function(t){this._index!=t&&(this.index=t)},get:function(){return this._index}},indexActivLink:{set:function(t){this.array[this._index].activLink=t},get:function(){return this.array[this._index].activLink}},color:{set:function(t){if(this._color!=t){this._color=t;for(var i=0;i<this.array.length;i++)this.array[i].color=t}},get:function(){return this._color}},otstup:{set:function(t){this._otstup!=t&&(this._otstup=t,this.reposition())},get:function(){return this._otstup}}}),o.prototype=Object.create(PLButton.prototype),o.prototype.constructor=o,Object.defineProperties(o.prototype,{activLink:{set:function(t){this._activLink!=t&&(this._activLink=t,this.image2&&(this.image.visible=t,this.image2.visible=!t))},get:function(){return this._activLink}},heightImg:{set:function(t){this.image.height!=t&&(this._height<this._width?this.image.width=this.image.height=this._height:this.image.width=this.image.height=this._width,this.image2&&(this.image2.width=this.image2.height=this.image.height))},get:function(){return this._height}},widthImg:{set:function(t){this.image.width!=t&&(this._height<this._width?this.image.width=this.image.height=this._height:this.image.width=this.image.height=this._width,this.image2&&(this.image2.width=this.image2.height=this.image.height))},get:function(){return this._width}}}),n.prototype=Object.create(PLButton.prototype),n.prototype.constructor=n,r.prototype=Object.create(PIXI.Container.prototype),r.prototype.constructor=r,a.prototype=Object.create(PIXI.Container.prototype),a.prototype.constructor=a,Object.defineProperties(a.prototype,{title:{set:function(t){if(this._title=t,null!=this._title.length&&this._title.length==this.array.length)for(var i=0;i<this.array.length;i++)this.array[i].visible=0!=this._title[i],this.array[i].visible&&(this.array[i].activMouse=1==this._title[i]);this.reposition()},get:function(){return this._title}},activ:{set:function(t){this._activ!=t&&(this._activ=t)},get:function(){return this._activ}},height:{set:function(t){this._height!=t&&(this._height=t,this._width=t,this._wh=t,this.reposition())},get:function(){return this._height}},width:{set:function(t){this._width!=t&&(this._width=t,this.wh=(this._width-(this.array.length-1)*this._otstup)/this.array.length,this._height=this._wh,this.reposition())},get:function(){return this._width}},wh:{set:function(t){this._width!=t&&(this._wh=t,this.reposition())},get:function(){return this._wh}},index:{set:function(t){if(this._index!=t){this._index=t;for(var i=0;i<this.array.length;i++)i==this._index?this.array[i].activLink=!0:this.array[i].activLink=!1}},get:function(){return this._index}},value:{set:function(t){this._index!=t&&(this.index=t)},get:function(){return this._index}},indexActivLink:{set:function(t){this.array[this._index].activLink=t},get:function(){return this.array[this._index].activLink}},color:{set:function(t){if(this._color!=t){this._color=t;for(var i=0;i<this.array.length;i++)this.array[i].color=t}},get:function(){return this._color}},otstup:{set:function(t){this._otstup!=t&&(this._otstup=t,this.reposition())},get:function(){return this._otstup}}}),l.prototype=Object.create(PIXI.Container.prototype),l.prototype.constructor=l,Object.defineProperties(l.prototype,{height:{set:function(t){this._height!=t&&(this._height=t)},get:function(){return this._height}},width:{set:function(t){this._width!=t&&(this._width=t,this.reposition())},get:function(){return this._width}},wh:{set:function(t){this._width!=t&&(this._wh=t,this.reposition())},get:function(){return this._wh}},index:{set:function(t){if(this._index!=t){this._index=t;for(var i=0;i<this.arrayBtn.length;i++)i==this._index?(this.contur.x=this.arrayBtn[i].x,this.contur.y=this.arrayBtn[i].y,this.arrayBtn[i].value=!0):this.arrayBtn[i].value=!1;if(1==this._poved)for(i=0;i<this.arrayBtn.length;i++)i==this._index?this.arrayBtn[i].activ=!0:this.arrayBtn[i].activ=!1}},get:function(){return this._index}},value:{set:function(t){this._value!=t&&(this._value=t)},get:function(){return this._value}},arrayActiv:{set:function(t){if(Array.isArray(t))for(var i=0;i<t.length;i++)this._arrayActiv[i]=t[i],this.arrayBtn[i].value=t[i]},get:function(){return this._arrayActiv}},otstup:{set:function(t){this._otstup!=t&&(this._otstup=t,this.reposition())},get:function(){return this._otstup}},activContur:{set:function(t){this._activContur!=t&&(this._activContur=t,this.contur.visible=this._activContur)},get:function(){return this._activContur}},link:{set:function(t){this._link=t,this.arrayBtn[this._index].link=t},get:function(){return this._link}},link1:{set:function(t){this._link1=t,this.arrayBtn[this._index].link1=t},get:function(){return this._link1}},activMouse:{set:function(t){if(this._activMouse!=t){this._activMouse=t;for(var i=0;i<this.arrayBtn.length;i++)this.arrayBtn[i].activMouse=this._activMouse;this._activMouse||(this.activContur=!1)}},get:function(){return this._activMouse}},poved:{set:function(t){if(this._poved!=t&&(this._poved=t,0!=this.arrayBtn.length)){if(0==this._poved){this.contur.visible=!0;for(var i=0;i<this.arrayBtn.length;i++)this.arrayBtn[i].setStile(1,this.arrayBtn[i].width,this.arrayBtn[i].height)}if(1==this._poved){this.contur.visible=!1;for(i=0;i<this.arrayBtn.length;i++)this.arrayBtn[i].setStile(0,this.arrayBtn[i].width,this.arrayBtn[i].height)}}},get:function(){return this._poved}},isIlumActiv:{set:function(t){if(this._isIlumActiv!=t){this._isIlumActiv=t;for(var i=0;i<this.arrayBtn.length;i++)this.arrayBtn[i].isIlumActiv=this._isIlumActiv}},get:function(){return this._isIlumActiv}}}),u.prototype=Object.create(PIXI.Container.prototype),u.prototype.constructor=u,Object.defineProperties(u.prototype,{height:{set:function(t){this._height!=t&&(this._height=t)},get:function(){return this._height}},width:{set:function(t){this._width!=t&&(this._width=t,this.reposition())},get:function(){return this._width}},wh:{set:function(t){this._width!=t&&(this._wh=t,this.reposition())},get:function(){return this._wh}},index:{set:function(t){if(this._index!=t){this._index=t;for(var i=0;i<this.arrayButton.length;i++)this.arrayButton[i].activ=i===this._index,this.arrayBtnImg[i].activ=!1}},get:function(){return this._index}},value:{set:function(t){this._value!=t&&(this._value=t)},get:function(){return this._value}},arrayActiv:{set:function(t){if(Array.isArray(t))for(var i=0;i<t.length;i++)this._arrayActiv[i]=t[i],this.arrayBtnImg[i].value=t[i]},get:function(){return this._arrayActiv}},otstup:{set:function(t){this._otstup!=t&&(this._otstup=t,this.reposition())},get:function(){return this._otstup}},link:{set:function(t){this._link=t,this.arrayBtnImg[this._index].link=t},get:function(){return this._link}},activMouse:{set:function(t){if(this._activMouse!=t){this._activMouse=t;for(var i=0;i<this.arrayBtnImg.length;i++)this.arrayBtnImg[i].activMouse=this._activMouse}},get:function(){return this._activMouse}}})},function(t,i,h){"use strict";function e(t,i,h,e){PIXI.Container.call(this),this.type="PLSwitchPachkaBut";var o=this;t.addChild(this),this.content=new PIXI.Container,this.addChild(this.content),this.x=i||0,this.y=h||0,this.fun=e,this._index=-1,this._wComponent=100,this._hComponent=100+pl102.wh,this._height=100,this.array=[],this.arrayComp=[],this.idActivLine=-1,this.setArr=function(t){for(var i=0;i<t.length;i++){if(void 0===this.array[i]){var h=new s;h.idArr=this.array.length,this.array.push(h)}this.array[i].setArr(t[i])}this.array.length=t.length,this.updteArrayComp(),this.array[0]&&(this._wComponent=this.arrayComp[0].width,this._hComponent=this.arrayComp[0].height),this.reposition(),this.reWH()},this.setButPositionArr=function(t){for(var i=0;i<t.length;i++)this.arrayComp[i]&&(this.arrayComp[i].butPosition=t[i])},this.updteArrayComp=function(){for(var t=this.array.length;t<this.arrayComp.length;t++)this.arrayComp[t].visible=!1,this.arrayComp[t].activ=!1;for(t=0;t<this.array.length;t++){if(void 0===this.arrayComp[t]||!1===this.arrayComp[t].visible)this.getCompPachkaBut();this.arrayComp[t].setArr(this.array[t].array,!0)}},this.getCompPachkaBut=function(){for(var t=0;t<this.arrayComp.length;t++)if(!this.arrayComp[t].visible)return this.arrayComp[t].visible=!0,this.arrayComp[t];var i=new n(this.content,0,0,this.funDown);return i.setStile(1),i.idArr=this.arrayComp.length,this.arrayComp.push(i),this.arrayComp[this.arrayComp.length-1]},this.removeById=function(t){void 0!==this.array[t]&&(this.array.splice(t,1),this.updteArrayComp(),this.reposition(),this.index=-1)},this.rewriteData=function(){for(var t=0;t<this.array.length;t++)this.arrayComp[t].link=this.array[t].link,this.arrayComp[t].text=this.array[t].text},this.funDown=function(){this.index===o.identifyBackIndex(o.index)&&o.idActivLine===this.idArr&&(this.arrayComp[o.identifyBackIndex(o.index)].activ=!0),o.idActivLine=this.idArr;var t=o.identifyIndex(this.idArr,this.index,this.array.length);o.index=t,o.fun&&o.fun()},this.getCompWithText=function(){for(var t=[],i=this.arrayComp,h=0;h<i.length;h++)for(var e=0;e<i[h].arrayComp.length;e++)t.push(i[h].arrayComp[e]);return t},this.identifyIndex=function(t,i,h){return i+t*h},this.identifyBackIndex=function(t){var i=-1;return this.idActivLine=-1,this.array[0]&&(this.idActivLine=Math.floor(t/this.array[0].array.length),i=t-this.idActivLine*this.array[0].array.length),i},this.reposition=function(){for(var t=0;t<this.arrayComp.length;t++)this.arrayComp[t].y=this._hComponent*t},this.reWH=function(){if(0!==this.array.length){this._width=this._wComponent,this._height=this._hComponent*this.array.length;for(var t=this.arrayComp.length-1;t>=0;t--)this.arrayComp[t].visible&&(this.arrayComp[t].width=this._wComponent,this.arrayComp[t].height=this._hComponent)}},this.changeActiv=function(){for(var t=this.identifyBackIndex(this._index),i=0;i<this.arrayComp.length;i++)this.arrayComp[i].index=-1;this.arrayComp[o.idActivLine]&&(this.arrayComp[o.idActivLine].index=t)}}function s(){this.type="InfoPachkaLine",this.array=[],this.setArr=function(t){for(var i=0,h=0;h<t.length;h+=2)void 0===this.array[i]&&this.array.push(new o),this.array[i].link=t[h],this.array[i].text=t[h+1],this.array.idArr=i,i++;this.array.length=t.length/2},this.removeById=function(t){this.array.splice(t,1)}}function o(t,i){this.type="InfoImageWithBut",this.link="",this.text=""}function n(t,i,h,e){PIXI.Container.call(this),this.type="PLPachkaButton3";var o=this;t.addChild(this),this.content=new PIXI.Container,this.addChild(this.content),this.x=i||0,this.y=h||0,this.fun=e,this._index=-1,this._wComponent=100,this._hComponent=100+pl102.wh,this._width=this._wComponent,this._height=this._hComponent,this._butPosition=0,this._visible=!0,this.array=[],this.arrayComp=[],this.infoPachkaLine=new s,this.setArr=function(t,i){void 0!==i&&i?this.array=t:(this.infoPachkaLine.setArr(t),this.array=this.infoPachkaLine.array);for(var h=0;h<this.array.length;h++){this.getCompImgBut().butPosition=this._butPosition}for(h=0;h<this.arrayComp.length;h++)this.arrayComp[h].activ=!1;for(h=this.array.length;h<this.arrayComp.length;h++)this.arrayComp[h]&&this.arrayComp[h].visible&&(this.arrayComp[h].visible=!1);this.rewriteData(),this.reposition(),this.reWH()},this.getCompImgBut=function(){for(var t=0;t<this.arrayComp.length;t++)if(!this.arrayComp[t].visible)return this.arrayComp[t].visible=!0,this.arrayComp[t];var i=new r(this.content,0,0,this.funDown);return i.idArr=this.arrayComp.length,-1!==this.stile&&i.setStile(this.stile),this.arrayComp.push(i),this.arrayComp[this.arrayComp.length-1]},this.removeById=function(t){if(void 0!==this.array[t]){this.infoPachkaLine.removeById(t),this.array=this.infoPachkaLine.array;for(var i=this.array.length;i<this.arrayComp.length;i++)this.arrayComp[i].visible=!1,this.arrayComp[i].activ=!1;this.rewriteData(),this.reWH(),this.reposition(),this.index=-1}},this.rewriteData=function(){for(var t=0;t<this.array.length;t++)this.arrayComp[t].link=this.array[t].link,this.arrayComp[t].text=this.array[t].text},this.reposition=function(){if(0!==this.array.length)for(var t=0;t<this.arrayComp.length;t++)this.arrayComp[t].visible&&(this.arrayComp[t].x=this._wComponent*t)},this.reWH=function(){if(0!==this.array.length){this._width=this._wComponent*this.array.length,this._height=this._hComponent;for(var t=this.arrayComp.length-1;t>=0;t--)this.arrayComp[t].visible&&(this.arrayComp[t].width=this._wComponent,this.arrayComp[t].height=this._hComponent)}},this.stile=-1,this.setStile=function(t){this.stile=t;for(var i=0;i<this.arrayComp.length;i++)this.arrayComp[i].setStile(t)},this.funDown=function(){o.index=this.idArr,o.fun&&o.fun()},this.changeActiv=function(){for(var t=0;t<this.arrayComp.length;t++)this.arrayComp[t].visible&&(this.arrayComp[t].activ=!1),this.arrayComp[t].idArr===this._index&&(this.arrayComp[t].activ=!0)}}function r(t,i,h,e){PIXI.Container.call(this),this.type="PLImageWithBut";var s=this;t.addChild(this),this.content=new PIXI.Container,this.addChild(this.content),this.x=i||0,this.y=h||0,this.fun=e,this._activ=!1,this._width=100,this._height=100,this._link="",this._text="text",this._hImage=100,this._hButton=pl102.wh,this._butPosition=0,this._activMouse=!0,this.button=null,this.image=null,this.panel=null,this.init=function(){this._height=this._hImage+this._hButton,this.panel=new PLPanel(this.content,0,0),this.panel.height=this._height,this.button=new PLButton(this.panel.content,0,0,this._tex,this.funDown),this.button.width=this._width,this.button.funOut=r,this.button.funOver=a,this.butImg=new PLButton(this.panel.content,0,0,"",this.funDown),this.butImg.width=this._width,this.butImg.loadImeg(this._link),this.butImg.panel.nizAlpha=0,this.butImg.color=16777215,this.button.funOut=r,this.button.funOver=a,this.button.boolKontur=this.butImg.boolKontur=!0,this.button.konturColor=this.butImg.konturColor=pl102.color11,this.reposition()},this.reposition=function(){0===this._butPosition?(this.button.y=0,this.butImg.y=this.button.height):1===this._butPosition&&(this.butImg.y=0,this.button.y=this.butImg.height)},this.funDown=function(){s.activ=!s.activ,s.fun&&s.fun()},this.setStile=function(t){1===t&&this.button.label.setParam(12,this.button.label.color,!1)};var o=!0,n=!0;function r(t){!1!==o&&(o=!1,void 0===this.butImg?s.butImg.mouseOut(t):s.button.mouseOut(t),o=!0)}function a(t){!1!==n&&(n=!1,void 0===this.butImg?s.butImg.mouseOver(t):s.button.mouseOver(t),n=!0)}this.init()}Object.defineProperty(i,"__esModule",{value:!0}),i.PLSwitchPachkaBut=e,i.PLPachkaButton3=n,e.prototype=Object.create(PIXI.Container.prototype),e.prototype.constructor=e,Object.defineProperties(e.prototype,{index:{set:function(t){this._index!==t&&(this._index=t,this.changeActiv())},get:function(){return this._index}},width:{set:function(t){this._width!==t&&(this._width=t,this._wComponent=this._width,this.reWH(),this.reposition())},get:function(){return this._width}},height:{set:function(t){this._height!==t&&(this._height=t,this._hComponent=this._height/this.array.length,this.reWH(),this.reposition())},get:function(){return this._height}},wComponent:{set:function(t){this._wComponent!==t&&(this._wComponent=t,this.reWH(),this.reposition())},get:function(){return this._wComponent}},hComponent:{set:function(t){this._hComponent!==t&&(this._hComponent=t,this.reWH(),this.reposition())},get:function(){return this._hComponent}}}),n.prototype=Object.create(PIXI.Container.prototype),n.prototype.constructor=n,Object.defineProperties(n.prototype,{index:{set:function(t){this._index!==t&&(this._index=t,this.changeActiv())},get:function(){return this._index}},width:{set:function(t){this._width!==t&&(this._width=t,this._wComponent=this._width/this.array.length,this.reWH(),this.reposition())},get:function(){return this._width}},height:{set:function(t){this._height!==t&&(this._height=t,this._hComponent=this._height,this.reWH(),this.reposition())},get:function(){return this._height}},wComponent:{set:function(t){this._wComponent!==t&&(this._wComponent=t,this.reWH(),this.reposition())},get:function(){return this._wComponent}},hComponent:{set:function(t){this._hComponent!==t&&(this._hComponent=t,this.reWH(),this.reposition())},get:function(){return this._hComponent}},butPosition:{set:function(t){if(this._butPosition!==t){this._butPosition=t;for(var i=0;i<this.arrayComp.length;i++)this.arrayComp[i].visible&&(this.arrayComp[i].butPosition=this._butPosition)}},get:function(){return this._butPosition}},visible:{set:function(t){this._visible=t},get:function(){return this._visible}}}),r.prototype=Object.create(PIXI.Container.prototype),r.prototype.constructor=r,Object.defineProperties(r.prototype,{activ:{set:function(t){this._activ!==t&&(this._activ=t,this.button.activ=this._activ)},get:function(){return this._activ}},width:{set:function(t){this._width!==t&&(this._width=t,this.panel.width=this._width,this.button.width=this._width,this.butImg.width=this._width)},get:function(){return this._width}},height:{set:function(t){this._height!==t&&(this._height=t,this.panel.height=this._height,this.butImg.height=""===this._link?0:this._height-this.button.height,this.reposition())},get:function(){return this._height}},link:{set:function(t){this._link!==t&&(this._link=t,this.butImg.loadImeg(this._link))},get:function(){return this._link}},text:{set:function(t){this._text!==t&&(this._text=t,this.button.text=this._text)},get:function(){return this._text}},hImage:{set:function(t){this._hImage!==t&&(this._hImage=t,this.butImg.height=""===this._link?0:this._hImage,this._height=this._hImage+this._hButton,this.panel.height=this._height,this.reposition())},get:function(){return this._hImage}},hButton:{set:function(t){this._hButton!==t&&(this._hButton=t,this.button.height=this._hButton,this._height=this._hImage+this._hButton,this.panel.height=this._height,this.reposition())},get:function(){return this._hButton}},butPosition:{set:function(t){this._butPosition!==t&&(this._butPosition=t,this.reposition())},get:function(){return this._butPosition}},activMouse:{set:function(t){this._activMouse!==t&&(this._activMouse=t,this.button.activMouse=this._activMouse,this.butImg.activMouse=this._activMouse)},get:function(){return this._activMouse}}})},function(t,i,h){"use strict";function e(t,i,h,e){PLColor.call(this,t,i,h,e),this.type="ColorThree";var s=this;this._value=new THREE.Color,this.pLColorPickerPanel.fun=function(t){s.boolPlus&&s.pLColorPicker.setColor(this.color),"null"==s._text&&(s.button.text=this.color),s.button.color=this.color,s._color=+this.color,s._value.set(s._color),s.fun&&s.fun(),null==t&&s.setVisiblePanel(!1)},this.pLColorPicker.fun=function(){"null"==s._text&&(s.button.text=s.corectForBtn(this.color)),s.button.color=this.color,s._color=this.color,s._value.set(s._color),s.pLColorPickerPanel.setColor(this.color),s.fun&&s.fun()},Object.defineProperty(this,"value",{set:function(t){this._value!=t&&(this._value=t)},get:function(){return this._value}})}function s(t,i,h,e,s,o,n,r,a){PIXI.Container.call(this),this.type="SliderImg",t.addChild(this);var l=this;pl102.addElement(this),this.fun=s,this.funUp,this.funDown;var u;this._activMouse=!0,this._name=e,this._link=null!=a?a:"null",this._title=null!=r?r:"null",this._min=null!=o?o:0,this._max=null!=n?n:100,this._editNot=!1,this._plusText=null,this.x=i||0,this.y=h||0,this.otstup=6,this.otstup1=6.5,this.otstup2=4,this.otstup3=6,this.wh=pl102.wh,this.fontSize=15,this.fontSize1=13,this._width=100,this._height=this.wh,this._value=0,this._okrug=1,this._shag=1,this._typeValue="wh",this.input=new PLInput(this,0,0,"0",function(){"angel"===l._typeValue?k(this.value*calc.DEG2RAD):k(this.value)}),this.input.value=this._value,this.input.isWorkWithNumber=!0,pl102.removeElement(this.input,!0),this.btn=new PLButton(this,0,0),this.btn.label.visible=!1,this.btn.loadImeg(this._link),this.btn.visiblePanel=!1,this.btn.otstup=0,this.btn.funDown=function(){l.onDragStart()},pl102.removeElement(this.btn,!0),this.label=new PLLabel(this,0,0,""),this.label.visible=!1,this.label.bold=!1,this.label.fontSize=this.fontSize1,this.label2=new PLLabel(this,0,0,""),this.label2.visible=!1,this.label2.bold=!1,this.label2.fontSize=this.fontSize,this.labelTitle=new PLLabel(this,0,0,""),this.labelTitle.visible=!1,this.labelTitle.bold=!1,this.labelTitle.fontSize=this.fontSize,"null"!=this._title&&(this.labelTitle.visible=!0,this.labelTitle.text=this._title),pl102.removeElement(this.label,!0),this.setText=function(t){this.plusText=t,null==this.label&&(this.label=new PLLabel(this,0,0,"cm"),pl102.removeElement(this.label,!0)),this.label.visible=!0,this.label.text=t,this.draw()};var c,p,d,_,f,g=new DragerImage,m=0,v=new PIXI.Point,w=new PIXI.Point,b=new PIXI.Point,y=new PIXI.Point,P=new PIXI.Point,C=0;this.draw=function(){C=0,c=0,this.btn.width=this.wh,this.btn.height=this.wh,"null"==this._title?(C=0,this.height=this.wh):(p=this.labelTitle.getRect(),C=p.height+this.otstup,this.height=this.wh+C),this.btn.y=C,this.btn.image&&(this.btn.image.width=this.wh,this.btn.image.height=this.wh),this.label.visible&&(c=this.textLength()),this.input.width=this._width-this.wh-this.otstup-c,this.input.height=this.wh,this.input.x=this.wh+this.otstup,this.input.y=C,p=this.label2.getRect(),this._editNot?this.label.x=this.input.x+p.width+2*this.otstup2:this.label.x=this.input.x+this.input.width+this.otstup2,this.label.y=this.otstup1+C,p=this.label.getRect(),this.label2.x=this.wh+this.otstup,this.label2.y=this.otstup3+C,u&&this.drawDebug()},this.textLength=function(){return null==this.label?0:this.label.getRect().width},this.onDragStart=function(){m=l._value*l._shag,v=l.toLocal(pl102.global),function(){B(),pl102.isMouseEvents&&(document.body.addEventListener("mouseup",l.onDragEnd),document.body.addEventListener("mousemove",l.onDragMove));pl102.isTouchEvents&&(document.body.addEventListener("touchend",l.onDragEnd),document.body.addEventListener("touchmove",l.onDragMove))}(),g.start(l.btn.link,pl102.global,1,!0),l.funDown&&l.funDown()};this.onDragMove=function(t){var i=pl102.global;t instanceof MouseEvent&&i.set(t.clientX,t.clientY),w=l.toLocal(i),b.set(w.x-v.x,w.y-v.y),calc.getVector(99999,3.92,y),calc.getVector(-99999,3.92,P),d=calc.isPointInLin(y,P,b,99999,99999),_=calc.getTreeAngel(y,d,b),f=calc.getDistance(d,b)*(_<0?-1:1),k((m+f)/l._shag),u&&this.drawDebug()};var x=0;function B(){pl102.isMouseEvents&&(document.body.removeEventListener("mouseup",l.onDragEnd),document.body.removeEventListener("mousemove",l.onDragMove)),pl102.isTouchEvents&&(document.body.removeEventListener("touchend",l.onDragEnd),document.body.removeEventListener("touchmove",l.onDragMove))}function k(t){t!=l._value&&(l.value=t,l.fun&&l.fun())}this.updateText=function(){"wh"==this._typeValue&&(this.input.text=Math.round(this._value*this._okrug)/this._okrug,this.label2.text=Math.round(this._value*this._okrug)/this._okrug),"angel"==this._typeValue&&((x=Math.round(this._value*calc.RAD2DEG))<0&&(x=360+x),this.input.text=x,this.label2.text=x)},this.drawDebug=function(){u.clear(),u.lineStyle(1,16711680),u.moveTo(y.x,y.y),u.lineTo(P.x,P.y),u.drawCircle(b.x,b.y,5),u.drawCircle(d.x,d.y,5),u.drawRect(0,0,l._width,l._height)},this.onDragEnd=function(t){B(),l.funUp&&l.funUp()},this.kill=function(){this.input.kill()},this.changeActiv=function(){this.input.activMouse=this.activMouse,this.label.activMouse=this.activMouse,this.label2.visible=this.activMouse,this.btn.okDown=this.activMouse,this.btn.alpha=!0===this.activMouse?1:.5},this.clearValue=function(){this._value=0,this.label2.value="",this.label2.visible=!1,this.draw()},this.changeEdit=function(){this._editNot?(this.btn.alpha=.5,this.btn.okDown=!1,this.input.visible=!1,this.label2.visible=!0):(this.btn.alpha=1,this.btn.okDown=!0,this.input.visible=!0,this.label2.visible=!1)},this.draw()}Object.defineProperty(i,"__esModule",{value:!0}),i.SliderImg=s,e.prototype=Object.create(PLColor.prototype),e.prototype.constructor=e,s.prototype=Object.create(PIXI.Container.prototype),s.prototype.constructor=s,Object.defineProperties(s.prototype,{name:{set:function(t){this._name!=t&&(this._name=t)},get:function(){return this._name}},title:{set:function(t){this._title!=t&&(this._title=t,""==this._title&&(this._title="null"),"null"!=this._title?(this.labelTitle.visible=!0,this.labelTitle.text=this._title,this.draw()):this.labelTitle.visible=!1)},get:function(){return this._title}},width:{set:function(t){this._width!=t&&(this._width=t,this.draw())},get:function(){return this._width}},height:{set:function(t){this._height!=t&&(this._height=t)},get:function(){return this._height}},link:{set:function(t){this._link!=t&&(this._link=t,this.btn.loadImeg(this._link))},get:function(){return this._link}},min:{set:function(t){this._min!=t&&(this._min=t)},get:function(){return this._min}},max:{set:function(t){this._max!=t&&(this._max=t)},get:function(){return this._max}},value:{set:function(t){this._value!=t&&(this._value=t,this.label2.visible||(this.label2.visible=!0),this._value<this._min&&(this._value=this._min),this._value>this._max&&(this._value=this._max),this.updateText(),this.draw())},get:function(){return this._value}},okrug:{set:function(t){this._okrug!=t&&(this._okrug=t)},get:function(){return this._okrug}},shag:{set:function(t){this._shag!=t&&(this._shag=t)},get:function(){return this._shag}},activMouse:{set:function(t){this._activMouse!=t&&(this._activMouse=t,this.changeActiv())},get:function(){return this._activMouse}},editNot:{set:function(t){this._editNot!=t&&(this._editNot=t,this.changeEdit())},get:function(){return this._editNot}},typeValue:{set:function(t){this._typeValue!=t&&(this._typeValue=t)},get:function(){return this._typeValue}},plusText:{set:function(t){this._plusText!=t&&(this._plusText=t,this.setText(t))},get:function(){return this._plusText}}})},function(t,i,h){"use strict";function e(t,i,h,e,s,o){PIXI.Container.call(this),this.type="InputGroup",t.addChild(this);var n=this;function r(t){n.value[this.idArr]=this.value,n.fun&&n.fun(this)}pl102.addElement(this),this.fun=o,this.x=i||0,this.y=h||0,this.text=e||"",this.amount=s||0,this._width=100,this._height=pl102.wh,this._otstup=2,this._otstup1=this._otstup,this._activMouse=!1,this.value=[],this.array=[],this.panel=new PLPanel(this),pl102.removeElement(this.panel,!0),this.panel.image.visible=!1,this.panel.color=16777215,this.panel.width=this._width,this.panel.height=this._height,this.panel.kontur=!1,this.label=new PLLabel(this,0,0,this.text),pl102.removeElement(this.label,!0),this.label.visible=!(0===this.text.length),this.add=function(){for(var t=0;t<this.amount;t++)this.array[t]=new PLInput(this,0,0,"",r),this.array[t].idArr=t,this.array[t].align="center",this.array[t].paddingRight="0",pl102.removeElement(this.array[t],!0)},this.add(),this.set=function(t){for(var i=0;i<t.length;i++)this.array[i].text=t[i],this.value[i]=t[i];t.length!==this.array.length&&console.warn("Пришли не коректные значения!!!",this)},this.draw=function(){var t=this.array.length,i=0===this.text.length?0:this.label.curW+this._otstup1,h=this._width-i;this.label.text=this.text,this.label.y=(this._height-this.label.fontSize)/2-2,0===t?this.label.x=this._width/2-this.label.curW/2+1:this.array.forEach(function(e,s){e.width=(h-this._otstup*t+this._otstup)/t,e.height=this._height,e.x=i+(e.width+this._otstup)*s},this),this.panel.width=this._width,this.panel.height=this._height},this.draw()}Object.defineProperty(i,"__esModule",{value:!0}),i.InputGroup=e,e.prototype=Object.create(PIXI.Container.prototype),e.prototype.constructor=e,Object.defineProperties(e.prototype,{width:{set:function(t){this._width!=t&&(this._width=t,this.draw())},get:function(){return this._width}},height:{set:function(t){this._height!=t&&(this._height=t,this.draw())},get:function(){return this._height}},otstup:{set:function(t){this._otstup!=t&&(this._otstup=t,this.draw())},get:function(){return this._otstup}},otstup1:{set:function(t){this._otstup1!=t&&(this._otstup1=t,this.draw())},get:function(){return this._otstup1}},activMouse:{set:function(t){this._activMouse!=t&&(this._activMouse=t,this.array.forEach(function(t){t.activMouse=this._activMouse},this))},get:function(){return this._activMouse}}})},function(t,i,h){"use strict";function e(t,i,h,e){PIXI.Container.call(this),this.type="HSVGradient";var s=this;pl102.addElement(this),t.addChild(this),this.x=i||0,this.y=h||0,this.fun=e,this.funOnMove=null,this._width=100,this._height=100,this._otstup=2,this._color=16777215,this.color_hsv=[0,0,100],this.color_rgb=[255,255,255],this.color_hex="#ffffff",this.localColor=16711680;this.colorConverter=new ColorConverter,this.graphics=new PIXI.Graphics,this.addChild(this.graphics);var o=new PIXI.Point;function n(t){s.arrayGradient[r].off("mousemove",c),s.arrayGradient[r].off("mouseup",n),pl102.stage.off("mouseup",n),s.arrayGradient.forEach(function(t){t.interactive=!0}),s.fun&&s.fun()}this.arrayGradient=[],this.arrayPointer=[],this.gradientLinks=["resources/images/pikNew/color/hsvBG.png","resources/images/pikNew/color/hueBG.jpg","resources/images/pikNew/color/satBG.png","resources/images/pikNew/color/valBG.png"],this.pointerLinks=["resources/images/pikNew/color/colorPickerLarge.png","resources/images/pikNew/color/verticalSliderTransparent.png","resources/images/pikNew/color/verticalSliderTransparent.png","resources/images/pikNew/color/verticalSliderTransparent.png"],this.gradientLinks.forEach(function(t,i){this.arrayGradient[i]=new PLImage(this),this.arrayGradient[i].link=t,this.arrayGradient[i].idArr=i,this.arrayGradient[i].interactive=!0,this.arrayGradient[i].buttonMode=!0,this.arrayGradient[i].on("mouseover",u)},this),this.pointerLinks.forEach(function(t,i){this.arrayPointer[i]=new PLImage(this,0,0,"",function(){this.pivot.set(this.picWidth/2,this.picHeight/2),this.width=this.picWidth,this.height=this.picHeight}),this.arrayPointer[i].link=t,this.arrayPointer[i].idArr=i,this.arrayPointer[i].interactive=!0,this.arrayPointer[i].buttonMode=!0,this.arrayPointer[i].isPointer=!0,this.arrayPointer[i].on("mouseover",l),this.arrayPointer[i].on("mousedown",a)},this);var r=!1;function a(t){var i=void 0!==t.target.isPointer?s.arrayGradient[t.target.idArr]:t.target;i.off("mousemove",c),i.off("mouseup",n),pl102.stage.off("mouseup",n),i.on("mousemove",c),i.on("mouseup",n),pl102.stage.on("mouseup",n),r=i.idArr,s.dragPoint(i),s.arrayGradient.forEach(function(t){t.idArr!==i.idArr&&(t.interactive=!1)}),s.drag(i),1===i.idArr&&s.dragLocal(i),s.dragPoint(i),s.dragPointer(i),s.drawBackground(),s.convert()}function l(t){t.target.defaultCursor="url(resources/images/pikNew/color/579006.png) 10 10, auto"}function u(t){t.target.off("mousedown",a),t.target.on("mousedown",a),r=t.target.idArr,s.dragPoint(t.target),t.target.defaultCursor="url(resources/images/pikNew/color/579006.png) 10 10, auto"}function c(t){s.drag(t.target),1===t.target.idArr&&s.dragLocal(t.target),s.dragPoint(t.target),s.dragPointer(t.target),s.drawBackground(),s.convert(),s.funOnMove&&s.funOnMove()}this.dragLocal=function(){this.convertToLocal()},this.dragPoint=function(t){o.copy(t.toLocal(pl102.global)),o.x>t.width&&(o.x=t.width),o.x<0&&(o.x=0),o.y>t.height&&(o.y=t.height),o.y<0&&(o.y=0)},this.dragPointer=function(t){if(!t||1===t.idArr){var i=this.color_hsv[0]/360*this.arrayGradient[1].height;s.arrayPointer[1].x=this.arrayGradient[1].x,s.arrayPointer[1].y=i+this.arrayGradient[1].y}var h=this.color_hsv[1]/100*this.arrayGradient[0].width,e=(100-this.color_hsv[2])/100*this.arrayGradient[0].height;s.arrayPointer[0].x=h+this.arrayGradient[0].x,s.arrayPointer[0].y=e+this.arrayGradient[0].y;var o=this.color_hsv[1]/100*this.arrayGradient[2].height;s.arrayPointer[2].x=this.arrayGradient[2].x,s.arrayPointer[2].y=o+this.arrayGradient[2].y;var n=(100-this.color_hsv[2])/100*this.arrayGradient[3].height;s.arrayPointer[3].x=this.arrayGradient[3].x,s.arrayPointer[3].y=n+this.arrayGradient[3].y},this.drag=function(t){0===t.idArr&&(this.color_hsv[1]=Math.round(o.x/t.width*100),this.color_hsv[2]=Math.round((t.height-o.y)/t.height*100)),1===t.idArr&&(this.color_hsv[0]=Math.round(o.y/t.height*360)),2===t.idArr&&(this.color_hsv[1]=Math.round(o.y/t.height*100)),3===t.idArr&&(this.color_hsv[2]=Math.round((t.height-o.y)/t.height*100))},this.draw=function(){var t=.62*this._width,i=(.38*this._width-3*this._otstup)/3;this.arrayGradient[0].width=t,this.arrayGradient[0].height=t,this.arrayGradient[1].x=t+this._otstup,this.arrayGradient[1].width=i,this.arrayGradient[1].height=t,this.arrayGradient[2].x=t+i+2*this._otstup,this.arrayGradient[2].width=i,this.arrayGradient[2].height=t,this.arrayGradient[3].x=t+2*i+3*this._otstup,this.arrayGradient[3].width=i,this.arrayGradient[3].height=t,this.dragPointer(),this._height=t,this.drawBackground()},this.drawBackground=function(){this.graphics.clear(),this.graphics.beginFill(this.localColor),this.graphics.lineStyle(1,10066329),this.arrayGradient.forEach(function(t,i){this.graphics.drawRect(t.x,t.y,t.width,t.height)},this)},this.convert=function(){this.color_rgb=this.colorConverter.hsvToRgb(this.color_hsv),this.color_hex=this.colorConverter.rgbToHex(this.color_rgb),this._color=this.colorConverter.rgbToDec(this.color_rgb)},this.convertToLocal=function(){var t=[this.color_hsv[0],100,100],i=this.colorConverter.hsvToRgb(t),h=this.colorConverter.rgbToHex(i),e=this.colorConverter.hexToDec(h);this.localColor=e},this.setHSV=function(t){this.color_hsv[0]=t[0],this.color_hsv[1]=t[1],this.color_hsv[2]=t[2],this.convert(),this.convertToLocal(),this.dragPointer(),this.drawBackground()},this.setRGB=function(t){this.color_rgb[0]=t[0],this.color_rgb[1]=t[1],this.color_rgb[2]=t[2],this.color_hsv=this.colorConverter.rgbToHsv(this.color_rgb),this.color_hex=this.colorConverter.rgbToHex(this.color_rgb),this._color=this.colorConverter.rgbToDec(this.color_rgb),this.convertToLocal(),this.dragPointer(),this.drawBackground()},this.draw()}Object.defineProperty(i,"__esModule",{value:!0}),i.HSVGradient=e,e.prototype=Object.create(PIXI.Container.prototype),e.prototype.constructor=e,Object.defineProperties(e.prototype,{width:{set:function(t){this._width!==t&&(this._width=t,this.draw())},get:function(){return this._width}},height:{set:function(t){this._height!==t&&(this._height=t)},get:function(){return this._height}},otstup:{set:function(t){this._otstup!==t&&(this._otstup=t,this.draw())},get:function(){return this._otstup}},color:{set:function(t){this._color!==t&&(this._color=t,this.color_hex=this.colorConverter.decToHex(this._color),this.color_rgb=this.colorConverter.hexToRgb(this.color_hex),this.color_hsv=this.colorConverter.rgbToHsv(this.color_rgb),this.convertToLocal(),this.dragPointer(),this.drawBackground())},get:function(){return this._color}},activMouse:{set:function(t){this._activMouse!==t&&(this._activMouse=t,this.arrayGradient.forEach(function(t){t.activMouse=this._activMouse},this),this.arrayPointer.forEach(function(t){t.activMouse=this._activMouse},this))},get:function(){return this._activMouse}}})},function(t,i,h){"use strict";function e(t,i,h,e){PIXI.Container.call(this),t.addChild(this),this.type="PLButtonFullWidth";var s,o=this;this.fun=e,this._width=100,this._height=100,this._otstup=2,this._typeStyle=0,this.array=[],this.arrayBtn=[],this.index=-1,this.down=function(){o.index=this.idArr,o.fun&&o.fun()},this.create=function(t,i){(s=new PLButton(this,0,0,"",this.down)).idArr=this.arrayBtn.length,""!=t&&(s.text=t),""!=i&&s.loadImeg(i),this.arrayBtn.push(s)},this.draw=function(){for(var t=this._width/this.arrayBtn.length,i=0;i<this.arrayBtn.length;i++)this.arrayBtn[i].x=i*t,this.arrayBtn[i].width=t,this.arrayBtn[i].height=this._height},this.setArr=function(t){this.array=t;for(var i=0;i<this.array.length;i++)this.create(this.array[i].title,this.array[i].link);this.setStyle(),this.draw()},this.setStyle=function(){if(0==this.typeStyle)for(var t=0;t<this.arrayBtn.length;t++)this.arrayBtn[t].konturColor=10198952,this.arrayBtn[t].boolCenter=!0,this.arrayBtn[t].visiblePanel=!1,this.arrayBtn[t].otstup=2,this.arrayBtn[t].boolKontur=!0}}Object.defineProperty(i,"__esModule",{value:!0}),i.PLButtonFullWidth=e,e.prototype=Object.create(PIXI.Container.prototype),e.prototype.constructor=e,Object.defineProperties(e.prototype,{width:{set:function(t){this._width!=t&&(this._width=t,this.draw())},get:function(){return this._width}},height:{set:function(t){this._height!=t&&(this._height=t,this.draw())},get:function(){return this._height}},typeStyle:{set:function(t){this._typeStyle!=t&&(this._typeStyle=t,this.draw())},get:function(){return this._typeStyle}}})},function(t,i,h){"use strict";function e(t,i,h,e){PIXI.Container.call(this),t.addChild(this),this.type="BtnGallery";var s=this;this.klush="id",this.fun=e,this.x=i||0,this.y=h||0,this._tipPosit=1,this._width=100;var o,n,r,a,l,u,c,p;this._otstup=17,this._ii=2,this._jj=3,this._wh=74,this._indexObject=void 0,this.object,this.indBtn=-1,this.otstupImg=4,this._heightMask=100,this._widthMask=100,this.graphics=new PIXI.Graphics,this.addChild(this.graphics),this.activCont=!0,this.contBtn=new PIXI.Container,this.addChild(this.contBtn),this.contBtn.mask=this.graphics,this.contur=new PLContur(this.contBtn),this.contur.wh=this._wh,this.contur.color=6710886,this.contur.thickness=-3,this.contur.visible=!1,this.scrol=new PLScrollBarV(this,0,0,function(){s.contBtn.y=-this.scrolValue}),this.scrol.offsetHit=12,this.scrol.visible=!1,this.scrol.otstup=3,this.scrol.width=20,this.boolWhell=!1,this._boolLeft=!0,this.array=[],this.setArray=function(t){for(var i=0;i<t.length;i++)this.addObj(t[i])},this.addObj=function(t){o=-1;for(var i=0;i<this.array.length;i++)if(0==this.array[i].visible){o=i,this.array[i].visible=!0;break}if(-1!=o)return n=this.array.splice(i,1),this.array.push(n[0]),void this.draw();for(i=0;i<this.array.length;i++)if(0==this.array[i].visible)return this.generationButton(this.array[i],t),this.addObj(t),this.draw(),void this.contBtn.addChild(this.contur);this.array.push(this.generationButton(null,t)),this.contBtn.addChild(this.contur),this.draw()},this.removeObj=function(t){o=-1;for(var i=0;i<this.array.length;i++)if(0!=this.array[i].visible&&this.array[i].object[this.klush]==t[this.klush]){o=i;break}return-1!=o?(this.array[i].visible=!1,this.draw(),this.array[i].object):null},this.addObjAt=function(t,i){o=-1,r=-1;for(var h=0;h<this.array.length;h++)if(0!=this.array[h].visible&&this.array[h].object[this.klush]==t[this.klush]){o=h;break}if(-1!=o){n=this.array.splice(h,1);for(h=0;h<this.array.length;h++)if(0!=this.array[h].visible&&++r==i)return this.array.splice(h,0,n[0]),void this.draw();return this.array.push(n[0]),void this.draw()}this.array.splice(i,0,this.generationButton(null,t)),this.contBtn.addChild(this.contur),this.draw()},this.clear=function(){for(var t=0;t<this.array.length;t++)this.array[t].visible=!1},this.generParent,this.generationButton=function(t,i){return null!=this.generParent?this.generParent(t,i):(null==t?((a=new PLButton(this.contBtn,0,0,"",this.down)).setStile(1,this._wh,this._wh),a.boolKontur=!0,a.panel.image.visible=!1,a.panel.color=16777215,a.otstup=this.otstupImg):a=t,a.visible=!0,a.object=i,null!=i.link?a.loadImeg(i.link):null!=i.icon?a.loadImeg(i.icon.url):a.loadImeg("resources/images/admin/no_image.png"),a)},this.btn,this.down=function(){s.object=this.object,s.indexObject=this.object,s.btn=this,s.fun&&s.fun()},this.draw=function(){var t=this._wh;l=0,u=0==this._tipPosit?this._jj-1:0;for(var i=0;i<this.array.length;i++)0!=this.array[i].visible&&(1==this.scrol.visible&&(t=this._wh-this.scrol.width/this._ii),this.array[i].x=this._otstup+l*(t+this._otstup),this.array[i].y=this._otstup+u*(t+this._otstup),0==this._tipPosit?--u<0&&(u=1,l++):++l>=this._ii&&(u++,l=0))},this.drawWH=function(){this.graphics.clear(),this.graphics.beginFill(0),this.graphics.drawRect(0,0,this._widthMask,this._heightMask),this.graphics.endFill()},this.settingSlider=function(){this.scrol.position.set(0,0),0==this._boolLeft&&(this.scrol.x=this._widthMask-this.scrol.width),this.scrol.height=this._heightMask,this.scrol.heightContent=this.contBtn.height,this.scrol.fun(),this.scrol.heightContent<=this.scrol.height?this.scrol.visible=!1:this.scrol.visible=!0,1==this.scrol.visible&&0==this.boolWhell&&this.initWhell()},this.initWhell=function(){this.boolWhell=!0,this.interactive=!0,pl102Wheel.on(this,"mousewheel",this.wheelDrag)},this.wheelDrag=function(t){1==s.scrol.visible&&(c=s.contBtn.y,t.delta>0?(c+=10)>0&&(c=0):(c-=10)<-(s.contBtn.height-s._heightMask)&&(c=-(s.contBtn.height-s._heightMask)),s.contBtn.y=c,p=-c/(s.contBtn.height-s._heightMask)*100,s.scrol.value=p)},this._heightMask=this._jj*(this._wh+this._otstup)+2*this._otstup+1,this._widthMask=this._ii*(this._wh+this._otstup)+2*this._otstup+1,this.drawWH()}function s(t,i,h,s){e.call(this,t,i,h,s),this.type="GalleryAdm";var o,n,r,a,l,u=this;this._otstup=2,this._otstBtn=2,this._ii=2,this._jj=3,this._wh=74,this._indexObject=void 0,this._width=100,this._height=100,this.contur.thickness=2,this.color=6842472,this.color1=13421772,this.color2=6710886,this.corentHeight=0,this.scrol=new PLScrollBarND(this,0,.5,function(){u.contBtn.y=-this.scrolValue}),this.scrol.width=18,this.scrol.visible=!1,this.scrol.color=this.color1,this.scrol.color1=this.color2,this.scrol.scroll.offsetHit=12,this.getNumBtn=function(){for(var t=0,i=0;i<this.array.length;i++)0!=this.array[i].visible&&t++;return t},this.draw=function(){r=this._wh,a=this.getNumBtn(),l=Math.ceil(a/this._ii),this.corentHeight=2*this._otstup+l*this._wh+(l-1)*this._otstBtn,this.corentHeight>this._height?(this.scrol.visible=!0,this.scrol.x=this._width+this._otstup,this.scrol.height=this._height-1,this.contur.wh=r,this.scrol.heightContent=2*this._otstup+l*r+(l-1)*this._otstBtn,this.contBtn.y=-this.scrol.scrolValue,this.initWhell()):(this.scrol.visible=!1,this.contur.wh=r,this.contBtn.y=0,this.scrol.scrolValue=0),o=0,n=0==this._tipPosit?this._jj-1:0;for(var t=0;t<this.array.length;t++)0!=this.array[t].visible&&(this.array[t].x=this._otstup+o*(r+this._otstBtn),this.array[t].y=this._otstup+n*(r+this._otstBtn),this.array[t].width=r,this.array[t].height=r,-1!=this.indBtn&&t==this.indBtn&&(this.contur.x=this.array[t].x,this.contur.y=this.array[t].y),0==this._tipPosit?--n<0&&(n=1,o++):++o>=this._ii&&(n++,o=0));this.drawWH()},this.drawWH=function(){this.graphics.clear(),this.graphics.beginFill(0),this.graphics.drawRect(0,1,this._width-2,this._height-2),this.graphics.endFill()},this.settingSlider=function(){},this.setObj=function(t){this.setArray(t)},this.setLink=function(t){u.btn&&u.btn.loadImeg(t)},this.wheelDrag=function(t){1==u.scrol.visible&&(yy=u.contBtn.y,t.delta>0?(yy+=10,yy>0&&(yy=0)):(yy-=10,yy<-(u.corentHeight-u._height)&&(yy=-(u.corentHeight-u._height))),u.contBtn.y=yy,sy=-yy/(u.corentHeight-u._height)*100,u.scrol.value=sy)}}Object.defineProperty(i,"__esModule",{value:!0}),i.BtnGallery=e,i.GalleryAdm=s,e.prototype=Object.create(PIXI.Container.prototype),e.prototype.constructor=e,Object.defineProperties(e.prototype,{heightMask:{set:function(t){this._heightMask!=t&&(this._heightMask=t,this.drawWH(),this.settingSlider())},get:function(){return this._heightMaskt}},widthMask:{set:function(t){this._widthMask!=t&&(this._widthMask=t,this.drawWH(),0==this._boolLeft&&(this.scrol.x=this._width-this.scrol.width))},get:function(){return this._widthMask}},tipPosit:{set:function(t){this._tipPosit!=t&&(this._tipPosit=t,this.draw())},get:function(){return this._tipPosit}},wh:{set:function(t){if(this._wh!=t){this._wh=t;for(var i=0;i<this.array.length;i++)this.array[i].width=this.array[i].height=this._wh,this.array[i].image.height=this.array[i].image.width=this._wh;this.contur.wh=this._wh,this._heightMask=this._jj*(this._wh+this._otstup)+2*this._otstup,this._widthMask=this._ii*(this._wh+this._otstup)+2*this._otstup,this.drawWH(),this.draw()}},get:function(){return this._wh}},ii:{set:function(t){this._ii!=t&&(this._ii=t,this._heightMask=this._jj*(this._wh+this._otstup)+2*this._otstup,this._widthMask=this._ii*(this._wh+this._otstup)+2*this._otstup,this.drawWH(),this.draw())},get:function(){return this._ii}},jj:{set:function(t){this._jj!=t&&(this._jj=t,this._heightMask=this._jj*(this._wh+this._otstup)+2*this._otstup,this._widthMask=this._ii*(this._wh+this._otstup)+2*this._otstup,this.drawWH(),this.draw())},get:function(){return this._jj}},indexObject:{set:function(t){if(this._indexObject!=t)if(this._indexObject=t,this.indBtn=-1,null!=this._indexObject&&-1!=this._indexObject&&null!=this._indexObject)for(var i=0;i<this.array.length;i++)0!=this.array[i].visible&&this.array[i].object[this.klush]==this._indexObject[this.klush]&&this.activCont&&(this.contur.visible=!0,this.indBtn=i,this.contur.x=this.array[i].x,this.contur.y=this.array[i].y,this.btn=this.array[i]);else this.contur.visible=!1},get:function(){return this._indexObject}},otstup:{set:function(t){this._otstup!=t&&(this._otstup=t,this.draw())},get:function(){return this._otstup}},width:{set:function(t){this._width!=t&&(this._width=t,this._wh=(this._width-this._otstup*this._ii-this._otstup-1)/this._ii,this.draw(),0==this._boolLeft&&(this.scrol.x=this._width-this.scrol.width))},get:function(){return this._width}},boolLeft:{set:function(t){this._boolLeft!=t&&(0==this._boolLeft?this.scrol.x=this._width-10:this.scrol.x=0)},get:function(){return this._boolLeft}}}),s.prototype=Object.create(e.prototype),s.prototype.constructor=s,Object.defineProperties(s.prototype,{width:{set:function(t){this._width!=t&&(this._width=t,this._wh=(this._width-this._otstBtn*(this._ii-1)-2*this._otstup-1)/this._ii,this.contur.wh=this._wh,this.draw(),0==this._boolLeft&&(this.scrol.x=this._width-this.scrol.width))},get:function(){return this._width}},height:{set:function(t){this._height!=t&&(this._height=t,this.draw())},get:function(){return this._height}}})},function(t,i,h){"use strict";function e(){window.fotoMy=this,this.renderer=new PIXI.autoDetectRenderer(100,100,{antialias:!0,transparent:!0}),this.fotoCont=new PIXI.Container,this.prevRendSize={width:256,height:256},this.imageSize={width:64,height:64},this.rectToPrint={x:0,y:0,width:64,height:64},this.l=new PLLabel(null,0,0,""),this.l.fontSize=pl102.wh,this.getLinkText=function(t){this.l.text=" "+t.toUpperCase();var i=this.l.getRect();return(t=i.width)<i.height&&(t=i.height),this.getImAd(this.l,t,t)},this.getImAd=function(t,i,h){var e=this.renderer.resolution;this.renderer.resolution=1,this.prevRendSize.width=this.renderer.width,this.prevRendSize.height=this.renderer.height,this.renderer.resize(Math.round(i),Math.round(h)),this.renderer.render(t);var s=this.renderer.view.toDataURL("image/png",1);return this.renderer.resize(this.prevRendSize.width,this.prevRendSize.height),this.renderer.resolution=e,s}}function s(t,i,h,s,n){PIXI.Container.call(this),this.type="SliderObject",t.addChild(this);var r,a=this;pl102.addElement(this),this.x=i||0,this.y=h||0,this._width=200,this._height=pl102.wh,this._activMouse=!0,this._value=null,this.tipRide=!0,this.arrayParam=[],this.fun=n,this._textWidth=-1,this.funComplit=void 0,this._min=0,this._max=100,this._okrug=1,void 0===window.fotoMy&&new e,this.label=new PLLabel(this,0,8,s),this.draw102=function(){this.drag()},this.clear=function(){this.array=[];for(var t=0;t<this.arrayCeh.length;t++)this.arrayCeh[t].visible=!1},this.drag=function(){if(-1===this._textWidth){r=(this._width-this.label.curW)/this.array.length;for(var t=0;t<this.array.length;t++)this.array[t].width=r,this.array[t].x=this.label.curW+t*r}else{r=(this._width-this._textWidth)/this.array.length;for(t=0;t<this.array.length;t++)this.array[t].width=r,this.array[t].x=this._textWidth+t*r}},this.dragDin=function(){a._value[this.param]=this.slider.value,a.fun&&a.fun()},this.dragFin=function(){a.funComplit&&a.funComplit()},this.array=[],this.arrayCeh=[],this.creat=function(t){for(var i=0;i<this.arrayCeh.length;i++)if(this.arrayCeh[i].param==t)return this.arrayCeh[i].visible=!0,this.arrayCeh[i].idArr=this.array.length,this.array.push(this.arrayCeh[i]),this.arrayCeh[i];var h=new o(this,t,this.dragDin,this.dragFin);return h.idArrCeh=this.arrayCeh.length,h.idArr=this.array.length,h.slider.min=this.min,h.slider.max=this.max,h.slider.okrug=this.okrug,this.array.push(h),this.arrayCeh.push(h),h},this.dragValue=function(){this.clear();for(var t=this.gener(this._value),i=0;i<t.length;i++)this.creat(t[i]).slider.value=this._value[t[i]];this.drag()},this.gener=function(t){var i=[];for(var h in t)"number"==typeof t[h]&&i.push(h);return i}}function o(t,i,h,e){PIXI.Container.call(this),this.type="DragGG",t.addChild(this);var s=this;pl102.addElement(this),this._width=100,this._height=pl102.wh,this.param=i,this.fun=h,this.funUp=e,this.slider=new n(this,0,0,"",function(){s.fun()},-555,555,null,fotoMy.getLinkText(i)),this.slider.funUp=function(){s.funUp()},this.draw102=function(){this.slider.width=this._width}}function n(t,i,h,e,s,o,n,r,a){PIXI.Container.call(this),this.type="SliderImg",t.addChild(this);var l=this;pl102.addElement(this),this.fun=s,this.funUp,this.funDown;var u;this._activMouse=!0,this._name=e,this._link=null!=a?a:"null",this._title=null!=r?r:"null",this._min=null!=o?o:0,this._max=null!=n?n:100,this._editNot=!1,this._plusText=null,this.x=i||0,this.y=h||0,this.otstup=0,this.otstup1=6.5,this.otstup2=4,this.otstup3=6,this.wh=pl102.wh,this.fontSize=15,this.fontSize1=13,this._width=100,this._height=this.wh,this._value=0,this._okrug=1,this._shag=1,this._typeValue="wh",this.input=new PLInput(this,0,0,"0",function(){"angel"===l._typeValue?k(this.value*calc.DEG2RAD):k(this.value),l.onDragEnd()}),this.input.value=this._value,this.input.isWorkWithNumber=!1,pl102.removeElement(this.input,!0),this.btn=new PLButton(this,0,0),this.btn.label.visible=!1,this.btn.loadImeg(this._link),this.btn.visiblePanel=!1,this.btn.otstup=0,this.btn.funDown=function(){l.onDragStart()},pl102.removeElement(this.btn,!0),this.label=new PLLabel(this,0,0,""),this.label.visible=!1,this.label.bold=!1,this.label.fontSize=this.fontSize1,this.label2=new PLLabel(this,0,0,""),this.label2.visible=!1,this.label2.bold=!1,this.label2.fontSize=this.fontSize,this.labelTitle=new PLLabel(this,0,0,""),this.labelTitle.visible=!1,this.labelTitle.bold=!1,this.labelTitle.fontSize=this.fontSize,"null"!=this._title&&(this.labelTitle.visible=!0,this.labelTitle.text=this._title),pl102.removeElement(this.label,!0),this.setText=function(t){this.plusText=t,null==this.label&&(this.label=new PLLabel(this,0,0,"cm"),pl102.removeElement(this.label,!0)),this.label.visible=!0,this.label.text=t,this.draw()};var c,p,d,_,f,g=new DragerImage,m=0,v=new PIXI.Point,w=new PIXI.Point,b=new PIXI.Point,y=new PIXI.Point,P=new PIXI.Point,C=0;this.draw=function(){C=0,c=0,this.btn.width=this.wh,this.btn.height=this.wh,"null"==this._title?(C=0,this.height=this.wh):(p=this.labelTitle.getRect(),C=p.height+this.otstup,this.height=this.wh+C),this.btn.y=C,this.btn.image&&(this.btn.image.width=this.wh,this.btn.image.height=this.wh),this.label.visible&&(c=this.textLength()),this.input.width=this._width-this.wh-this.otstup-c,this.input.height=this.wh,this.input.x=this.wh+this.otstup,this.input.y=C,p=this.label2.getRect(),this._editNot?this.label.x=this.input.x+p.width+2*this.otstup2:this.label.x=this.input.x+this.input.width+this.otstup2,this.label.y=this.otstup1+C,p=this.label.getRect(),this.label2.x=this.wh+this.otstup,this.label2.y=this.otstup3+C,u&&this.drawDebug()},this.textLength=function(){return null==this.label?0:this.label.getRect().width},this.onDragStart=function(){m=l._value*l._shag,v=l.toLocal(pl102.global),function(){B(),pl102.isMouseEvents&&(document.body.addEventListener("mouseup",l.onDragEnd),document.body.addEventListener("mousemove",l.onDragMove));pl102.isTouchEvents&&(document.body.addEventListener("touchend",l.onDragEnd),document.body.addEventListener("touchmove",l.onDragMove))}(),g.start(l.btn.link,pl102.global,1,!0),l.funDown&&l.funDown()};this.onDragMove=function(t){var i=pl102.global;t instanceof MouseEvent&&i.set(t.clientX,t.clientY),w=l.toLocal(i),b.set(w.x-v.x,w.y-v.y),calc.getVector(99999,3.92,y),calc.getVector(-99999,3.92,P),d=calc.isPointInLin(y,P,b,99999,99999),_=calc.getTreeAngel(y,d,b),f=calc.getDistance(d,b)*(_<0?-1:1),k((m+f)/l._shag),u&&this.drawDebug()},this.onDragEnd=function(t){B(),l.funUp&&l.funUp()},this.input.funEnter=this.onDragEnd;var x=0;function B(){pl102.isMouseEvents&&(document.body.removeEventListener("mouseup",l.onDragEnd),document.body.removeEventListener("mousemove",l.onDragMove)),pl102.isTouchEvents&&(document.body.removeEventListener("touchend",l.onDragEnd),document.body.removeEventListener("touchmove",l.onDragMove))}function k(t){t!=l._value&&(l.value=t,l.fun&&l.fun())}this.filter=function(t){if("string"==typeof t){var i=/((-)?\d+[\.\,]\d+)|(-)?\d+/g;if((t=t.replace(",",".")).match(i)){var h=1*t.match(i)[0];return h>this._max&&(h=this._max),h<this._min&&(h=this._min),h}return 1}return t},this.updateText=function(){"wh"==this._typeValue&&(this._value=this.filter(this._value),this.input.text=Math.round(this._value*this._okrug)/this._okrug,this.label2.text=Math.round(this._value*this._okrug)/this._okrug),"angel"==this._typeValue&&((x=Math.round(this._value*calc.RAD2DEG))<0&&(x=360+x),this.input.text=x,this.label2.text=x)},this.drawDebug=function(){u.clear(),u.lineStyle(1,16711680),u.moveTo(y.x,y.y),u.lineTo(P.x,P.y),u.drawCircle(b.x,b.y,5),u.drawCircle(d.x,d.y,5),u.drawRect(0,0,l._width,l._height)},this.kill=function(){this.input.kill()},this.changeActiv=function(){this.input.activMouse=this.activMouse,this.label.activMouse=this.activMouse,this.label2.visible=this.activMouse,this.btn.okDown=this.activMouse,this.btn.alpha=!0===this.activMouse?1:.5},this.clearValue=function(){this._value=0,this.label2.value="",this.draw()},this.calculateShag=function(){var t=(1980-8*(this._max-this._min))/190;this._shag=t},this.changeEdit=function(){this._editNot?(this.btn.alpha=.5,this.btn.okDown=!1,this.input.visible=!1):(this.btn.alpha=1,this.btn.okDown=!0,this.input.visible=!0)},this.draw()}Object.defineProperty(i,"__esModule",{value:!0}),i.SliderObject=s,s.prototype=Object.create(PIXI.Container.prototype),s.prototype.constructor=s,Object.defineProperties(s.prototype,{width:{set:function(t){this._width!=t&&(this._width=t,this.draw102())},get:function(){return this._width}},height:{set:function(t){this._height!=t&&(this._height=t)},get:function(){return this._height}},activMouse:{set:function(t){if(this._activMouse!=t){this._activMouse=t;for(var i=0;i<this.arrayCeh.length;i++)this.arrayCeh[i].slider.activMouse=t}},get:function(){return this._activMouse}},text:{set:function(t){this._text=t,this.label.text=this._text},get:function(){return this._text}},value:{set:function(t){this._value=t,this.dragValue()},get:function(){return this._value}},min:{set:function(t){if(this._min!=t){this._min=t;for(var i=0;i<this.arrayCeh.length;i++)this.arrayCeh[i].slider.min=t}},get:function(){return this._min}},max:{set:function(t){if(this._max!=t){this._max=t;for(var i=0;i<this.arrayCeh.length;i++)this.arrayCeh[i].slider.max=t}},get:function(){return this._max}},okrug:{set:function(t){if(this._okrug!=t){this._okrug=t;for(var i=0;i<this.arrayCeh.length;i++)this.arrayCeh[i].slider.okrug=t}},get:function(){return this._okrug}},textWidth:{set:function(t){this._textWidth!=t&&(this._textWidth=t,this.draw102())},get:function(){return this._textWidth}}}),o.prototype=Object.create(PIXI.Container.prototype),o.prototype.constructor=o,Object.defineProperties(o.prototype,{width:{set:function(t){this._width!=t&&(this._width=t,this.draw102())},get:function(){return this._width}},height:{set:function(t){this._height!=t&&(this._height=t,this.draw102())},get:function(){return this._height}}}),n.prototype=Object.create(PIXI.Container.prototype),n.prototype.constructor=n,Object.defineProperties(n.prototype,{name:{set:function(t){this._name!=t&&(this._name=t)},get:function(){return this._name}},title:{set:function(t){this._title!=t&&(this._title=t,""==this._title&&(this._title="null"),"null"!=this._title?(this.labelTitle.visible=!0,this.labelTitle.text=this._title,this.draw()):this.labelTitle.visible=!1)},get:function(){return this._title}},width:{set:function(t){this._width!=t&&(this._width=t,this.draw())},get:function(){return this._width}},height:{set:function(t){this._height!=t&&(this._height=t)},get:function(){return this._height}},link:{set:function(t){this._link!=t&&(this._link=t,this.btn.loadImeg(this._link))},get:function(){return this._link}},min:{set:function(t){this._min!=t&&(this._min=t,this.calculateShag())},get:function(){return this._min}},max:{set:function(t){this._max!=t&&(this._max=t,this.calculateShag())},get:function(){return this._max}},value:{set:function(t){this._value!=t&&(this._value=t,this._value<this._min&&(this._value=this._min),this._value>this._max&&(this._value=this._max),this.updateText(),this.draw())},get:function(){return this._value}},okrug:{set:function(t){this._okrug!=t&&(this._okrug=t)},get:function(){return this._okrug}},shag:{set:function(t){this._shag!=t&&(this._shag=t)},get:function(){return this._shag}},activMouse:{set:function(t){this._activMouse!=t&&(this._activMouse=t,this.changeActiv())},get:function(){return this._activMouse}},editNot:{set:function(t){this._editNot!=t&&(this._editNot=t,this.changeEdit())},get:function(){return this._editNot}},typeValue:{set:function(t){this._typeValue!=t&&(this._typeValue=t)},get:function(){return this._typeValue}},plusText:{set:function(t){this._plusText!=t&&(this._plusText=t,this.setText(t))},get:function(){return this._plusText}}})},function(t,i,h){"use strict";function e(t,i,h,e){PIXI.Container.call(this),this.type="VisualContentLoader";var s=this;t.addChild(this),this.funGetFile=null,this.onload=null,this.funUp=null,this.fun=e,this.x=i||0,this.y=h||0,this._otstup=2,this._wh=pl102.wh,this._color=pl102.color1,this._width=100,this._height=2*this._wh+this._otstup,this._link="null",this._value=this._link,this._title=null,this.linkError="resources/picNotFound.jpg",this.content=new PIXI.Container,this.addChild(this.content);var o=new DownloadUtill;this.downloadUtill=o,this.contur=new PLContur(this.content,0,0),this.contur.width=this._height,this.contur.height=this._height,this.contur.thickness=.5,this.contur.color=this._color,this.label=new PLLabel(this.content,0,0,""),this.image=new PLImage(this.content,0,0),this.image.funComplit=function(){var t=Math.min(s._height/this.picWidth,s._height/this.picHeight);this.scale.set(t,t),this.width=this.picWidth,this.height=this.picHeight;var i=s._height-this._width*t,h=s._height-this._height*t;this.x=0===i?i:i/2,this.y=0===h?h:h/2},this.input=new PLInput(this.content,this._otstup,0,"null",function(){s.link=this.value,s.fun&&s.fun()}),this.btnLoad=new PLButton(this.content,0,0,"Load",function(t){s.label.visible=!1,s.image.visible=!1,s.onload&&s.onload(!0),s.funGetFile?s.funGetFile(t,function(t){trace("vghjgfhj",t);null!==t||s.linkError;s.link=t,trace("vghjgfhdsfgdsgfj",s.link),s.fun&&s.fun(),s.onload&&s.onload(!1)}):(s.input.value=t,s._link=t,s.fun&&s.fun(),s.onload&&s.onload(!1));var i=this.files[0].name.split("."),h=i[i.length-1];"jd"===h||"JD"===h||"hdr"===h||"HDR"===h?(s.label.visible=!0,s.label.text="."+h,s.label.pivot.set(s.label.curW/2,s.label.curH/2),s.label.position.set(s._height/2,s._height/2)):(s.image.visible=!0,s.image.link=t)}),this.btnLoad.x=this._height+this._otstup,this.btnLoad.y=this._wh+this._otstup,this.btnLoad.startFile(".jpg, .png, .bmp, .jpeg, .hdr, .jd"),this.localLoad=new PLButton(this.content,0,0,"",function(){-1!==s.input.value.indexOf("base64")?this.downloadUtill.saveBase64(s.input.value):console.warn("Сохранение с линка не добавлено!"),s.fun&&s.fun()},"resources/images/adminAr/61.png"),this.localLoad.width=this._wh,this.localLoad.activMouse=!1,this.linkClear=new PLButton(this.content,0,0,"X",function(){s.label.visible=!1,s.link="null",s.fun&&s.fun()}),this.linkClear.width=this._wh,this.image.funError=function(){trace("vghjgfhj   bbb "+s.link),s.image.link=s.linkError,console.log("FIXI ANTON хдр збрасывает")},this.draw=function(){this.input.width=this._width-2*this._wh-3*this._otstup-this._height,this.input.x=this._height+this._otstup,this.localLoad.x=this.input.x+this.input.width+this._otstup,this.linkClear.x=this.localLoad.x+this._wh+this._otstup,this.btnLoad.width=this._width-this._height-this._otstup},this.draw()}Object.defineProperty(i,"__esModule",{value:!0}),i.VisualContentLoader=e,e.prototype=Object.create(PIXI.Container.prototype),e.prototype.constructor=e,Object.defineProperties(e.prototype,{width:{set:function(t){this._width!==t&&(this._width=t,this.draw())},get:function(){return this._width}},height:{set:function(t){},get:function(){return this._height}},link:{set:function(t){this._link!==t&&(this._link=t,"null"===this.link?(this.image.visible=!1,this.input.value=this.link):this.link===this.linkError?(this.image.link=this.linkError,this.input.value=this.link):(this.image.visible=!0,this.image.link=this._link,this.input.value=this._link))},get:function(){return this._link}},value:{set:function(t){this.link=t},get:function(){return this._link}},title:{set:function(t){this._title!==t&&(this._title=t,this.btnLoad.text=t)},get:function(){return this._title}}})},function(t,i,h){"use strict";function e(t,i,h,e,s){PLInput.call(this,t,i,h,e,s),t.addChild(this),this.type="PLInputWithText";pl102.addElement(this),this.otstup=6,this.label=new PLLabel(this,0,0),this.label.visible=!1,this.drawRect=function(){this.label.text=this._text,""==this.label.text&&(this.label.text="0"),this.rect=this.label.getRect(),this.rect.width/=this.worldTransform.a,this.rect.height/=this.worldTransform.a,this.label.y=(this.input.height-this.rect.height)/2,this.rect.width>=this._width?this.input.htmlElement.style.paddingRight="0":this.input.htmlElement.style.paddingRight=this.paddingRight+"px",this.graphRect1.clear(),this.graphRect1.beginFill("0x909090"),this.graphRect1.drawRect(0,0,this._width,this._height),this.graphRect1.beginFill("0xffffff"),this.graphRect1.drawRect(1,1,this._width-2,this._height-2),this.graphRect1.endFill(),this._activMouse?this.graphRect.clear():(this.graphRect.clear(),this.graphRect.beginFill(pl102.color),this.graphRect.drawRect(0,0,this._width,this._height),this.graphRect.endFill())},this.setText=function(t){0==this.label.visible&&(this.label.visible=!0),this.label.text=t;var i,h=this.label.getRect();this.label.x=this._width+this.otstup,this.label.y=(this._height-h.height)/2,i=this.label,language.setTextComp(i)}}Object.defineProperty(i,"__esModule",{value:!0}),i.PLInputWithText=e,e.prototype=Object.create(PLInput.prototype),e.prototype.constructor=e,Object.defineProperties(e.prototype,{title:{set:function(t){this._title!=t&&(this._title=t,""==this._title&&(this._title="null"),"null"!=this._title&&(0==this.label.visible&&(this.label.visible=!0),this.label.text=this._title))},get:function(){return this._title}}})},function(t,i,h){"use strict";function e(t,i,h,e){PIXI.Container.call(this);var s=this;this._value=0,this.type="NumericPanel",this.content=new PIXI.Container,this.addChild(this.content),void 0!==t&&t.addChild(this),this.fun=e,this.x=i||0,this.y=h||0,this.arrayBtn=[],this.otstup=2,this._data=[],this.cache=[],this._width=100,this._height=100,this._value=1,this.panel=new PLPanel(this.content,this.content.x,this.content.y),this.panel.width=this._width,this.panel.height=pl102.wh+2*this.otstup,this.label=new PLLabel(this.content,0,0,"NO DATA"),this.refreshData=function(){this.clear();for(var t=0;t<this._data.length;t++)this.arrayBtn[t]=this.getBtn(),this.arrayBtn[t].text=this._data[t];this.label.visible=0==this._data.length,this.label.visible&&(this.label.x=this.panel.width-pl102.wh-5*this.otstup,this.label.y=this.panel.height/2-this.label.height+5*this.otstup),this.reposition()},this.clear=function(){for(var t=0;t<this.cache.length;t++)this.cache[t].life=!1},this.getBtn=function(){for(var t=0;t<this.cache.length;t++)if(!1===this.cache[t].life)return this.cache[t].life=!0,this.cache[t];var i=new PLButton(this.content,0,0,"",this.onDownBtn);return i.life=!0,this.cache.push(i),i},this.reposition=function(){var t=this.otstup,i=this.otstup;this.panel.width=this._width;for(var h=(this._width-2*this.otstup)/this._data.length,e=0;e<this.arrayBtn.length;e++)this.arrayBtn[e].life&&(this.arrayBtn[e].width=h-this.otstup,this.arrayBtn[e].label.fontSize=12,this.arrayBtn[e].position.set(t,i),t+=h)},this.onDownBtn=function(){s.value=this.text,s.fun&&s.fun()},this.setActive=function(t){for(var i=!0,h=0;h<s.arrayBtn.length;h++)s.arrayBtn[h].text==t&&i?(i=!1,s.arrayBtn[h].activ=!0):s.arrayBtn[h].activ=!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.NumericPanel=e,e.prototype=Object.create(PIXI.Container.prototype),e.prototype.constructor=e,Object.defineProperties(e.prototype,{data:{set:function(t){0!==t.length&&(this._data=t),this.refreshData()},get:function(){return this._data}},value:{set:function(t){this._value!==t&&(this._value=t,this.setActive(this._value))},get:function(){return this._value}},width:{set:function(t){this._width!==t&&(this._width=t,this.refreshData())},get:function(){return this._value}}})},function(t,i,h){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,i,h,o,n){SettingsBig.call(this,t),this.type="PLParamObject";var r,a,l=this;for(var u in this.fun=o,this._x=i||0,this._y=h||0,this.cont=t,this.infoInt=null!=n?n:-1,this._height=100,this._bWindow=!0,this._ignTypeArr=!1,this._actIgnBtn=!0,this._title="PLParamObject",this._priorityType=!1,this._isScroll=!1,this.arrayColor=[],this.oShablon=[],this.textJSON="{}",this.objJSON={},this.funMinimize,this.funKorektObj=void 0,this.parrentPLPO=void 0,this.tipRide=!1,this.oP,this.ignBtn,this.wh=pl102.wh,this.w,this.typeArray=[],this.typeNotArray=null,this.typeYesArray=null,this._bWindow?(this.w=new PLWindow(this.cont,this._x,this._y,this._title,function(){l.funMinimize&&(1==this.minimize?l._height=1:(l.draw(),l._height=l.finalHeight),l.funMinimize())}),this.w.content.addChild(this.content),pl102.removeElement(this.w,!0),this.w.drag=!1,this.w.width=this.width,this.w.height=this.height,0==this.infoInt&&(this.textArea=new PLTextArea(this.w.content,this._otstup,this._otstup,"null"),this.textArea.height=60,this.textArea.width=this.w.width-3*this._otstup-20,this.but=new PLButton(this.w.content,this.textArea.width+2*this._otstup,this._otstup,"<",function(){l.setObjStr(l.textArea.text)}),this.but.setStile(1,64,64),this.but.height=this.textArea.height,this.but.width=20,this.funActMouse=function(t){this.textArea.activMouse=!t}),1==this.infoInt&&(this.w.hasMinimizeButton=!0,this.w.minimize=!0,this.w.drag=!1,this._height=this.wh,this.w.fun=function(){if(1==this.minimize)l._height=l.wh;else{if(null!=l.parrentPLPO)for(var t=0;t<l.parrentPLPO.arrPLPO.length;t++)0==l.parrentPLPO.arrPLPO[t].w.minimize&&l.parrentPLPO.arrPLPO[t].idArr!=l.idArr&&(l.parrentPLPO.arrPLPO[t].w.minimize=!0,l.parrentPLPO.arrPLPO[t].w.fun());l.draw(),l._height=l.w.height}null!=l.parrentPLPO&&l.parrentPLPO.draw(),l.funMinimize&&l.funMinimize(this.minimize)})):(this.content.x=i,this.content.y=h),this.arrType=["numbercolor","boolean","number","string"],this.arrType)this.oShablon[u]=[];this.addObject=function(t,i){null!=i&&(this.tipRide=i),this.oP=t,this.oShablon=[];for(var h=0;h<this.arrType.length;h++)this.oShablon[this.arrType[h]]=[];this.generatShablon(),this.clearShablon(),this.creatToShablon(),this.startToShablon(),this.draw2(),this.setTextInput()},this.clearShablon=function(t){var i,h,e;if(null!=this.typeYesArray&&0==this._ignTypeArr){for(i=0;i<this.arrType.length;i++)for(r=this.oShablon[this.arrType[i]],h=0;h<r.length;h++){for(c=!0,e=0;e<this.typeYesArray.length;e++)r[h]==this.typeYesArray[e]&&(c=!1);1==c&&(r.splice(h,1),e=999,h=-1)}for(var s in this.oShablon){for(c=!0,i=0;i<this.arrType.length;i++)this.arrType[i]==s&&(c=!1);if(1==c)for(r=this.oShablon[s],i=0;i<r.length;i++){for(var o in a=!0,this.oP)if(this.oP[o]==r[i])for(e=0;e<this.typeYesArray.length;e++)o==this.typeYesArray[e]&&(a=!1,e=999);1==a&&(r.splice(i,1),i=-1)}}}if(null!=this.typeNotArray&&0==this._ignTypeArr){for(i=0;i<this.arrType.length;i++)for(r=this.oShablon[this.arrType[i]],h=0;h<r.length;h++)for(e=0;e<this.typeNotArray.length;e++)r[h]==this.typeNotArray[e]&&(r.splice(h,1),e=999,h=-1);for(var s in this.oShablon){for(c=!0,i=0;i<this.arrType.length;i++)this.arrType[i]==s&&(c=!1);if(1==c)for(r=this.oShablon[s],i=0;i<r.length;i++)for(var o in this.oP)if(this.oP[o]==r[i])for(e=0;e<this.typeNotArray.length;e++)o==this.typeNotArray[e]&&(r.splice(i,1),i=-1)}}},this.draw2=function(){this.w.height=this.finalHeight,null!=this.parrentPLPO&&(this.w.height=this.finalHeight+pl102.wh-this._otstup),0==this.infoInt&&(this.textArea.y=this.finalHeight,this.but.y=this.finalHeight,this.w.height+=this.textArea.height),this.ignBtn&&(this.ignBtn.x=this.w.width-this.ignBtn.width-3),l.updateScroll()},this.generatShablon=function(){var t,i;1==this.tipRide?(t=this.oP,this.generatShablon2(t)):(i=Object.getOwnPropertyNames(Object.getPrototypeOf(this.oP)),Object.getOwnPropertyNames(this.oP),this.generatShablon2(i))},this.generatShablon2=function(t){for(var i in t)1!=this.tipRide&&(i=t[i]),"constructor"!=i&&(o=e(this.oP[i]),o=this.addPrefix(o,i,this.oP[i]),this.oShablon[o]&&this.oShablon[o].push(i));for(var h in this.oP)if(null!=this.oP[h]&&"object"===e(this.oP[h]))for(var s=0;s<this.typeArray.length;s++)this.oP[h]instanceof this.typeArray[s].type&&(o=this.typeArray[s].name,null==this.oShablon[o]&&(this.oShablon[o]=[]),null!=this.typeArray[s].nameComp?(this.oShablon[o].push(h.replace("_","")),-1==this.arrType.indexOf(o)&&this.arrType.push(o)):this.oShablon[o].push(this.oP[h]));for(var o in this.oShablon)this.oShablon[o].sort()},this.component,this.arrPLPO=[],this.addComponent2=function(t,i,h){for(var e=!1,o=this.typeArray,n=0;n<o.length;n++)-1!=i.indexOf(o[n].name)&&null==o[n].nameComp&&(e=!0);1==e&&(this.component=new s(this.content,this.otstup,0,this.down,1),this.component.otstup=this.otstup,this.arrPLPO.push(this.component),this.arrPLPO[this.arrPLPO.length-1].idArr=this.arrPLPO.length-1,this.component.parrentPLPO=this,this.component.width=this._width-2*this.otstup,this.component.funMinimize=this.funMin,null!=h&&(null!=h.title&&(this.component.title=h.title),null!=h.tipRide&&(this.component.tipRide=h.tipRide)),null!=this.dinFun&&(this.component.dinFun=this.dinFun))},this.funMin=function(t){l.funMinimize&&(l.draw(),l._height=l.w.height,l.funMinimize())},this.reDragObject=function(t){},this.creatToShablon=function(){for(var t in this.oShablon)for(var i=0;i<this.oShablon[t].length;i++)this.addTypeComp(t,i)},this.addTypeComp=function(t,i){var h,e;"boolean"==t&&(h="PLCheckBox"),"numbercolor"==t&&(h="PLColor"),"number"==t&&(h="PLSliderBig"),"string"==t&&(h="StringDrag");for(var s=0;s<this.typeArray.length;s++)this.typeArray[s].name==t&&(h="PLParamObject",null!=this.typeArray[s].nameComp&&(h=this.typeArray[s].nameComp));null==this.objComp[t+i]&&h&&(e=this.addComponent(h,t+i),this.funDragSlider(e))},this.setTextInput=function(){this.objJSON=this.getObjStr(),this.textJSON=JSON.stringify(this.objJSON),0==this.infoInt&&(l.textArea.text=this.textJSON)},this.getObjStr=function(){var t,i={};for(var h in l.oShablon)for(var e=0;e<l.oShablon[h].length;e++){t=!1;for(var s=0;s<this.arrType.length;s++)this.arrType[s]==h&&(t=!0);if(0==t){for(s=0;s<this.arrComp2.length;s++)if("PLParamObject"==this.arrComp2[s].type)for(var o in this.oP)this.oP[o]==this.arrComp2[s].param&&(i[o]=this.arrComp2[s].getObjStr())}else i[l.oShablon[h][e]]=l.oP[l.oShablon[h][e]]}return i},this.setObjStr=function(t){var i=JSON.parse(t);l.setObjStr2(i),l.korektObjParamMinMax(),l.funD&&l.funD()},this.setObjStr2=function(t){for(var i in t)if(null!=l.oP[i])if("object"===e(l.oP[i]))for(var h=0;h<this.arrComp2.length;h++)this.arrComp2[h].param==l.oP[i]&&this.arrComp2[h].setObjStr2(t[i]);else l.oP[i]=t[i],null!=l.objComp[i]&&(l.objComp[i].value=t[i]);this.korektObjParam()},this.korektObjParamMinMax=function(){if(null!=this.object&&null!=this.object.param)for(var t=0;t<this.arrComp2.length;t++)if(null!=this.object.param[this.arrComp2[t].param]&&"PLSliderBig"==this.arrComp2[t].type){if(!1===slider.isDinamMinMax)return;this.omm=this.diapozon(this.oP[this.arrComp2[t].param]),this.arrComp2[t].min=this.omm.min,this.arrComp2[t].max=this.omm.max}l.korektObjParam()},this.componentS,this.funComplit=function(t){null==t&&(t=l.compFinal),this.component=this,l.componentS=t,l.funDragSlider(this),l.setTextInput(),l.fun&&l.fun(t)},this.funD,this.funDrag=function(){l.funD&&l.funD()},this.pointObject={min:0,max:100},this.arrayNum=[-1e7,-1e6,-1e5,-1e4,-5e3,-1e3,-500,-100,-50,-1,0,1,50,100,500,1e3,5e3,1e4,1e5,1e6,1e7];var c;this.diapozon=function(t){this.pointObject.min=0,this.pointObject.max=10;for(var i=1;i<this.arrayNum.length-1;i++)if(this.arrayNum[i]==t)return this.pointObject.min=this.arrayNum[i-1],this.pointObject.max=this.arrayNum[i+1],this.pointObject;for(i=1;i<this.arrayNum.length-1;i++)if(this.arrayNum[i-1]<t&&this.arrayNum[i]>t)return this.pointObject.min=this.arrayNum[i-1],this.pointObject.max=this.arrayNum[i],this.pointObject;return this.pointObject},this.omm,this.funDragSlider=function(t){if(t&&"PLSliderBig"==t.type){if(!1===t.isDinamMinMax)return;0==t.visiMinMax&&(t.visiMinMax=!0),this.omm=this.diapozon(t.value),t.min=this.omm.min,t.max=this.omm.max,t.value=t.value}},this.addPrefix=function(t,i,h){if("string"==t&&null!=h&&h.length<9){if(-1!=h.toLowerCase().indexOf("#"))return"numbercolor";if(-1!=h.toLowerCase().indexOf("0x"))return"numbercolor"}return t},this.formComp=function(t,i,h,e){var s={name:t+i,param:h,title:h};"number"==t&&(this.omm=this.diapozon(this.oP[h]),s.max=this.omm.max,s.min=this.omm.min),c=!1;for(var o=0;o<this.arrType.length;o++)this.arrType[o]==t&&(c=!0);if(0==c){for(var n in this.oP)if(this.oP[n]==h){s.title=n,s.tipRide=!1;for(var r=0;r<this.typeArray.length;r++)null!=this.typeArray[r].tipRide&&h instanceof this.typeArray[r].type&&(s.tipRide=this.typeArray[r].tipRide),null!=this.typeArray[r].typeYesArray&&h instanceof this.typeArray[r].type&&(s.typeYesArray=this.typeArray[r].typeYesArray),null!=this.typeArray[r].typeNotArray&&h instanceof this.typeArray[r].type&&(s.typeNotArray=this.typeArray[r].typeNotArray)}}else for(var a=0;a<this.typeArray.length;a++)t==this.typeArray[a].name&&null!=this.typeArray[a].typeYesArray&&(s.typeYesArray=this.typeArray[a].typeYesArray);e.arrComp.push(s)},this.startToShablon=function(){this.omm=this.diapozon(100);var t,i={};if(i.arrComp=[],l.object=i,1==this._priorityType&&0==this._ignTypeArr&&null!=this.typeYesArray){for(var h in r=[],this.oShablon)for(var e=0;e<this.oShablon[h].length;e++){if(t="null","string"==typeof this.oShablon[h][e])t=this.oShablon[h][e];else for(var s in this.oP)this.oP[s]==this.oShablon[h][e]&&(t=s);r.push(this.oShablon[h][e],h,t)}for(var o=0;o<this.typeYesArray.length;o++){t=this.typeYesArray[o];for(e=0;e<r.length;e+=3)t==r[e+2]&&this.formComp(r[e+1],o,r[e+2],i);0}}else for(var n in this.oShablon)for(e=0;e<this.oShablon[n].length;e++)this.formComp(n,e,this.oShablon[n][e],i);if(null!=this.typeYesArray&&0==this._ignTypeArr){var r=[];for(e=0;e<this.typeYesArray.length;e++)for(var a=0;a<i.arrComp.length;a++)if(i.arrComp[a].param==this.typeYesArray[e]){r.push(i.arrComp[a]);break}i.arrComp=r}i.param=this.oP,i.fun=this.funDrag,i.funComplit=this.funComplit,null!=this.funKorektObj&&this.funKorektObj(i),this.setObj(i)},this.funWH=function(){this.w&&(this.w.width=this.width)},this.getObj=function(){};this.createIgnBtn=function(){this.ignBtn=new PLButton(this.w,0,0,"+",function(){l.ignTypeArr=!l._ignTypeArr,1==l._ignTypeArr?this.text="-":this.text="+",l.funMinimize&&(l.w.minimize&&(l.w.minimize=!1),l.draw(),l._height=l.w.height,l.funMinimize())}),this.ignBtn.width=this.ignBtn.height=15,this.ignBtn.visible=this._actIgnBtn,this.ignBtn.y=7},1==this._actIgnBtn&&this.createIgnBtn(),this._heightWindow=100,this.updateScroll=function(){if(this.scrollPane&&this.isScroll){for(var t=this.finalHeight,i=0;i<this.arrComp2.length;i++)if(this.arrComp2[i].visible&&this.arrComp2[i].pLColorPickerPanel&&this.arrComp2[i].pLColorPickerPanel.visible){var h=this.arrComp2[i].y+this.arrComp2[i].pLColorPickerPanel.y+this.arrComp2[i].pLColorPickerPanel.height;h>t&&(t+=h-t);break}this.scrollPane.width=this._width,this.scrollPane.widthContent=this._width,this.scrollPane.height=this._heightWindow,this.scrollPane.heightContent=t,this.scrollPane.update(),l.w.height=l._heightWindow,l._height=l.w.height}},this.initScroll=function(){null!=this.w&&null==this.scrollPane&&(this.scrollPane=new ScrollPane(this.w.content,0,0),this.scrollPane.addContent(this.content),this.scrollPane.boolPositOtctup=!0,l.updateScroll())}}Object.defineProperty(i,"__esModule",{value:!0}),i.PLParamObject=s,s.prototype.constructor=s,Object.defineProperties(s.prototype,{bWindow:{set:function(t){this._bWindow!=t&&(this._bWindow=t,1==t?(this.w||(this.w=new PLWindow(this.cont,this._x,this._y,"PLParamObject Test"),pl102.removeElement(this.w,!0),this.w.width=this.width,this.w.height=this.height),this.w.visible=!0,this.w.addChild(this.content),this.content.x=0,this.content.y=30):(this.w&&(this.w.visible=!1),this.cont.addChild(this.content),this.content.x=this._x,this.content.y=this._y))},get:function(){return this._bWindow}},x:{set:function(t){this._x=t,this.w&&(this.w.x=this._x)},get:function(){return this._x}},y:{set:function(t){this._y=t,this.w&&(this.w.y=this._y)},get:function(){return this._y}},height:{set:function(t){},get:function(){return this._height}},heightWindow:{set:function(t){this._heightWindow=t,this.updateScroll()},get:function(){return this._heightWindow}},visible:{set:function(t){this._visible=t,this.w&&(this.w.visible=this._visible)},get:function(){return this._visible}},title:{set:function(t){this._title!=t&&(this._title=t,this.w&&(this.w.text=this._title))},get:function(){return this._title}},ignTypeArr:{set:function(t){this._ignTypeArr!=t&&(this._ignTypeArr=t,this.addObject(this.oP))},get:function(){return this._ignTypeArr}},actIgnBtn:{set:function(t){this._actIgnBtn!=t&&(this._actIgnBtn=t,this.ignBtn||this.createIgnBtn(),this.ignBtn.visible=this._actIgnBtn)},get:function(){return this._actIgnBtn}},priorityType:{set:function(t){this._priorityType!=t&&(this._priorityType=t,this.addObject(this.oP))},get:function(){return this._priorityType}},isScroll:{set:function(t){this._isScroll!=t&&(this._isScroll=t,this.initScroll())},get:function(){return this._isScroll}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SettingsBig=SettingsBig,exports.PLGADM=PLGADM,exports.ContentMenuPlus=ContentMenuPlus,exports.StringDrag=StringDrag,exports.StringInput=StringInput;var _PLGalleryADM=__webpack_require__(0);function SettingsBig(_cont){var self=this,component;this.type="SettingsBig",this.content=new PIXI.Container,this.content.type="SettingsBigCont",this.content.settingsBig=this,null!=_cont&&_cont.addChild(this.content),this.dinFun,this._otstup=10,this._width=200,this._height=200,this._heightMax=1e3,this._value=void 0,this.drawArrFon=!0,this.finalHeight=200,this.arrComp=[],this.arrComp2=[],this.objComp={},this.tipRide=!1,this.arrF=[],this.arrayFon=new PLArrayFon(this.content),this.arrayFon.width=this._width-1,this.arrayFon.x=.5,this.arrayFon.alphaIm=.12,this.debugRect=!1,this.shagY=0,this.korectText=null;var shagX=0,mawH=0,kolS,shaSlid,predComp="null",compPH=0,startP=0,miniOtstup=2,debugGraph;this.draw=function(){this.getBigH(),this.debugRect&&this.drawDebugRect(),shaSlid=0,this.shagY=this._otstup,this.arrF=[],this.arrF[0]=0,this.arrF[1]=2,predComp="null",compPH=0,startP=0,this.arrDividingLine.forEach(function(t){t.visible=!1});for(var t=0;t<this.arrComp2.length;t++)if(!1!==this.arrComp2[t].visible){var i=!0;if(void 0!==this.arrComp2[t].funDrag&&!0===this.arrComp2[t].funDrag(this,t))continue;"PLCheckBoxImage"===this.arrComp2[t].type&&null!=this.arrComp2[t+1]&&"PLCheckBoxImage"==this.arrComp2[t+1].type&&(i=!1),"SliderImg"===this.arrComp2[t].type&&null!=this.arrComp2[t+1]&&++shaSlid%2!=0&&"SliderImg"==this.arrComp2[t+1].type&&(i=!1),"SliderImg"===this.arrComp2[t].type&&(this.arrComp2[t].x=this._otstup+this._otstup/2,0!==t&&"SliderImg"===this.arrComp2[t-1].type&&shaSlid%2==0&&(this.arrComp2[t].x=this._width/2+this._otstup+this._otstup/2,this.addDividingLine(this._width/2,this.shagY-this._otstup+2,this.arrComp2[t].height+2*this._otstup-4))),"PLButSwitch"===this.arrComp2[t].type&&(this.shagY-=this._otstup-miniOtstup);var h="PLColorPalette"===this.arrComp2[t].type,e="MColorPalettePicker"===this.arrComp2[t].type;(h||e)&&(this.shagY-=this._otstup),i?(predComp===this.arrComp2[t].type||-1!==this.arrComp2[t].type.indexOf(predComp)?(compPH+=this.arrComp2[t].height+this._otstup,this.arrF[this.arrF.length-1]=compPH):("null"===predComp||t===this.arrComp2.length-1&&"PLPachkaButton2"==this.arrComp2[this.arrComp2.length-1].type?startP=this.shagY:(this.shagY+=this._otstup,startP=this.shagY),this.arrF.push(startP),this.arrF.push(this.arrComp2[t].height+this._otstup),compPH=this.arrComp2[t].height+this._otstup),predComp=this.arrComp2[t].type,this.arrComp2[t].y=this.shagY,this.shagY+=this.arrComp2[t].height+this._otstup):this.arrComp2[t].y=this.shagY,this.debugRect&&this.drawDebugRect(this.arrComp2[t].y,this.arrComp2[t].height),"PLPachkaButton2"!==this.arrComp2[t].type&&"PLButSwitch"!==this.arrComp2[t].type||(this.arrF[this.arrF.length-1]-=this._otstup,this.shagY-=this._otstup,"PLButSwitch"===this.arrComp2[t].type&&(this.arrF[this.arrF.length-1]+=miniOtstup)),(h||e)&&(this.arrF[this.arrF.length-1]-=this._otstup,this.shagY-=this._otstup)}1==this.drawArrFon&&this.arrayFon.setArrFon(this.arrF),this.finalHeight=this.shagY,this.draw2()},this.arrDividingLine=[],this.addDividingLine=function(t,i,h){var e=null;this.arrDividingLine.forEach(function(t){!1===t.visible&&(e=t,t.visible=!0)},this),null===e&&(e=new PIXI.Graphics,this.arrDividingLine.push(e),this.content.addChild(e)),e.clear(),e.beginFill("0xaeaeae"),e.drawRect(0,0,1.5,h),e.position.set(t,i)},this.drawDebugRect=function(t,i){null==debugGraph&&(debugGraph=new PIXI.Graphics,this.content.addChild(debugGraph)),null!=t?(debugGraph.lineStyle(.5,16711680),debugGraph.drawRect(0,t,this._width,i)):debugGraph.clear()},this.getHForGal=function(){},this.draw2=function(){};var colMax=0,colMin=0,actCol=!0,indC=-1,bbb,b,ss,bb,component;this.getBigH=function(){mawH=2*this._otstup,kolS=0,indC=-1,actCol=!0;for(var t=!1,i=0;i<this.arrComp2.length;i++)this.arrComp2[i].visible&&"PLButSwitch"===this.arrComp2[i].type&&(t=!0,i=this.arrComp2.length);for(i=0;i<this.arrComp2.length;i++)if(0!=this.arrComp2[i].visible)switch(this.arrComp2[i].type){case"PLGADM":kolS+=this.arrComp2[i].currentHeight+this._otstup;break;case"GalleryAdm":kolS+=this.arrComp2[i].corentHeight+this._otstup;break;case"PLColorUn":colMax=this.arrComp2[i].heightMax+this._otstup,colMin=this.arrComp2[i].heightMin+this._otstup;break;default:mawH+=this.arrComp2[i].height+2*this._otstup}mawH-=this._otstup,kolS-=this._otstup;var h=mawH+kolS,e=mawH+kolS,s=this._height-mawH;t||(h+=colMax,e+=colMin,s-=colMin);for(i=0;i<this.arrComp2.length;i++)if(!1!==this.arrComp2[i].visible){var o=this.arrComp2[i].type;"PLGADM"!==o&&"GalleryAdm"!==o||(h>this._height?(actCol=!1,e>this._height?this.arrComp2[i].height=s:this.arrComp2[i].height=kolS):(actCol=!0,this.arrComp2[i].height=kolS)),"PLColorUn"==this.arrComp2[i].type&&(indC=i),-1!=indC&&(this.arrComp2[indC].boolBig=actCol)}},this.setVisi=function(t){bbb=!1;for(var i=0;i<t.length;i+=2)null!=this.objComp[t[i]]&&this.objComp[t[i]].visible!=t[i+1]&&(bbb=!0,this.objComp[t[i]].visible=t[i+1]);return 1==bbb&&this.draw(),bbb},this.setValue=function(t,i,h){null!=this.objComp[t]&&(this.objComp[t][i]=h)},this.getValue=function(t,i){return this.objComp[t][i]},this.getComp=function(t,i){return this.objComp[t]},this.getIdIsName=function(t){for(var i in this.objComp)if(null!=this.objComp[i].param&&this.objComp[i].param==t)return this.objComp[i];return null},this.object,this.setObj=function(t){this.object=t,this._value=t,this.korektObj(),this.korektObjParam(),this.draw()},this.korektObjParam=function(){if(null!=this.object&&null!=this.object.param)for(var t=0;t<this.arrComp2.length;t++)null!=this.object.param[this.arrComp2[t].param]&&null!=this.arrComp2[t].value&&(this.updateMinMax(this.arrComp2[t],this.object.param),this.updateValueComp(this.arrComp2[t],this.object.param))},this.updateValueComp=function(t,i){t.value!=i[t.param]&&(self.object.arrComp[t.idArr2].arrValue&&void 0!==t.index?t.index=self.object.arrComp[t.idArr2].arrValue.indexOf(i[t.param]):t.value=i[t.param])},this.updateMinMax=function(t,i){null!=t.min&&null!=i[t.param+"Min"]&&t.min!=i[t.param+"Min"]&&(t.min=i[t.param+"Min"]),null!=t.max&&null!=i[t.param+"Max"]&&t.max!=i[t.param+"Max"]&&(t.max=i[t.param+"Max"])},this.korektObj=function(){var t,i;for(t=0;t<this.arrComp.length;t++)this.arrComp[t].visible=!1;for(this.arrComp2.length=0,t=0;t<this.object.arrComp.length;t++)for(i=0;i<this.arrComp.length;i++)if(this.object.arrComp[t].name==this.arrComp[i].name){for(var h in this.arrComp[i].visible=!0,null!=this.object.arrComp[t].tipRide&&(this.arrComp[i].tipRide=this.object.arrComp[t].tipRide),null!=this.object.arrComp[t].typeYesArray&&(this.arrComp[i].typeYesArray=this.object.arrComp[t].typeYesArray),null!=this.object.arrComp[t].typeNotArray&&(this.arrComp[i].typeNotArray=this.object.arrComp[t].typeNotArray),null!=this.object.arrComp[t].arrObj&&(this.arrComp[i].clear(),this.arrComp[i].setObj(this.object.arrComp[t].arrObj)),this.object.arrComp[t])h in this.arrComp[i]&&(this.arrComp[i][h]=this.object.arrComp[t][h]);if(null!=this.object.arrComp[t].title&&(ss=this.getText(this.object.arrComp[t].title),this.arrComp[i].title=ss,this.arrComp[i].text=ss),null!=this.object.arrComp[t].plusText&&null!=this.arrComp[i].plusText&&(this.arrComp[i].plusText=this.getText(this.object.arrComp[t].plusText)),null!=this.object.arrComp[t].plusArrText&&null!=this.arrComp[i].plusArrText){for(var e=this.arrComp[i].plusArrText,s=0;s<e.length;s++)e[s]=this.getText(e[s]);this.arrComp[i].plusArrText=e}if(null!=this.object.param){if(b=!0,null!=this.object.param[this.object.arrComp[t].param])if(self.object.arrComp[t].arrValue&&void 0!==this.arrComp[i].index){var o=self.object.arrComp[t].arrValue.indexOf(this.object.param[this.object.arrComp[t].param]);this.arrComp[i].index=o}else this.arrComp[i].value=this.object.param[this.object.arrComp[t].param];else void 0!==this.object.arrComp[t].param&&(this.arrComp[i].value=this.object.arrComp[t].param),this.reDragObject(this.arrComp[i]);this.arrComp[i].param=this.object.arrComp[t].param}else null!=this.object.objSave&&null!=this.object.objSave[this.object.arrComp[t].param]&&(this.arrComp[i].value=this.object.objSave[this.object.arrComp[t].param],this.arrComp[i].param=this.object.arrComp[t].param);this.arrComp[i].idArr2=t,this.arrComp2.push(this.arrComp[i])}this.draw()},this.compFinal,this.down=function(){self.compFinal=this,null!=self.object.funPre&&self.object.funPre(this);for(var t=0;t<self.object.arrComp.length;t++)if(self.object.arrComp[t].name==this.name){var i=self.object.arrComp[t].param,h=this.value;if(self.object.arrComp[t].arrValue&&void 0!==this.index&&(h=self.object.arrComp[t].arrValue[this.index]),i){if(null!=self.object.param&&(self.object.param[i]=h,self.object.param.settingsBeside&&self.object.param.settingsBeside(i)),null!=self.object.array)for(var e=0;e<self.object.array.length;e++)self.object.array[e][i]=h;null!=self.object.objSave&&void 0!==self.object.objSave[i]&&(self.object.objSave[i]=h)}null!=self.object.fun&&self.object.fun(this),null!=self.dinFun&&self.dinFun()}"SliderObject"!=this.type&&"PLSliderBig"!=this.type&&"PLSliderBigRad"!=this.type&&"SliderImg"!==this.type&&"PLCheckBox"!==this.type&&null!=self.object.funComplit&&self.object.funComplit(this)},this.funComplit=function(){null!=self.object.funComplit&&self.object.funComplit(this)},this.funUp=function(){null!=self.object.funUp&&self.object.funUp(this)},this.funActMouse,this.setActMouse=function(t,i){},this.setActMouseAll=function(t){for(var i=0;i<this.arrComp2.length;i++)this.arrComp2[i].activMouse=t;for(i=0;i<this.arrComp.length;i++)this.arrComp[i].activMouse=t},this.component;var bwidth=!0;this.addComponent=function(_type,_name,_param){if(void 0!==window[_type]){if(component=null,"StringDrag"==_type&&(component=new StringDrag(this.content,0,0,_param,this.down),component.width=this._width-2*this._otstup),"StringInput"==_type&&(component=new StringInput(this.content,0,0,_param,this.down),component.width=this._width-2*this._otstup),"PLComboBox"==_type&&(component=new PLComboBox(this.content,0,0,[],this.down),component.x=this._otstup,component.width=this._width-2*this._otstup,component.isAutoReversePanel=!0,component.funChangeVisiblePanel=function(){for(var t=0;t<self.arrComp2.length;t++)self.arrComp2[t].idArr!==this.idArr&&(self.arrComp2[t].activMouse=!this.visiPanel);self.funActMouse&&self.funActMouse(this.visiPanel)}),"PLTextArea"==_type&&(component=new PLTextArea(this.content,0,0,_param.text,this.down),component.height=_param.height,component.label.style.overflow=_param.labelStyle,component.label.maxLength=_param.maxLength,component.x=this._otstup,component.width=this._width-2*this._otstup),"PLCheckBox"==_type&&(component=new PLCheckBox(this.content,0,0,_name,this.down),component.x=this._otstup,component.funUp=this.funComplit),"PLLabel"==_type&&(component=new PLLabel(this.content,0,0,_name,this.down),component.fontSize=14,component.bold=!1,component.x=this._otstup),"PLImage"==_type&&(component=new PLImage(this.content,0,0,null,function(){this.height=this.width/this.picWidth*this.picHeight,self.draw(),self.funWH&&self.funWH()}),component.height=this._width-2*this._otstup,component.width=this._width-2*this._otstup,component.x=this._otstup,component.name=_name),"PLButSwitch"==_type&&(component=new PLButSwitch(this.content,0,0,this.down),null!=_param&&(null!=_param.arr&&component.setArr(_param.arr),null!=_param.index&&(component.index=_param.index)),component.width=this._width,component.x=0),"PLPachkaCheckBoxImage"==_type&&(component=new PLPachkaCheckBoxImage(this.content,0,0,this.down),null!=_param&&(null!=_param.typeDown&&(component.typeDown=_param.typeDown),null!=_param.arr&&component.setArr(_param.arr),null!=_param.index&&(component.index=_param.index)),component.width=this._width-2*this._otstup,component.x=this._otstup,component.activContur=!0,null!=_param&&(null!=_param.width&&component.setWH(_param.width,_param.height),null!=_param.poved&&(component.poved=_param.poved),null!=_param.isIlumActiv&&(component.isIlumActiv=_param.isIlumActiv))),"PLPachkaImgBut"==_type&&(component=new PLPachkaImgBut(this.content,0,0,this.down),null!=_param&&(null!=_param.typeDown&&(component.typeDown=_param.typeDown),null!=_param.arr&&component.setArr(_param.arr),null!=_param.index&&(component.index=_param.index)),component.width=this._width-2*this._otstup,component.x=this._otstup,component.activContur=!0,null!=_param&&(null!=_param.width&&component.setWH(_param.width,_param.height),null!=_param.otstup&&(component.otstup=_param.otstup))),"PLSwitchPachkaBut"==_type&&(component=new PLSwitchPachkaBut(this.content,0,0,this.down),null!=_param&&(null!=_param.arr&&component.setArr(_param.arr),null!=_param.arrButPosition&&component.setButPositionArr(_param.arrButPosition),null!=_param.height&&(component.height=_param.height)),component.width=this._width-2*this._otstup,component.x=this._otstup),"SliderImg"==_type){var otst=40,min=0,max=100,okrug=100,typeValue="wh";null!=_param&&(null!=_param.min&&(min=_param.min),null!=_param.max&&(max=_param.max),null!=_param.okrug&&(okrug=_param.okrug),null!=_param.typeValue&&(typeValue=_param.typeValue)),component=new SliderImg(this.content,0,0),null!=_param&&(null!=_param.setText&&component.setText(_param.setText),component.name=name,component.fun=this.down,component.min=min,component.max=max,component.typeValue=typeValue,null!=_param.link&&(component.link=_param.link)),component.okrug=okrug,component.x=this._otstup,component.width=(this._width-2*this._otstup-2*otst)/2,component.funUp=this.funComplit}if("PLPachkaButton"==_type){component=new PLPachkaButton(this.content,0,0,this.down);for(var i=0;i<_param.arr.length;i+=2)component.addComponent(_param.arr[i],_param.arr[i+1]);component.width=this._width-2*this._otstup,component.setStile(1,component.wh,component.wh)}if("PLPachkaButton2"==_type){component=new PLPachkaButton2(this.content,0,0,this.down);for(var i=0;i<_param.arr.length;i++)component.addComponent(_param.arr[i]);null!=_param.loadBtn&&component.array[_param.loadBtn].startFile(".jpg, .png, .bmp, .jpeg"),null!=_param.notUp&&(component.notUp=_param.notUp),component.width=this._width,component.setStile(1,component.wh,component.wh)}if("PLPachkaButton3"==_type){component=new PLPachkaButton3(this.content,0,0,this.down),component.setArr(_param),component.width=this._width,component.height=27;for(var i=0;i<component.arrayComp.length;i++)component.arrayComp[i].hImage=0}if("PLButton"==_type&&(component=new PLButton(this.content,1,0,"",this.down),component.setStile(1,64,64),null!=_param&&(null!=_param.title&&(component.text=_param.title),null!=_param.link&&component.loadImeg(_param.link),null!=_param.file&&component.startFile(".jpg, .png, .bmp, .jpeg")),component.width=this._width-2),"PLColorUn"==_type&&(component=new PLColorUn(this.content,0,0,this.down),component.visiblePanel=!1,component.width=this._width-2*this._otstup,component.x=this._otstup,component.funChangeVisiblePanel=function(){for(var t=0;t<self.arrComp2.length;t++)self.arrComp2[t].idArr!==this.idArr&&(self.arrComp2[t].activMouse=!this.pLColorPickerPanel.visible);self.funActMouse&&self.funActMouse(this.pLColorPickerPanel.visible)},null!=_param&&(null!=_param.title&&(component.text=component.title),null!=_param.boolBig&&(component.boolBig=component.boolBig),null!=_param.visiblePanel&&(component.visiblePanel=component.visiblePanel)),self.draw2&&self.draw2()),"PLColor"==_type&&(component=new PLColor(this.content,0,0,this.down),component.width=this._width-2*this._otstup,component.x=this._otstup,component.funChangeVisiblePanel=function(){for(var t=0;t<self.arrComp2.length;t++)self.arrComp2[t].idArr!==this.idArr&&(self.arrComp2[t].activMouse=!this.pLColorPickerPanel.visible);self.funActMouse&&self.funActMouse(this.pLColorPickerPanel.visible)},null!=_param&&(null!=_param.title&&(component.text=_param.title),null!=_param.boolBig&&(component.boolBig=_param.boolBig),null!=_param.visiblePanel&&(component.visiblePanel=_param.visiblePanel),null!=_param.tipParam&&(component.tipParam=_param.tipParam)),self.draw2&&self.draw2()),"PLColorTHREE"==_type&&(component=new PLColorTHREE(this.content,0,0,this.down),component.width=this._width-2*this._otstup,component.x=this._otstup,component.funChangeVisiblePanel=function(){for(var t=0;t<self.arrComp2.length;t++)self.arrComp2[t].idArr!==this.idArr&&(self.arrComp2[t].activMouse=!this.pLColorPickerPanel.visible);self.funActMouse&&self.funActMouse(this.pLColorPickerPanel.visible),self.draw2&&self.draw2()},null!=_param&&null!=_param.title&&(component.text=component.title)),"MTypedColor"==_type){var title=null,typePicker=null,isActivCubePicker=null;void 0!==_param&&(void 0!==_param.title&&(title=_param.title),void 0!==_param.typePicker&&(typePicker=_param.typePicker),void 0!==_param.isActivCubePicker&&(isActivCubePicker=_param.isActivCubePicker)),component=new MTypedColor(this.content,0,0,this.down,title,typePicker),component.width=this._width-2*this._otstup,component.x=this._otstup,component.funChangeVisiblePanel=function(){for(var t=0;t<self.arrComp2.length;t++)self.arrComp2[t].idArr!==this.idArr&&(self.arrComp2[t].activMouse=!this.mColorPickerPanel.visible);self.funActMouse&&self.funActMouse(this.mColorPickerPanel.visible),self.draw2&&self.draw2()},null!==isActivCubePicker&&(component.colPicActiv=isActivCubePicker)}if("PLColorPalette"===_type&&(component=new PLColorPalette(this.content,0,0,this.down),component.width=this._width,component.otstup=10,component.panel.visible=!1,component.funBtnAdd=this.down),"MColorPalettePicker"===_type&&(component=new MColorPalettePicker(this.content,0,0,this.down),component.width=this._width,component.otstup=10,component.panel.visible=!1,component.height=164),"PLSliderBig"==_type){var min=0,max=100,okrug=100;null!=_param&&(null!=_param.min&&(min=_param.min),null!=_param.max&&(max=_param.max),null!=_param.okrug&&(okrug=_param.okrug)),component=new PLSliderBig(this.content,0,0,_name,this.down,min,max),null!=_param&&(null!=_param.setText&&component.setText(_param.setText),null!=_param.isDinamMinMax&&(component.isDinamMinMax=_param.isDinamMinMax)),component.notInp=!0,component.okrug=okrug,component.x=this._otstup,component.colorText=this.colorText,component.width=this._width-2*this._otstup,component.funUp=this.funComplit}if("PLSliderBigRad"==_type&&(component=new PLSliderBigRad(this.content,0,0,_name,this.down),null!=_param&&null!=_param.setText&&component.setText(_param.setText),component.funUp=this.funComplit,component.x=this._otstup,component.width=this._width-2*this._otstup,component.colorText=this.colorText),"PLButtonFullWidth"==_type&&(component=new PLButtonFullWidth(this.content,0,0,this.down),component.x=this._otstup,component.width=this._width-2*this._otstup,component.height=(this._width-2*this._otstup)/6,null!=_param&&null!=_param.arr&&component.setArr(_param.arr)),"PLGADM"==_type){var vnutri=2;component=new PLGADM(this.content,0,0,"xz",this.down),component.boolLeft=!0;var stepW=4,povedSlid=0;null!=_param&&(null!=_param.stepW&&(stepW=_param.stepW),null!=_param.povedSlid&&(povedSlid=_param.povedSlid)),component.stepW=stepW,component.povedSlid=povedSlid,component.visibleIndex=!0,component.otstup=vnutri,component.wh=(this._width-this._otstup*(stepW-1))/stepW,component.visiItem=1,component.x=this._otstup}if("GalleryAdm"==_type){component=new GalleryAdm(this.content,0,0,this.down);var stepW=4;null!=_param&&null!=_param.stepW&&(stepW=_param.stepW),component.ii=stepW,component.x=this._otstup,component.width=this._width-2*this._otstup}if("SliderObject"==_type){var comand='new SliderObject(this.content, 0, 0, "xz",this.down)';component=eval(comand);var stepW=4;null!=_param&&null!=_param.stepW&&(stepW=_param.stepW),component.ii=stepW,component.x=this._otstup,component.width=this._width-2*this._otstup,component.funUp=this.funComplit,component.funComplit=this.funComplit}if("VisualContentLoader"===_type){var component=new window.VisualContentLoader(this.content,0,0,this.down);null!=_param&&(null!=_param.getFile&&(component.funGetFile=_param.getFile),null!=_param.onload&&(component.onload=_param.onload)),component.x=this._otstup,component.width=this._width-2*this._otstup,component.funUp=this.funComplit}return"PLInputWithText"==_type&&(component=new PLInputWithText(this.content,0,0,"",this.down),null!=_param&&(null!=_param.title&&(component.title=language.getTextByKey(_param.title)),null!=_param.setText&&component.setText(_param.setText),null!=_param.value&&(component.value=_param.value)),component.x=this._otstup),"ContentMenuPlus"==_type&&(component=new ContentMenuPlus(this.content,0,0,"",this.down),null!=_param&&null!=_param.content&&(component.content=_param.content),component.x=this._otstup),"NumericPanel"==_type&&(component=new NumericPanel(this.content,0,0,this.down),null!=_param&&(null!=_param.content&&(component.content=_param.content),void 0!==_param.data&&(component.data=_param.data),void 0!==_param.value&&(component.value=_param.value)),component.x=this._otstup,component.width=this._width-2*this.otstup),null!=_param&&null!=component&&null!=_param.funDrag&&(component.funDrag=_param.funDrag),this.component=component,this.addComponent2(_type,_name,_param),this.component.visible=!1,this.component.name=_name,this.component.idArr=this.arrComp.length,this.arrComp.push(this.component),this.objComp[_name]=this.component,this.drawComponent(),this.component}console.warn("Не найден компонент при добавлении в SettingsBig => "+_type)},this.component,this.addComponent2=function(t,i,h){},this.addObject=function(t,i){},this.reDragObject=function(t){},this.drawComponent=function(){},this.getText=function(t){return null!==this.korectText?this.korectText(t):t},Object.defineProperty(this,"otstup",{set:function(t){this._otstup!=t&&(this._otstup=t,this.drawComponent())},get:function(){return this._otstup}}),Object.defineProperty(this,"width",{set:function(t){this._width!=t&&(this._width=t,this.arrayFon.width=this._width-2,this.drawComponent(),this.funWH&&this.funWH())},get:function(){return this._width}}),Object.defineProperty(this,"height",{set:function(t){this._height!=t&&(this._height=t,this.draw(),this.funWH&&this.funWH())},get:function(){return this._height}}),Object.defineProperty(this,"heightMax",{set:function(t){this._heightMax!=t&&(this._heightMax=t,this.drawComponent())},get:function(){return this._heightMax}}),Object.defineProperty(this,"value",{set:function(t){this._value=t;var i=!0;null!=t.fun&&(i=!1),1==i?this.addObject(t,this.tipRide):this.addObject(t.param,this.tipRide)},get:function(){return this._value}})}function PLGADM(t,i,h,e,s,o,n){_PLGalleryADM.PLGalleryADM.call(this,t,i,h,e,s,o,n),this.type="PLGADM";this.kont.color=7434609,this.kont.thickness=2}function ContentMenuPlus(t,i,h,e){PIXI.Container.call(this),this.type="ContentMenuPlus",t.addChild(this),this.x=i||0,this.y=h||0,this.fun=e,this._content=void 0}function StringDrag(t,i,h,e,s){PIXI.Container.call(this),this.type="StringDrag";var o=this;t.addChild(this),this.x=i||0,this.y=h||0,this.fun=s,this._width=100,this._height=pl102.wh+4,this._activJsonParam=!1,this._isJSON=!1,this.otstup=2,this.wh=pl102.wh;var n=null;this.init=function(){this.input=new PLInput(this,this.otstup,this.otstup,"null",function(){o._value=this.text,o.drag(),o.fun()}),this.input.width=(this._width-2*this.otstup)/2,this.input.x=this._width-this.input.width-this.otstup,this.input.funChange=function(){o._value=this.text},this.but=new PLButton(this,this.otstup,this.otstup,":",function(){o.fun()}),this.but.setStile(1,2*this.wh,this.wh),this.input.x=this.but.width+2*this.otstup,this.butMenu=new PLButton(this,this.otstup,this.otstup,"",function(){o.activJsonParam=!o._activJsonParam}),this.butMenu.setStile(1,this.wh,this.wh),this.paramObject=new PLParamObject(this,this.otstup,this.wh+2*this.otstup,function(){o.value=JSON.stringify(this.objJSON),o.fun()}),this.paramObject.visible=!1,this.paramObject.w.drag=!0,this.paramObject.width=this._width,this.paramObject.heightWindow=225-this.otstup,this.paramObject.funMinimize=this.funMinPO,this.paramObject.isScroll=!0,this.drag()},this.funMinPO=function(){o.activJsonParam=!1},this.jsonCheck=function(t){if(void 0===t)return!1;if("null"===t)return!1;if("string"!=typeof t)return!1;if(-1===t.indexOf('":'))return!1;if(-1===t.indexOf("}"))return!1;try{JSON.parse(t)}catch(t){return!1}return!0},this.drag=function(){this.isJSON=this.jsonCheck(this._value),this.paramObject.width=this._width,this.input.width=(this._width-this.otstup)/2,this.input.x=this._width-this.input.width,this.butMenu.x=this._width-this.input.width-this.butMenu.width-this.otstup;var t=0;t=this._activJsonParam&&this._isJSON?this.paramObject.y+this.paramObject.w.height+pl102.wh:pl102.wh+2*this.otstup,this.height!==t&&(this.height=t,this.dragSettingsBig())},this.dragSettingsBig=function(){null===n&&(n=r(this.parent)),null!==n&&n.draw()};var r=function t(i){return null===i?null:i.settingsBig?i.settingsBig:t(i.parent)};this.init()}function StringInput(t,i,h,e,s){PIXI.Container.call(this),this.type="StringDrag";var o=this;t.addChild(this),this.x=i||0,this.y=h||0,this.fun=s,this._title=e,this._text="--",this._width=100,this._height=pl102.wh,this.input=new PLInput(this,0,0,"null",function(){o._value=this.text,o.fun()}),this.label=new PLLabel(this,0,5,e,function(){o.fun()}),this.draw=function(){this.input.width=2*this._width/3,this.input.x=this._width/3},this.draw()}PLGADM.prototype=Object.create(_PLGalleryADM.PLGalleryADM.prototype),PLGADM.prototype.constructor=PLGADM,Object.defineProperties(PLGADM.prototype,{index:{set:function(t){this._index!=t&&(this._index=t,this.kont.visible=!1,null!=this.arrBtn[this._index]?(this.kont.x=this.arrBtn[this._index].x,this.kont.y=this.arrBtn[this._index].y,this.kont.visible=!0):(this.contentB.y=0,this.slidV.scrolValue=0),this.arrBtn[t]&&(this.slidV.scrolValue=this.arrBtn[t].y,this.contentB.y=-this.slidV.scrolValue))},get:function(){return this._index}},height:{set:function(t){if(this._height!=t){this._height=t;for(var i=0;i<this.arrBtn.length;i++)this.arrBtn[i].galeri&&(this.arrBtn[i].galeri.height=this._height);this.draw(),this.arrBtn[this._index]&&(this.slidV.scrolValue=this.arrBtn[this._index].y,this.contentB.y=-this.slidV.scrolValue)}},get:function(){return this._height}}}),ContentMenuPlus.prototype=Object.create(PIXI.Container.prototype),ContentMenuPlus.prototype.constructor=ContentMenuPlus,Object.defineProperties(ContentMenuPlus.prototype,{content:{set:function(t){this._content=t,this.addChild(this._content)},get:function(){return this._content}}}),StringDrag.prototype=Object.create(PIXI.Container.prototype),StringDrag.prototype.constructor=StringDrag,Object.defineProperties(StringDrag.prototype,{text:{set:function(t){this._value!==t&&(this.value=t,null!=this._value&&(this.but.text=t.substr(0,4)+" >",this.input.text=t))},get:function(){return this._value}},activJsonParam:{set:function(t){this._activJsonParam!==t&&(this._activJsonParam=t,this.butMenu.activ=this._activJsonParam,this.paramObject.visible=this._activJsonParam,this.drag())},get:function(){return this._activJsonParam}},isJSON:{set:function(t){this._isJSON=t,!0===this._isJSON&&(this.objJSON=JSON.parse(this._value),this.paramObject.addObject(this.objJSON,!0)),this.butMenu.visible=this.isJSON,this.paramObject.visible=!1!==this.isJSON&&this._activJsonParam,this.but.width=this._width-this.input.width-2*this.otstup,this.but.width=!0===this._isJSON?this.but.width-this.butMenu.width-this.otstup:this.but.width},get:function(){return this._isJSON}},value:{set:function(t){this._value!==t&&(this._value=t,this.input.text=this._value,this.activ=!1,this.drag())},get:function(){return this._value}},width:{set:function(t){this._width!==t&&(this._width=t,this.drag())},get:function(){return this._width}},height:{set:function(t){this._height!==t&&(this._height=t,this.drag())},get:function(){return this._height}},activMouse:{set:function(t){this._activMouse!=t&&(this._activMouse=t,this.input.activMouse=t,this.but.activMouse=t)},get:function(){return this._activMouse}}}),StringInput.prototype=Object.create(PIXI.Container.prototype),StringInput.prototype.constructor=StringInput,Object.defineProperties(StringInput.prototype,{text:{set:function(t){this._text!=t&&(this._text=t)},get:function(){return this._text}},title:{set:function(t){this._title!=t&&(this._title=t,this.label.text=t)},get:function(){return this._title}},value:{set:function(t){this._value!=t&&(this._value=t,this.input.text=this._value)},get:function(){return this._value}},width:{set:function(t){this._width!=t&&(this._width=t,this.draw())},get:function(){return this._width}},height:{set:function(t){this._height!=t&&(this._height=t,this.draw())},get:function(){return this._height}},activMouse:{set:function(t){this._activMouse!=t&&(this._activMouse=t,this.input.activMouse=t)},get:function(){return this._activMouse}}})},function(t,i,h){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.DragerImage=function(){window.dragerImage=this;var t,i=this,h=0,e=0,s=0,o=0,n=!1;t=new Image;var r=document.createElement("div");r.style.position="absolute",r.style.zIndex="10",r.style.pointerEvents="none",r.appendChild(t);var a=1,l=0,u=0;function c(t){t=t||window.event,l=t.clientX,void 0===(u=t.clientY)?(l=t.touches[0].clientX,u=t.touches[0].clientY):t.preventDefault(),r.style.left=s+l-h+"px",r.style.top=o+u-e+"px"}function p(){n&&(t.style.width=100*a+"%",t.style.height=100*a+"%",r.width=t.width,r.height=t.height,r.style.left=h-r.width*a/2+"px",r.style.top=e-r.height*a/2+"px",s=parseInt(r.style.left),o=parseInt(r.style.top),document.body.appendChild(r),r.style.left=s+l-h+"px",r.style.top=o+u-e+"px",t.style.width=t.width+"px",t.style.height=t.height+"px")}this.start=function(s,o,r,d){a=r||1,!0!==n&&(h=o.x,e=o.y,l=h,u=e,t.src=s,t.onload=p,n=!0,document.addEventListener("mousemove",c),document.addEventListener("touchmove",c),d&&document.addEventListener("mouseup",i.stop))},this.stop=function(){n=!1,document.removeEventListener("mousemove",c),document.removeEventListener("touchmove",c),document.removeEventListener("mouseup",i.stop),r.remove()}}},function(t,i,h){"use strict";function e(t,i,h,e,o){PLColor.call(this,t,i,h,e,o),this.type="PLColorUn";var n,r=this;pl102.addElement(this),this._color="0xffffff",this._boolBig=!1,this._otstup=2,this._visiblePanel=!0,this.contentBig=new PIXI.Container,this.contentSm=new PIXI.Container,this.addChild(this.contentSm),this.addChild(this.contentBig),this.contentSm.visible=!1,this.contentBig.visible=!1,this.heightMax=200,this.heightMin=100,this.debugRect=!1,this.pLColorPickerPanel.setParent(this.contentSm),this.btnPanel.setParent(this.contentSm),this.btnPanel1.setParent(this.contentSm),this.colorBig=new s(this.contentBig,0,0,function(){r._color=this.color,r._value=this.color,r.fun&&r.fun()}),pl102.removeElement(this.colorBig,!0),this.reposition=function(){this.button.height=this.btnH,this.button.width=this._width-2*this._otstup,this.btnPanel.height=this.button.height+2*this._otstup,this.btnPanel.width=this._width,this._colPicActiv?(this.pLColorPicker.width=this._width-2*this._otstup,this.pLColorPicker.y=this._otstup,this.btnPanel1.height=this.pLColorPicker.height+2*this._otstup,this.btnPanel1.width=this._width,this.btnPanel1.y=this.btnPanel.height-1,this.pLColorPickerPanel.y=this.btnPanel1.y+this.btnPanel1.height+this._otstup,this.heightMin=this.btnPanel.height+this.btnPanel1.height):(this.pLColorPickerPanel.y=this.btnPanel.height,this.heightMin=this.btnPanel.height),1==this._boolBig&&(this.colorBig.width=this._width,this.colorBig.height=this._height),this.pLColorPickerPanel.width=this._width,this.pLColorPickerPanel.height=this.colorPanelH,this.debugRect&&this.drawDebugRect()},this.drawDebugRect=function(){null==n&&(n=new PIXI.Graphics,this.addChild(n)),n.clear(),n.lineStyle(.5,16711680),n.drawRect(0,0,this._width,this._height)},this.colorBig.otstup=this._otstup,this.colorBig.setColor(this._color),this.colorBig.funSelectColor=function(t){r.funSelectColor&&r.funSelectColor(t),r.funSelectColorBig&&r.funSelectColorBig(t)},this.changeToBig=function(){!0===this.pLColorPickerPanel.activ&&(this.pLColorPickerPanel.activ=!1),this.contentSm.visible=!this._boolBig,this.contentBig.visible=this._boolBig,this.colorBig.activ=this._boolBig,1==this._boolBig?(this._height=this.heightMax,this.colorBig.setSize(this._width,this._height),this.colorBig.setColor(this._color)):(this._height=this.heightMin,this.boolPlus&&this.pLColorPicker.setColor(this.color),"null"==this._text&&(this.button.text=this.color),this.button.color=this.color),this.debugRect&&this.drawDebugRect()},this.updateArrColorInBig=function(t){this.clearColor(),this.addColor(t)},this.addColor=function(t){if(this._colPicActiv||(this.colPicActiv=!0),Array.isArray(t))return 0==t.length&&(this.colPicActiv=!1),this.colorBig.colorPicker.setArray(t),this.pLColorPicker.setArray(t),void this.updateArrColor();color=t,null!=t&&null!=t||(color=this.baseColor),this.pLColorPicker.setColor(color),this.colorBig.colorPicker.setColor(color),this.updateArrColor()},this.clearColor=function(){this._colPicActiv&&(this.colPicActiv=!1),this.colorBig.colorPicker.clearColor(),this.pLColorPicker.clearColor()},this.clearColor(),this.addColor(this.arrColor),this.changeToBig()}function s(t,i,h,e){PIXI.Container.call(this),t.addChild(this),this.type="ColorBig";var s=this;pl102.addElement(this),this._activMouse=!0,this.fun=e,this.funSelectColor,this.x=i||0,this.y=h||0,this._width=100,this._height=100,this._inpRGBH=27,this._color="0x000000",this.colorDrag="0x000000",this.debugRect=!1,this.trick=pl102.kontur,this._otstup=5,this.color1="0x9d9d9d",this.color2="0xa9a9a9",this.color3=16777215,this.color4=16777215,this.fontSize=14,this.fontStyle=pl102.style.fontStyle,this.fontFamily=pl102.style.fontFamily,this.arrColor1=[5592405,16731212,5222236,8437454,16363060,16777215],this.panel=new PLPanel(this,0,0),this.panel.image.visible=!1,pl102.removeElement(this.panel,!0),this.panel2=new PLPanel(this.panel,this.trick,this.trick),this.panel2.kontur=!1,this.panel2.color=this.color3,this.panel2.image.visible=!1,pl102.removeElement(this.panel2,!0),this.panel1=new PLPanel(this.panel,this.trick,this.trick),this.panel1.kontur=!1,this.panel1.visiLine=!0,this.panel1.color=this.color3,pl102.removeElement(this.panel1,!0),this.colorPick=new PLColorPick(this.panel1,0,0,function(){s.color=this.color,s.gradient.setColor(this.color.replace("0x","#"),"click"),s.inputRGBBig.setColor(this.color.replace("0x","#")),s.colorPanel.color=this.color,s.inputColor.value=this.color.replace("0x",""),s.offSelect(),s.fun&&s.fun()}),this.colorPick.funDrag=function(){s.color=this.colorDrag,s.colorDrag=this.colorDrag,s.gradient.setColor(this.colorDrag.replace("0x","#")),s.inputRGBBig.setColor(this.colorDrag.replace("0x","#")),s.colorPanel.color=this.colorDrag,s.inputColor.value=this.colorDrag.replace("0x",""),s.funDrag&&s.funDrag()},this.colorPick.funOut=function(){s.color=this.color,s.gradient.setColor(this.color.replace("0x","#")),s.inputRGBBig.setColor(this.color.replace("0x","#")),s.colorPanel.color=this.color,s.inputColor.value=this.color.replace("0x",""),s.funDrag&&s.funDrag()},this.colorPick.konturColor=this.color2,pl102.removeElement(this.colorPick,!0),this.gradient=new PLGradient(this.panel1,0,0,function(){s.color=this.color,s.colorPick.setColor(this.color.replace("0x","#"),"click"),s.inputRGBBig.setColor(this.color.replace("0x","#")),s.colorPanel.color=this.color,s.inputColor.value=this.color.replace("0x",""),s.offSelect(),s.fun&&s.fun()}),this.gradient.drawCursor(4,5),this.gradient.funDrag=function(){s.color=this.colorDrag,s.colorDrag=this.colorDrag,s.colorPick.setColor(this.colorDrag.replace("0x","#")),s.inputRGBBig.setColor(this.colorDrag.replace("0x","#")),s.colorPanel.color=this.colorDrag,s.inputColor.value=this.colorDrag.replace("0x",""),s.funDrag&&s.funDrag()},this.gradient.funOut=function(){s.color=this.color,s.colorPick.setColor(this.color.replace("0x","#"),"out"),s.inputRGBBig.setColor(this.color.replace("0x","#")),s.colorPanel.color=this.color,s.inputColor.value=this.color.replace("0x",""),s.funDrag&&s.funDrag()},this.gradient.konturColor=this.color2,pl102.removeElement(this.gradient,!0),this.image=new PLImage(this.panel1,0,0),this.image.otstup=4,this.image.link="resources/images/pikNew/col_pic.png",pl102.removeElement(this.image,!0),this.colorPanel=new PLPanel(this.panel1,0,0),pl102.removeElement(this.colorPanel,!0),this.inputRGBBig=new o(this.panel1,0,0,function(){s.color=s.setColorRGB(this.color),s.colorPick.setColor(s.color.replace("0x","#"),"click"),s.colorPanel.color=s.color,s.inputColor.value=s.color.replace("0x",""),s.gradient.setColor(s.color.replace("0x","#")),s.offSelect(),s.fun&&s.fun()}),this.inputRGBBig.konturColor=this.color2,this.inputRGBBig.height=this._inpRGBH,this.inputRGBBig.fontSize=this.fontSize,pl102.removeElement(this.inputRGBBig,!0),this.label=new PLLabel(this.panel1,0,0,"#"),this.label.fontSize=this.fontSize-2,pl102.removeElement(this.label,!0);var n=0;function r(t){var i=t.toString(16);return 1==i.length?"0"+i:i}this.inputColor=new PLInput(this.panel1,0,0,"",function(){n=+("0x"+this.value),isNaN(n)&&(n="0x000000"),s.color=n>16777215||n<0?"0x000000":s.corectCol(n).replace("#","0x"),s.colorPick.setColor(s.color.replace("0x","#"),"click"),s.colorPanel.color=s.color,s.gradient.setColor(s.color.replace("0x","#")),s.inputRGBBig.setColor(s.color.replace("0x","#")),s.offSelect(),s.fun&&s.fun()}),this.inputColor.borderColor=this.color2.replace("0x","#"),this.inputColor.input.htmlElement.style.font=this.fontStyle+" "+this.fontSize+"px "+this.fontFamily,pl102.removeElement(this.inputColor,!0),this.colorPicker=new PLColorPicker(this.panel2,0,0,"",function(){s.color=this.color,s.setColor(this.color),s.fun&&s.fun()}),this.colorPicker.kolColor=6,this.colorPicker.setArray(this.arrColor1),this.colorPicker.otstup=this._otstup,this.colorPicker.activContur=!0,this.colorPicker.kolElRow=6,pl102.removeElement(this.colorPicker,!0),this.btnAdd=new PLButton(this.panel2,0,0,"",function(){s.funSelectColor&&s.funSelectColor(s.color)}),this.btnAdd.boolCenter=!0,this.btnAdd.boolKontur=!0,this.btnAdd.boolScalePic=!0,this.btnAdd.konturSize=1,this.btnAdd.konturColor=this.color2,this.btnAdd.color=this.color4,this.btnAdd.panel.image.alpha=.2,this.btnAdd.otstup=1,this.btnAdd.loadImeg("resources/images/pikNew/69.png"),pl102.removeElement(this.btnAdd,!0),this.offSelect=function(){},this.hexFromDec=function(t){var i=Math.round(t).toString(16);return i.length>1||(i="0"+i),i},this.setColorRGB=function(t){return"0x"+this.hexFromDec(t[0])+this.hexFromDec(t[1])+this.hexFromDec(t[2])},this.corectCol=function(t){if("string"==typeof t)return t.replace("0x","#");var i=Math.floor(t/65536),h=Math.floor(t/256)%256,e=t%256;return"#"+r(i)+r(h)+r(e)},this.setColor=function(t){var i=this.corectCol(t);this.color=i.replace("#","0x"),this.gradient.setColor(i,"click"),this.inputRGBBig.setColor(i),this.colorPick.setColor(i,"click"),this.colorPanel.color=i.replace("#","0x"),this.inputColor.value=i.replace("#","")},this.setColor(this.color);var a;this.draw=function(){this.colorPicker.y=this._otstup,this.colorPicker.otstup=this._otstup,this.colorPicker.width=.65*this._width-this._otstup,this.panel.width=this._width,this.panel.height=this._height,this.panel1.width=this._width-2*this.trick,this.panel2.width=this._width-2*this.trick;var t=this.colorPicker.height+2*this._otstup,i=this._height-t-2*this.trick;this.panel1.height=i-this.trick,this.panel2.y=i+this.trick,this.panel2.height=t;var h=.65*this._width-this._otstup,e=i-3*this._otstup-this.inputRGBBig.height;this.colorPick.x=this._otstup,this.colorPick.y=this._otstup,this.colorPick.width=h,this.colorPick.height=e,this.inputRGBBig.x=this._otstup,this.inputRGBBig.y=e+2*this._otstup,this.inputRGBBig.width=this.colorPick.width,this.gradient.x=this._otstup+.65*this._width,this.gradient.y=this._otstup,this.gradient.width=.1*this._width-this._otstup,this.gradient.height=e,this.gradient.drawCursor(1.5*this._otstup,1.5*this._otstup+1);var s=this._width-this.gradient.x-this.gradient.width-2*this._otstup-this.trick,o=this.gradient.x+this.gradient.width+this._otstup;this.colorPanel.x=o,this.colorPanel.y=e+this._otstup-this._inpRGBH,this.colorPanel.width=s,this.colorPanel.height=this._inpRGBH,this.image.x=o,this.image.y=e-this._inpRGBH-s,this.image.width=s,this.image.height=s,this.inputColor.x=o,this.inputColor.y=e+2*this._otstup,this.inputColor.width=s,this.inputColor.height=this._inpRGBH;var n=this.label.getRect();this.label.x=o-3-n.width,this.label.y=e+2*this._otstup+this._inpRGBH/2-n.height/2,this.btnAdd.x=o,this.btnAdd.y=this._otstup,this.btnAdd.width=s-this.trick,this.btnAdd.height=this.colorPicker.height-this.trick,this.btnAdd.image.width=this.btnAdd.image.height=this.colorPicker.height-this.trick,this.debugRect&&this.drawDebugRect()},this.drawDebugRect=function(){null==a&&(a=new PIXI.Graphics,this.addChild(a)),a.clear(),a.lineStyle(.5,16711680),a.drawRect(0,0,this._width,this._height)},this.setSize=function(t,i){this._width=t,this._height=i,this.draw()},this.draw()}function o(t,i,h,e){PLInputRGB.call(this,t,i,h,e),this.type="PLInputRGBBig";var s;pl102.addElement(this),this.activMouse=!0,this._otstup=24,this.otstup1=2,this._konturColor=pl102.color1,this.panel.kontur=!1,this.panel.visible=!1,this.label.visible=!1,this._fontSize=pl102.style.fontSize,this.fontStyle=pl102.style.fontStyle,this.fontFamily=pl102.style.fontFamily,this.label1=new PLLabel(this,0,0,"R"),this.label1.fontSize=this._fontSize,pl102.removeElement(this.label,!0),this.label2=new PLLabel(this,0,0,"G"),this.label2.fontSize=this._fontSize,pl102.removeElement(this.label1,!0),this.label3=new PLLabel(this,0,0,"B"),pl102.removeElement(this.label2,!0),this.label3.fontSize=this._fontSize,this.reposition=function(){var t=this.label1.getRect(),i=this.label2.getRect(),h=this.label3.getRect();s=(this._width-2*this._otstup-t.width-this.otstup1)/3,this.label1.x=0,this.inputR.x=t.width+this.otstup1,this.inputR.width=s,this.inputR.height=this._height,this.label1.y=this._height/2-t.height/2,this.inputG.x=this.inputR.x+s+this._otstup,this.inputG.width=s,this.inputG.height=this._height,this.label2.x=this.inputG.x-this.otstup1-i.width,this.label2.y=this._height/2-i.height/2,this.inputB.x=this.inputG.x+s+this._otstup,this.inputB.width=s,this.inputB.height=this._height,this.label3.x=this.inputB.x-this.otstup1-h.width,this.label3.y=this._height/2-h.height/2,this.panel.width=this._width,this.panel.height=this._height},this.reposition()}Object.defineProperty(i,"__esModule",{value:!0}),i.PLColorUn=e,e.prototype=Object.create(PLColor.prototype),e.prototype.constructor=e,Object.defineProperties(e.prototype,{boolBig:{set:function(t){this._boolBig!=t&&(this._boolBig=t,this.changeToBig())},get:function(){return this._boolBig}},width:{set:function(t){this._width!=t&&(this._width=t,this.reposition(),this._height=this.heightMin)},get:function(){return this._width}},height:{set:function(t){this._height!=t&&(this._height=t,this.reposition())},get:function(){return this._height}},color:{set:function(t){this._color!=t&&(this._color=this.convToCorColor(t),this._value=this._color,"null"==this._text?(this.button.text=this.corectForBtn(this._color),this.button.color=this._color):this.button.color=this._color,this._boolBig&&this.colorBig.setColor(this._color),this.pLColorPickerPanel.setColor(this._color),this.reposition())},get:function(){return this._color}},value:{set:function(t){this._value!=t&&(this._value=this.convToCorColor(t),this._color=this._value,"null"==this._text?(this.button.text=this.corectForBtn(this._color),this.button.color=this._value):this.button.color=this._value,this._boolBig&&this.colorBig.setColor(this._color),this.pLColorPickerPanel.setColor(this._value),this.pLColorPicker.color=this._value,this.reposition())},get:function(){return this._value}},otstup:{set:function(t){this._otstup!=t&&(this._otstup=t,this.button.x=this._otstup,this.button.y=this._otstup,this.pLColorPicker.x=this._otstup,this.colorBig.otstup=this._otstup,this.reposition())},get:function(){return this._otstup}},visiblePanel:{set:function(t){this._visiblePanel!=t&&(this._visiblePanel=t,this.colorBig.panel.image.visible=this._visiblePanel,this.colorBig.panel.graphics.visible=this._visiblePanel,this.colorBig.panel1.image.visible=this._visiblePanel,this.colorBig.panel1.graphics.visible=this._visiblePanel,this.colorBig.panel1.graphLine.visible=this._visiblePanel,this.colorBig.panel2.graphics.visible=this._visiblePanel,this.btnPanel.graphics.visible=this._visiblePanel,this.btnPanel.image.visible=this._visiblePanel,this.btnPanel1.graphics.visible=this._visiblePanel,this.btnPanel1.image.visible=this._visiblePanel)},get:function(){return this._visiblePanel}},activMouse:{set:function(t){this._activMouse!=t&&(this._activMouse=t,null!=this.colorBig&&(this.colorBig.activMouse=this._activMouse,this.pLColorPickerPanel.activ&&this.colorPanelVisible(t)))},get:function(){return this._activMouse}}}),s.prototype=Object.create(PIXI.Container.prototype),s.prototype.constructor=s,Object.defineProperties(s.prototype,{color:{set:function(t){this._color=t,this.colorPicker.color=this._color},get:function(){return this._color}},activ:{set:function(t){this._activ!=t&&(this._activ=t,this.colorPick.activ=this._activ,this.gradient.activ=this._activ)},get:function(){return this._activ}},width:{set:function(t){this._width!=t&&(this._width=t,this.draw())},get:function(){return this._width}},height:{set:function(t){this._height!=t&&(this._height=t,this.draw())},get:function(){return this._height}},otstup:{set:function(t){this._otstup!=t&&(this._otstup=t,this.draw())},get:function(){return this._otstup}},activMouse:{set:function(t){this._activMouse!=t&&(this._activMouse=t,this.inputColor.activMouse=this._activMouse,this.inputRGBBig.activMouse=this._activMouse)},get:function(){return this._activMouse}}}),o.prototype=Object.create(PLInputRGB.prototype),o.prototype.constructor=o,Object.defineProperties(o.prototype,{width:{set:function(t){this._width!=t&&(this._width=t,this.reposition())},get:function(){return this._width}},height:{set:function(t){this._height!=t&&(this._height=t,this.reposition())},get:function(){return this._height}},otstup:{set:function(t){this._otstup!=t&&(this._otstup=t,this.reposition())},get:function(){return this._otstup}},konturColor:{set:function(t){this._konturColor!=t&&(this._konturColor=t,this.inputR.borderColor=this._konturColor.replace("0x","#"),this.inputG.borderColor=this._konturColor.replace("0x","#"),this.inputB.borderColor=this._konturColor.replace("0x","#"))},get:function(){return this._konturColor}},fontSize:{set:function(t){this._fontSize!=t&&(this._fontSize=t,this.inputR.input.htmlElement.style.font=this.fontStyle+" "+this._fontSize+"px "+this.fontFamily,this.inputG.input.htmlElement.style.font=this.fontStyle+" "+this._fontSize+"px "+this.fontFamily,this.inputB.input.htmlElement.style.font=this.fontStyle+" "+this._fontSize+"px "+this.fontFamily,this.label1.fontSize=this._fontSize-2,this.label2.fontSize=this._fontSize-2,this.label3.fontSize=this._fontSize-2)},get:function(){return this._fontSize}}})},function(t,i,h){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,i,h,s,n,r){PIXI.Container.call(this),this.type="MTypedColor";var a,l,u,c,p=this;pl102.addElement(this),this.x=i||0,this.y=h||0,this.fun=s,this.funDown,this.funSize,this.funChangeVisiblePanel,this.funUp,this.funSelectColor,this._width=180,this._height=2*pl102.wh,this._text=n||"COLOR",this._value="0xffffff",this._color="0xffffff",this._otstup=pl102.otstup,this._boolActiv=!0,this._colPicActiv=!0,this._boolPlus=!1,this._activMouse=!0,this._kolElRow=9,this._kolColor=9,this.colorFormat="DECSTR",this.typePicker=r||"basic",this.colorPanelH=130,this.btnH=pl102.wh,this.colorDrag=null,this.baseColor="0xffffff",this.content=new PIXI.Container,t.addChild(this.content),this.content.addChild(this),this.graphRect=new PIXI.Graphics,this.content.addChild(this.graphRect),this.graphRect.alpha=.5,this.graphRect.interactive=!0,this.colorConverter=new ColorConverter,this.arrColor=[5592405,16731212,5222236,8437454,16363060,16777215,0,16766059,16758891],this.mColorPickerPanel=new o(this,0,0,this.typePicker),this.mColorPickerPanel.fun=function(){var t=p.getBasicColorFormat(this.color);p.button.color=t,p.changeValueToFormat(t),p.boolPlus&&p.pLColorPicker.setColor(t),"null"===p._text&&(p.button.text=p.getCorrectText()),p.fun&&p.fun(),p.funSelectColor&&p.funSelectColor(p._value)},this.mColorPickerPanel.funDrag=function(){var t=p.getBasicColorFormat(this.color);p.button.color=t,p.colorDrag=t,p.funDrag&&p.funDrag()},pl102.removeElement(this.mColorPickerPanel,!0),this.mouseDown=function(){a=p.toLocal(pl102.global),l=p.contains(a.x,a.y),p.funDown&&p.funDown(),0==l&&p.setVisiblePanel(!1)},this.contains=function(t,i){return u=p.height,p.mColorPickerPanel.activ&&(u+=p.mColorPickerPanel.height),t>=0&&t<=p.width&&i>=0&&i<=u},this.colorPanelVisible=function(i){t.addChild(p.content),p.setVisiblePanel(i)},this.activSob=function(t){t?(pl102.isMouseEvents&&pl102.stage.on("mousedown",p.mouseDown),pl102.isTouchEvents&&pl102.stage.on("touchstart",p.mouseDown)):(pl102.isMouseEvents&&pl102.stage.off("mousedown",p.mouseDown),pl102.isTouchEvents&&pl102.stage.off("touchstart",p.mouseDown))},this.setVisiblePanel=function(t){p.mColorPickerPanel.activ=t,p.activSob(t),p.funChangeVisiblePanel&&p.funChangeVisiblePanel(t)},this.btnPanel=new PLPanel(this,0,0),pl102.removeElement(this.btnPanel,!0),this.btnPanel.image.visible=!1,this.btnPanel.color=16777215,this.btnPanel1=new PLPanel(this,0,0),pl102.removeElement(this.btnPanel1,!0),this.btnPanel1.image.visible=!1,this.btnPanel1.color=16777215,this.button=new PLButton(this.btnPanel,this._otstup,this._otstup,this._text,function(){p._boolActiv&&p.colorPanelVisible(!p.mColorPickerPanel.activ)}),pl102.removeElement(this.button,!0),this.button.boolAnimKontut=!1,this.button.panel.image.visible=!1,this.button.color=this.baseColor,this.pLColorPicker=new PLColorPicker(this.btnPanel1,this._otstup,0,[],function(){var t=p.getBasicColorFormat(this.color);p.button.color=t,p.changeValueToFormat(t),p.mColorPickerPanel.color=t,"null"===p._text&&(p.button.text=p.getCorrectText()),p.fun&&p.fun()}),this.pLColorPicker.fullSizePick=this._fullSizePick,this.pLColorPicker.kolColor=this._kolColor,this.pLColorPicker.kolElRow=this._kolElRow,pl102.removeElement(this.pLColorPicker,!0),this.pLColorPicker.funSize=function(){p.funSize&&p.funSize()},this.reposition=function(){this.button.height=this.btnH,this.button.width=this._width-2*this._otstup,this.btnPanel.height=this.button.height+2*this._otstup,this.btnPanel.width=this._width,this._colPicActiv?(this.pLColorPicker.width=this._width-2*this._otstup,this.pLColorPicker.y=this._otstup,this.btnPanel1.height=this.pLColorPicker.height+2*this._otstup,this.btnPanel1.width=this._width,this.btnPanel1.y=this.btnPanel.height-1,this.mColorPickerPanel.y=this.btnPanel1.y+this.btnPanel1.height+this._otstup,this._height=this.btnPanel.height+this.btnPanel1.height):(this.mColorPickerPanel.y=this.btnPanel.height+this._otstup,this._height=this.btnPanel.height),this.mColorPickerPanel.width=this._width,this.mColorPickerPanel.height=this.colorPanelH},this.addColor=function(t){if(this._colPicActiv||(this.colPicActiv=!0),Array.isArray(t))return 0==t.length&&(this.colPicActiv=!1),this.pLColorPicker.setArray(t),void this.updateArrColor();c=t,null!=t&&null!=t||(c=this.baseColor),this.pLColorPicker.setColor(c),this.updateArrColor()},this.updateArrColor=function(){var t=this.pLColorPicker.arrColor;this.arrColor=[];for(var i=0;i<t.length;i++)this.arrColor.push(t[i])},this.addColor(this.arrColor),this.removeColor=function(t){this.pLColorPicker.removeColor(t),this.arrColor=this.pLColorPicker.arrColor},this.clearColor=function(){this._colPicActiv&&(this.colPicActiv=!1),this.pLColorPicker.clearColor()},this.changeActiv=function(){this._activMouse?this.graphRect.clear():(this.graphRect.clear(),this.graphRect.beginFill(pl102.color),this.graphRect.drawRect(this.x,this.y,this._width,this._height+2*this._otstup),this.graphRect.endFill())},this.activMouse=pl102.activMouse,this.changeValueToFormat=function(t){"DECSTR"===this.colorFormat?this._value=this.colorConverter.decToDecStr(t):"HEX"===this.colorFormat?this._value=this.colorConverter.decToHex(t):"THREE"===this.colorFormat?this._value.set(t):this._value=t,this._color=this._value},this.check=function(t){var i=t;if("number"==typeof i)return this.colorFormat="DEC",(i<0||i>16777215)&&(i=16777215,console.warn("Значение цвета выходит за границы 0 -> 16777215!")),i;if("string"==typeof i){this.colorFormat="DECSTR";var h="";return-1!==i.indexOf("#")&&(this.colorFormat="HEX",h="#"),-1!==i.indexOf("0x")&&(h="0x"),(0===h.length||i.split(h)[1].length<6)&&(i="0xffffff",console.warn("Не корректное значение цвета!! (#ffffff || 0xffffff)",i)),i}return"object"===e(i)&&window.THREE&&"addColors"in i?(this.colorFormat="THREE",i):(console.warn("Пришедшее значение не поддерживаеться!",i),this._value)},this.getCorrectText=function(){var t=this._value;return"THREE"===this.colorFormat&&(t="THREE.Color"),t},this.getBasicColorFormat=function(t){var i=t;if("string"==typeof t&&(-1!==t.indexOf("#")&&(i=parseInt(t.replace("#","0x"),16)),-1!==t.indexOf("0x")&&(i=parseInt(t,16))),"object"===e(t)&&window.THREE&&"getHexString"in t){var h=t.getHexString();i=parseInt(h.replace("#","0x"),16)}return i},this.reposition()}function o(t,i,h,e,s,o){PIXI.Container.call(this),this.type="MColorPickerPanel";var a=this;pl102.addElement(this),t.addChild(this),this.x=i||0,this.y=h||0,this.fun=s,this.funDrag=o,this._width=180,this._height=2*pl102.wh,this._otstup=2,this._color=16777215,this._activ=!1,this._activMouse=!0,this.typePicker=e||"basic",this.visible=this._activ,this.panel=new PLPanel(this),this.panel.image.visible=!1,pl102.removeElement(this.panel,!0),this.picker=null,this.init=function(){this.picker=this.getPicker(),this.picker.color=this._color,this.picker.otstup=this._otstup,this.draw()},this.onDown=function(){a._color=this.color,a.fun&&a.fun()},this.onMove=function(){a._color=this.color,a.funDrag&&a.funDrag()},this.getPicker=function(){return"basic"===this.typePicker?new n(this,0,0,this.onDown,this.onMove):"hsv"===this.typePicker?new r(this,0,0,this.onDown,this.onMove):new n(this,0,0,this.onDown,this.onMove)},this.draw=function(){this.panel.width=this._width,this.picker.x=this._otstup,this.picker.y=this._otstup,this.picker.height=this._height-2*this._otstup,this.picker.width=this._width-2*this._otstup,this.panel.height=this.picker.height+2*this._otstup,this._height=this.panel.height},this.init()}function n(t,i,h,e,s){PIXI.Container.call(this),this.type="PLColorPickerPanel";var o=this;function n(t){var i=t.toString(16);return 1==i.length?"0"+i:i}t.addChild(this),pl102.addElement(this),this.fun=e,this.funDrag=s,this.x=i||0,this.y=h||0,this._width=100,this._height=100,this._otstup=pl102.otstup,this._activMouse=!0,this._color="0x000000",this.colorDrag="0x000000",this.text="",this.gradientView=!0,this.inputRGBView=!0,this.gradient=new PLGradient(this,0,0),this.gradient.activ=!0,pl102.removeElement(this.gradient,!0),this.gradient.fun=function(){o.color=this._color,o.pLColorPick.setColor(this._color.replace("0x","#"),"click"),o.pLInputRGB.setColor(this._color.replace("0x","#")),o.fun&&o.fun()},this.gradient.funDrag=function(){o._color=this.colorDrag,o.colorDrag=this.colorDrag,o.pLColorPick.setColor(this.colorDrag.replace("0x","#")),o.pLInputRGB.setColor(this.colorDrag.replace("0x","#")),o.funDrag&&o.funDrag()},this.gradient.funOut=function(){o._color=this.color,o.pLColorPick.setColor(this.colorDrag.replace("0x","#"),"out"),o.pLInputRGB.setColor(this.color.replace("0x","#")),o.funDrag&&o.funDrag()},this.pLColorPick=new PLColorPick(this,0,0),this.pLColorPick.activ=!0,pl102.removeElement(this.pLColorPick,!0),this.pLColorPick.fun=function(){o._color=this.color,o.gradient.setColor(this.color.replace("0x","#"),"click"),o.pLInputRGB.setColor(this.color.replace("0x","#")),o.fun&&o.fun()},this.pLColorPick.funDrag=function(){o._color=this.colorDrag,o.colorDrag=this.colorDrag,o.gradient.setColor(this.colorDrag.replace("0x","#")),o.pLInputRGB.setColor(this.colorDrag.replace("0x","#")),o.funDrag&&o.funDrag()},this.pLColorPick.funOut=function(){o._color=this.color,o.gradient.setColor(this.color.replace("0x","#")),o.pLInputRGB.setColor(this.color.replace("0x","#")),o.funDrag&&o.funDrag()},this.hexFromDec=function(t){var i=Math.round(t).toString(16);return i.length>1||(i="0"+i),i},this.setColorRGB=function(t){return"0x"+this.hexFromDec(t[0])+this.hexFromDec(t[1])+this.hexFromDec(t[2])},this.corectCol=function(t){if("string"==typeof t)return-1!=t.indexOf("0x")?t.replace("0x","#"):t;var i=Math.floor(t/65536),h=Math.floor(t/256)%256,e=t%256;return"#"+n(i)+n(h)+n(e)},this.setColor=function(t){var i=this.corectCol(t);o._color=i,o.gradient.setColor(i,"click"),o.pLInputRGB.setColor(i),o.pLColorPick.setColor(i,"click")},this.pLInputRGB=new PLInputRGB(this,0,0,function(){o._color=o.setColorRGB(this.color),o.gradient.setColorRGB(this.color),o.pLColorPick.setColorRGB(this.color),o.fun&&o.fun(!1)}),pl102.removeElement(this.pLInputRGB,!0),this.reposition=function(){this.gradient.width=13*this._width/100,this.gradient.height=77*this._height/100,this.pLColorPick.width=Math.round(this._width-this.gradient.width-this._otstup-1),this.pLColorPick.height=Math.round(77*this._height/100),this.pLColorPick.x=this.gradient.width+this._otstup,this.pLInputRGB.width=this.pLColorPick.width,this.pLInputRGB.height=this._height-this.pLColorPick.height-2*this._otstup,this.pLInputRGB.x=this.pLColorPick.x,this.pLInputRGB.y=this.pLColorPick.height+this._otstup+1,!1===this.gradientView&&(this.pLColorPick.width=Math.round(this._width-2*this._otstup),this.pLColorPick.x=this._otstup+1,this.pLInputRGB.width=this.pLColorPick.width,this.pLInputRGB.x=this._otstup),!1===this.inputRGBView&&(this.pLColorPick.height=this._height-2*this._otstup,this.gradient.height=this.pLColorPick.height)},this.reposition(),this.inputRGBOff=function(t){this.inputRGBView=!t,this.pLInputRGB.visible=!t,this.reposition()},this.gradientOff=function(t){this.gradientView=!t,this.gradient.visible=!t,this.reposition()},this.changeActiv=function(){this._activMouse?(this.inputRGBOff(!1),this.gradientOff(!1),this.graphRect.clear()):(this.inputRGBOff(!0),this.gradientOff(!0),this.graphRect.clear(),this.graphRect.beginFill(pl102.color),this.graphRect.drawRect(0,0,this._width,this._height),this.graphRect.endFill())}}function r(t,i,h,e,s){PIXI.Container.call(this),this.type="MColorSHVPicker";var o=this;pl102.addElement(this),t.addChild(this),this.x=i||0,this.y=h||0,this.fun=e,this.funOnMove=s,this._width=100,this._height=100,this._otstup=2,this._color=16777215,this._activMouse=!0;this.hsvGradient=new HSVGradient(this,0,0,function(){o._color=this._color,o.colorHandler(),o.fun&&o.fun()}),this.hsvGradient.funOnMove=function(){o._color=this._color,o.funOnMove&&o.funOnMove()},pl102.removeElement(this.hsvGradient,!0),this.contentColorFormat=new PIXI.Container,this.addChild(this.contentColorFormat),this.inputGroupRGB=new InputGroup(this.contentColorFormat,0,0,"RGB",3,function(){for(var t=0;t<this.value.length;t++)isNaN(1*this.value[t])?this.value[t]=o.hsvGradient.color_rgb[t]:(this.value[t]=1*this.value[t],this.value[t]<0&&(this.value[t]=0));this.value[0]>255&&(this.value[0]=255),this.value[1]>255&&(this.value[1]=255),this.value[2]>255&&(this.value[2]=255),o.hsvGradient.setRGB(this.value),o.colorHandler(),o.fun&&o.fun()}),this.inputGroupRGB.label.fontSize=.8*this.inputGroupRGB.label.fontSize,this.inputGroupRGB.draw(),this.inputGroupRGB.panel.visible=!1,pl102.removeElement(this.inputGroupRGB,!0),this.inputGroupHSV=new InputGroup(this.contentColorFormat,0,0,"HSV",3,function(){for(var t=0;t<this.value.length;t++)isNaN(1*this.value[t])?this.value[t]=o.hsvGradient.color_hsv[t]:(this.value[t]=1*this.value[t],this.value[t]<0&&(this.value[t]=0));this.value[0]>360&&(this.value[0]=360),this.value[1]>100&&(this.value[1]=100),this.value[2]>100&&(this.value[2]=100),o.hsvGradient.setHSV(this.value),o.colorHandler(),o.fun&&o.fun()}),this.inputGroupHSV.label.fontSize=.8*this.inputGroupHSV.label.fontSize,this.inputGroupHSV.draw(),this.inputGroupHSV.panel.visible=!1,this.inputGroupHSV.otstup1=4,pl102.removeElement(this.inputGroupHSV,!0),this.inputGroupHEX=new InputGroup(this.contentColorFormat,0,0,"HEX",0),this.inputGroupHEX.label.fontSize=.8*this.inputGroupHEX.label.fontSize,this.inputGroupHEX.draw(),this.inputGroupRGB.panel.visible=!1,this.inputGroupHEXInput=new InputGroup(this.contentColorFormat,0,0,"",1,function(){6===this.value[0].length?o.color=parseInt("0x"+this.value[0],16):this.set([o.hsvGradient.color_hex.replace("#","")]),o.fun&&o.fun()}),this.inputGroupHEXInput.panel.visible=!1,pl102.removeElement(this.inputGroupHEXInput,!0),this.draw=function(){this.hsvGradient.width=this._width;var t=this.hsvGradient.height,i=.3*this._width,h=this._width-i-this._otstup,e=this._width<200?this._width/200:1;this.contentColorFormat.y=t+this._otstup,this.inputGroupHEX.width=i/e,this.inputGroupHEXInput.y=(this.inputGroupHSV.height*e+this._otstup)/e,this.inputGroupHEXInput.width=i/e,this.inputGroupRGB.x=(i+this._otstup)/e,this.inputGroupRGB.width=h/e,this.inputGroupHSV.x=(i+this._otstup)/e,this.inputGroupHSV.y=(this.inputGroupRGB.height*e+this._otstup)/e,this.inputGroupHSV.width=h/e,this.contentColorFormat.scale.set(e,e),this._height=t+(2*this.inputGroupHSV.height+2*this._otstup)*e},this.colorHandler=function(){this.inputGroupHEXInput.set([this.hsvGradient.color_hex.replace("#","")]),this.inputGroupRGB.set(this.hsvGradient.color_rgb),this.inputGroupHSV.set(this.hsvGradient.color_hsv)},this.draw(),this.colorHandler()}Object.defineProperty(i,"__esModule",{value:!0}),i.MTypedColor=s,s.prototype=Object.create(PIXI.Container.prototype),s.prototype.constructor=s,Object.defineProperties(s.prototype,{width:{set:function(t){this._width!=t&&(this._width=t,this.reposition())},get:function(){return this._width}},height:{set:function(t){this._height!=t&&(this._height=t,this.reposition())},get:function(){return this._height}},color:{set:function(t){this._color=t,this.value=t},get:function(){return this._value}},value:{set:function(t){this._value!=t&&(this._value=this.check(t),this.button.color=this.getBasicColorFormat(this._value),"null"===this._text&&(this.button.text=this.getCorrectText()),this.mColorPickerPanel.color=this.getBasicColorFormat(this._value),this.reposition())},get:function(){return this._value}},text:{set:function(t){this._text!=t&&(this._text=t,null!==this._text&&void 0!==this._text||(this._text="null"),"null"===this._text?this.button.text=this.getCorrectText():this.button.text=this._text)},get:function(){return this._text}},otstup:{set:function(t){this._otstup!=t&&(this._otstup=t,this.button.x=this._otstup,this.button.y=this._otstup,this.pLColorPicker.x=this._otstup,this.mColorPickerPanel.otstup=this._otstup,this.reposition())},get:function(){return this._otstup}},boolActiv:{set:function(t){this._boolActiv!=t&&(this._boolActiv=t)},get:function(){return this._boolActiv}},activMouse:{set:function(t){this._activMouse!==t&&(this._activMouse=t,this.mColorPickerPanel.activ&&this.colorPanelVisible(t),this.changeActiv())},get:function(){return this._activMouse}},colPicActiv:{set:function(t){this._colPicActiv!=t&&(this._colPicActiv=t,this._colPicActiv||this.clearColor(),this.pLColorPicker.visible=this._colPicActiv,this.btnPanel1.visible=this._colPicActiv,this.reposition())},get:function(){return this._colPicActiv}},boolPlus:{set:function(t){this._boolPlus!=t&&(this._boolPlus=t)},get:function(){return this._boolPlus}},kolElRow:{set:function(t){this._kolElRow!=t&&(this._kolElRow=t,this.pLColorPicker.kolElRow=this._kolElRow,this.reposition())},get:function(){return this._kolElRow}},kolColor:{set:function(t){this._kolColor!=t&&(this._kolColor=t,this.pLColorPicker.kolColor=this._kolColor,this.reposition())},get:function(){return this._kolColor}}}),o.prototype=Object.create(PIXI.Container.prototype),o.prototype.constructor=o,Object.defineProperties(o.prototype,{width:{set:function(t){this._width!==t&&(this._width=t,this.draw())},get:function(){return this._width}},height:{set:function(t){this._height!==t&&(this._height=t,this.draw())},get:function(){return this._height}},otstup:{set:function(t){this._otstup!==t&&(this._otstup=t,this.picker.otstup=this._otstup,this.draw())},get:function(){return this._otstup}},color:{set:function(t){this._color!==t&&(this._color=t,this.picker.color=this._color)},get:function(){return this._color}},activ:{set:function(t){this._activ!==t&&(this._activ=t,this.visible=this._activ)},get:function(){return this._activ}},activMouse:{set:function(t){this._activMouse!==t&&(this._activMouse=t,this.panel.activMouse=this._activMouse,this.picker.activMouse=this._activMouse)},get:function(){return this._activMouse}}}),n.prototype=Object.create(PIXI.Container.prototype),n.prototype.constructor=n,Object.defineProperties(n.prototype,{width:{set:function(t){this._width!=t&&(this._width=t,this.reposition())},get:function(){return this._width}},height:{set:function(t){this._height!=t&&(this._height=t,this.reposition())},get:function(){return this._height}},color:{set:function(t){this._color!==t&&(this._color=this.corectCol(t),this.gradient.setColor(this._color,"click"),this.pLInputRGB.setColor(this._color),this.pLColorPick.setColor(this._color,"click"))},get:function(){return this._color}},activMouse:{set:function(t){this._activMouse!==t&&(this._activMouse=t)},get:function(){return this._activMouse}}}),r.prototype=Object.create(PIXI.Container.prototype),r.prototype.constructor=r,Object.defineProperties(r.prototype,{width:{set:function(t){this._width!==t&&(this._width=t,this.draw())},get:function(){return this._width}},height:{set:function(t){this._height!==t&&(this._height=t,this.draw())},get:function(){return this._height}},otstup:{set:function(t){this._otstup!==t&&(this._otstup=t,this.hsvGradient.otstup=this._otstup,this.inputGroupRGB.otstup=this._otstup,this.inputGroupHSV.otstup=this._otstup,this.draw())},get:function(){return this._otstup}},color:{set:function(t){this._color!==t&&(this._color=t,"string"==typeof this._color&&(this._color=parseInt(t,16)),this.hsvGradient.color=this._color,this.colorHandler())},get:function(){return this._color}},activMouse:{set:function(t){this._activMouse!==t&&(this._activMouse=t,this.inputGroupRGB.activMouse=this._activMouse,this.inputGroupHSV.activMouse=this._activMouse,this.inputGroupHEX.activMouse=this._activMouse,this.inputGroupHEXInput.activMouse=this._activMouse,this.hsvGradient.activMouse=this._activMouse)},get:function(){return this._activMouse}}})},function(t,i,h){"use strict";function e(t,i,h,e,s){PLColor.call(this,t,i,h,e,s),this.type="PLColorTHREE";var o=this;this._value=new THREE.Color,this._width=100,this._height=pl102.wh+2*this._otstup,this.colPicActiv=!1,this.pLColorPickerPanel.fun=function(t){"null"==o._text&&(o.button.text=this.color),o.button.color=this.color,"string"==typeof o._color?o._color=this.color:o._color=+this.color,o.updValue(o.corectForBtn(+this.color,!0)),o.fun&&o.fun()},this.pLColorPickerPanel.pLInputRGB.useOne=!0,this.reposition=function(){this.button.height=this.btnH,this.button.width=this._width-2*this._otstup,this.button.height=this._height-2*this._otstup,this.btnPanel.height=this._height,this.btnPanel.width=this._width,this.pLColorPickerPanel.y=this.btnPanel.height,this.pLColorPickerPanel.width=this._width,this.pLColorPickerPanel.height=this.colorPanelH},this.updValue=function(t){var i,h,e;i=t.r/255,h=t.g/255,e=t.b/255,this._value.r=i,this._value.g=h,this._value.b=e}}Object.defineProperty(i,"__esModule",{value:!0}),i.PLColorTHREE=e,e.prototype=Object.create(PLColor.prototype),e.prototype.constructor=e,Object.defineProperties(e.prototype,{width:{set:function(t){this._width!=t&&(this._width=t,this.reposition())},get:function(){return this._width}},height:{set:function(t){this._height!=t&&(this._height=t,this.reposition())},get:function(){return this._height}},value:{set:function(t){var i,h,e;this._value=t,i=Math.round(255*t.r),h=Math.round(255*t.g),e=Math.round(255*t.b),this._color="0x"+this.compToHex(i)+this.compToHex(h)+this.compToHex(e),"null"==this._text&&(this.button.text=this._color),this.button.color=this._color,this.pLColorPickerPanel.setColor(this._color)},get:function(){return this._value}},color:{set:function(t){this._color!=t&&(this._color=this.convToCorColor(t),this.updValue(this.corectForBtn(1*t,!0)),"null"==this._text&&(this.button.text=this.corectForBtn(this._color)),this.button.color=this._color,this.pLColorPickerPanel.setColor(this._color))},get:function(){return this._color}}})},function(t,i,h){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,i,h,s){PIXI.Container.call(this),t.addChild(this),this.type="PLColorPalette";var o=this;pl102.addElement(this),this.fun=s,this.funBtnAdd=null,this.funChangeVisiblePanel=null,this.x=i||0,this.y=h||0,this._width=100,this._height=50,this._otstup=2,this._activMouse=!0,this._activ=!0,this._value="0xffffff",this._color="0xffffff",this._isOpenPallPicker=!1,this.index=0,this.arrColor=[0,16697384,4367862,16675139,6732650],this.ratio=.7,this.colorFormat="DECSTR";this.panel=new PLPanel(this,0,0),this.panel.image.visible=!1,pl102.removeElement(this.panel,!0),this.colorConverter=new ColorConverter,this.colorPicker=new PLColorPicker(this,0,0,"",function(){o.index=this.index,o.changeValueToFormat(this.color),o.fun&&o.fun()}),this.colorPicker.kolColor=5,this.colorPicker.setArray(this.arrColor),this.colorPicker.otstup=this._otstup,this.colorPicker.activContur=!0,this.colorPicker.kolElRow=5,this.colorPicker.contur.innerLine=!0,this.colorPicker.contur.thickness=-1.5,pl102.removeElement(this.colorPicker,!0),this.arrLink=["resources/images/pikNew/color/plus.png","resources/images/pikNew/color/minus.png"],this.btnAdd=new PLButton(this,0,0,"",function(){o.isOpenPallPicker=!o._isOpenPallPicker,o.funBtnAdd&&o.funBtnAdd()}),this.btnAdd.boolScalePic=!0,this.btnAdd.setStile(1),this.btnAdd.boolKontur=!0,this.btnAdd.konturSize=1,this.btnAdd.konturColor=11119017,this.btnAdd.panel.image.alpha=0,this.btnAdd.loadImeg(this.arrLink[0]),pl102.removeElement(this.btnAdd,!0),this.draw=function(){var t,i=this._width*this.ratio,h=this._width-i;this.colorPicker.position.set(this._otstup,this._otstup),this.colorPicker.width=i-2*this._otstup,t=this.colorPicker.height,this.btnAdd.position.set(i,this._otstup+2),this.btnAdd.width=h-this._otstup-2,this.btnAdd.height=t-4,this.panel.width=this._width,this.panel.height=t+2*this._otstup,this._height=this.panel.height},this.getBasicColorFormat=function(t){var i=t;if("string"==typeof t&&(-1!==t.indexOf("#")&&(i=parseInt(t.replace("#","0x"),16)),-1!==t.indexOf("0x")&&(i=parseInt(t,16))),"object"===e(t)&&window.THREE&&"getHexString"in t){var h=t.getHexString();i=parseInt(h.replace("#","0x"),16)}return i},this.changeValueToFormat=function(t){"DECSTR"===this.colorFormat?this._value=this.colorConverter.decToDecStr(t):"HEX"===this.colorFormat?this._value=this.colorConverter.decToHex(t):"THREE"===this.colorFormat?this._value.set(t):this._value=t,this._color=this._value},this.check=function(t){var i=t;if("number"==typeof i)return this.colorFormat="DEC",(i<0||i>16777215)&&(i=16777215,console.warn("Значение цвета выходит за границы 0 -> 16777215!")),i;if("string"==typeof i){this.colorFormat="DECSTR";var h="";return-1!==i.indexOf("#")&&(this.colorFormat="HEX",h="#"),-1!==i.indexOf("0x")&&(h="0x"),(0===h.length||i.split(h)[1].length<6)&&(i="0xffffff",console.warn("Не корректное значение цвета!! (#ffffff || 0xffffff)",i)),i}return"object"===e(i)&&window.THREE&&"addColors"in i?(this.colorFormat="THREE",i):(console.warn("Пришедшее значение не поддерживаеться!",i),this._value)},this.draw()}function o(t,i,h,e,s){PIXI.Container.call(this),this.type="MColorPalettePicker";var o=this;t.addChild(this),pl102.addElement(this),this.fun=e,this.funDrag=s,this.x=i||0,this.y=h||0,this._width=100,this._height=100,this._otstup=2,this._activMouse=!0,this._activ=!0,this.position.set(this.x,this.y),this.content=new PIXI.Container,this.addChild(this.content),this.panel=new PLPanel(this.content,0,0),pl102.removeElement(this.panel,!0),this.ratioLeft=.56,this.ratioCenter=.14,this.ratioRight=1-(this.ratioLeft+this.ratioCenter),this.color=16777215,this.colorRGB=[255,255,255],this.colorHEX="#ffffff",this.colorConverter=new ColorConverter,this.colorPick=new PLColorPick(this.content,0,0,function(){o.colorConvert(this.color),o.gradient.setColor(o.colorHEX,"click"),o.colorPanel.color=this.color,o.inputGroupR.set([o.colorRGB[0]]),o.inputGroupG.set([o.colorRGB[1]]),o.inputGroupB.set([o.colorRGB[2]]),o.inputGroupHex.set([o.colorHEX]),o.fun&&o.fun()}),this.colorPick.activ=!0,this.colorPick.funDrag=function(){o.colorConvert(this.colorDrag),o.gradient.setColor(o.colorHEX),o.colorPanel.color=this.colorDrag,o.inputGroupR.set([o.colorRGB[0]]),o.inputGroupG.set([o.colorRGB[1]]),o.inputGroupB.set([o.colorRGB[2]]),o.inputGroupHex.set([o.colorHEX]),o.funDrag&&o.funDrag()},this.colorPick.funOut=function(){o.colorConvert(this.color),o.gradient.setColor(o.colorHEX),o.colorPanel.color=this.color,o.inputGroupR.set([o.colorRGB[0]]),o.inputGroupG.set([o.colorRGB[1]]),o.inputGroupB.set([o.colorRGB[2]]),o.inputGroupHex.set([o.colorHEX]),o.funDrag&&o.funDrag()},pl102.removeElement(this.colorPick,!0),this.gradient=new PLGradient(this.content,0,0,function(){o.colorConvert(this.color),o.colorPick.setColor(o.colorHEX,"click"),o.colorPanel.color=this.color,o.inputGroupR.set([o.colorRGB[0]]),o.inputGroupG.set([o.colorRGB[1]]),o.inputGroupB.set([o.colorRGB[2]]),o.inputGroupHex.set([o.colorHEX]),o.fun&&o.fun()}),this.gradient.drawCursor(4,5),this.gradient.activ=!0,this.gradient.funDrag=function(){o.colorConvert(this.colorDrag),o.colorPick.setColor(o.colorHEX),o.colorPanel.color=this.colorDrag,o.inputGroupR.set([o.colorRGB[0]]),o.inputGroupG.set([o.colorRGB[1]]),o.inputGroupB.set([o.colorRGB[2]]),o.inputGroupHex.set([o.colorHEX]),o.funDrag&&o.funDrag()},this.gradient.funOut=function(){o.colorConvert(this.color),o.colorPick.setColor(o.colorHEX,"out"),o.colorPanel.color=this.color,o.inputGroupR.set([o.colorRGB[0]]),o.inputGroupG.set([o.colorRGB[1]]),o.inputGroupB.set([o.colorRGB[2]]),o.inputGroupHex.set([o.colorHEX]),o.funDrag&&o.funDrag()},pl102.removeElement(this.gradient,!0),this.imageBtn=new PLButton(this.content,0,0,""),this.imageBtn.boolScalePic=!0,this.imageBtn.visiblePanel=!1,this.imageBtn.loadImeg("resources/images/pikNew/col_pic.png"),this.imageBtn.otstup=0,this.imageBtn.okDown=!1,this.imageBtn.width=this.imageBtn.height=46,pl102.removeElement(this.imageBtn,!0),this.colorPanel=new PLPanel(this.content,0,0),this.colorPanel.image.visible=!1,pl102.removeElement(this.colorPanel,!0),this.inputGroupR=new InputGroup(this.content,0,0,"R",1,function(t){if(!0===isNaN(1*this.value[0]))return this.value[0]=o.colorRGB[0],void(t.value=o.colorRGB[0]);o.colorRGB[0]=1*this.value[0],o.colorConvert(o.colorRGB),o.colorPick.setColor(o.colorHEX,"click"),o.gradient.setColor(o.colorHEX,"click"),o.colorPanel.color=o.color,o.inputGroupHex.set([o.colorHEX]),o.fun&&o.fun()}),this.inputGroupR.label.fontSize=13,this.inputGroupR.otstup1=1,this.inputGroupR.panel.visible=!1,pl102.removeElement(this.inputGroupR,!0),this.inputGroupG=new InputGroup(this.content,0,0,"G",1,function(t){if(!0===isNaN(1*this.value[0]))return this.value[0]=o.colorRGB[1],void(t.value=o.colorRGB[1]);o.colorRGB[1]=1*this.value[0],o.colorConvert(o.colorRGB),o.colorPick.setColor(o.colorHEX,"click"),o.gradient.setColor(o.colorHEX,"click"),o.colorPanel.color=o.color,o.inputGroupHex.set([o.colorHEX]),o.fun&&o.fun()}),this.inputGroupG.label.fontSize=13,this.inputGroupG.otstup1=1,this.inputGroupG.panel.visible=!1,pl102.removeElement(this.inputGroupG,!0),this.inputGroupB=new InputGroup(this.content,0,0,"B",1,function(t){if(!0===isNaN(1*this.value[0]))return this.value[0]=o.colorRGB[2],void(t.value=o.colorRGB[2]);o.colorRGB[2]=1*this.value[0],o.colorConvert(o.colorRGB),o.colorPick.setColor(o.colorHEX,"click"),o.gradient.setColor(o.colorHEX,"click"),o.colorPanel.color=o.color,o.inputGroupHex.set([o.colorHEX]),o.fun&&o.fun()}),this.inputGroupB.label.fontSize=13,this.inputGroupB.otstup1=1,this.inputGroupB.panel.visible=!1,pl102.removeElement(this.inputGroupB,!0),this.inputGroupHex=new InputGroup(this.content,0,0,"",1,function(t){var i=this.value[0].length,h=-1!==this.value[0].indexOf("#");if(7===i&&!0===h)o.colorConvert(this.value[0]);else{if(6!==i||!1!==h)return this.value[0]=o.colorHEX,void(t.value=o.colorHEX);this.value[0]="#"+this.value[0],t.value=this.value[0],o.colorConvert(this.value[0])}o.colorPick.setColor(o.colorHEX,"click"),o.gradient.setColor(o.colorHEX,"click"),o.colorPanel.color=o.color,o.inputGroupR.set([o.colorRGB[0]]),o.inputGroupG.set([o.colorRGB[1]]),o.inputGroupB.set([o.colorRGB[2]]),o.fun&&o.fun()}),this.inputGroupHex.array[0].input.htmlElement.style.fontWeight="bold",pl102.removeElement(this.inputGroupHex,!0),this.colorConvert=function(t){"string"==typeof t?-1!==t.indexOf("0x")?(this.color=this.colorConverter.decStrToDec(t),this.colorRGB=this.colorConverter.decToRgb(t),this.colorHEX=this.colorConverter.decToHex(t)):(this.colorHEX=t,this.color=this.colorConverter.hexToDec(t),this.colorRGB=this.colorConverter.hexToRgb(t)):"number"==typeof t?(this.color=t,this.colorHEX=this.colorConverter.decToHex(t),this.colorRGB=this.colorConverter.decToRgb(t)):(this.colorRGB=t,this.color=this.colorConverter.rgbToDec(t),this.colorHEX=this.colorConverter.rgbToHex(t))},this.draw=function(){var t=this._width*this.ratioLeft,i=this._width*this.ratioCenter,h=this._width-(t+i),e=this.inputGroupR.height,s=this._height-2*e-3*this._otstup,o=this._height-e-3*this._otstup,n=(t+i-4*this._otstup)/3,r=(h-this._otstup-this.imageBtn.width)/2,a=(s+this._otstup-this.imageBtn.height)/2;this.colorPick.position.set(this._otstup,this._otstup),this.colorPick.width=t-2*this._otstup,this.colorPick.height=o,this.gradient.position.set(t,this._otstup),this.gradient.width=i-this._otstup,this.gradient.height=o,this.imageBtn.position.set(r+t+i,a),this.colorPanel.position.set(t+i,s+this._otstup),this.colorPanel.width=h-this._otstup,this.colorPanel.height=e,this.inputGroupR.position.set(this._otstup,o+2*this._otstup),this.inputGroupR.width=n,this.inputGroupG.position.set(2*this._otstup+n,o+2*this._otstup),this.inputGroupG.width=n,this.inputGroupB.position.set(3*this._otstup+2*n,o+2*this._otstup),this.inputGroupB.width=n,this.inputGroupHex.position.set(t+i,o+2*this._otstup),this.inputGroupHex.width=h-this._otstup,this.panel.width=this._width,this.panel.height=this._height},this.setColor=function(t){this.color=t,"string"==typeof t&&(this.color=this.colorConverter.decStrToDec(t)),this.colorConvert(this.color),this.colorPick.setColor(this.colorHEX,"click"),this.gradient.setColor(this.colorHEX,"click"),this.colorPanel.color=this.color,this.inputGroupR.set([this.colorRGB[0]]),this.inputGroupG.set([this.colorRGB[1]]),this.inputGroupB.set([this.colorRGB[2]]),this.inputGroupHex.set([this.colorHEX])},this.setColor(this.color),this.draw()}Object.defineProperty(i,"__esModule",{value:!0}),i.PLColorPalette=s,i.MColorPalettePicker=o,s.prototype=Object.create(PIXI.Container.prototype),s.prototype.constructor=s,Object.defineProperties(s.prototype,{width:{set:function(t){this._width!=t&&(this._width=t,this.draw())},get:function(){return this._width}},height:{set:function(t){this._height!=t&&(this._height=t,this.draw())},get:function(){return this._height}},color:{set:function(t){this._color=t,this.value=t},get:function(){return this._value}},value:{set:function(t){if(this._value!=t){this._value=this.check(t);var i=this.getBasicColorFormat(this._value);this.colorPicker.moveKontur(i),this.index=this.colorPicker.index}},get:function(){return this._value}},otstup:{set:function(t){this._otstup!=t&&(this._otstup=t,this.colorPicker.otstup=this._otstup,this.draw())},get:function(){return this._otstup}},activMouse:{set:function(t){this._activMouse!=t&&(this._activMouse=t)},get:function(){return this._activMouse}},isOpenPallPicker:{set:function(t){if(this._isOpenPallPicker!==t){this._isOpenPallPicker=t;var i=!1===this._isOpenPallPicker?0:1;this.btnAdd.loadImeg(this.arrLink[i])}},get:function(){return this._isOpenPallPicker}}}),o.prototype=Object.create(PIXI.Container.prototype),o.prototype.constructor=o,Object.defineProperties(o.prototype,{width:{set:function(t){this._width!==t&&(this._width=t,this.draw())},get:function(){return this._width}},height:{set:function(t){this._height!==t&&(this._height=t,this.draw())},get:function(){return this._height}},otstup:{set:function(t){this._otstup!==t&&(this._otstup=t,this.draw())},get:function(){return this._otstup}}})}])});
//# sourceMappingURL=plPlus.min.js.map