!function(t){var i=window.webpackHotUpdate;window.webpackHotUpdate=function(t,e){!function(t,i){if(!_[t]||!v[t])return;for(var e in v[t]=!1,i)Object.prototype.hasOwnProperty.call(i,e)&&(g[e]=i[e]);0==--m&&0===x&&T()}(t,e),i&&i(t,e)};var e,r=!0,s="46a894abb0e1ac0abcd7",h=1e4,a={},n=[],o=[];function u(t){var i=M[t];if(!i)return j;var r=function(r){return i.hot.active?(M[r]?-1===M[r].parents.indexOf(t)&&M[r].parents.push(t):(n=[t],e=r),-1===i.children.indexOf(r)&&i.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+t),n=[]),j(r)},s=function(t){return{configurable:!0,enumerable:!0,get:function(){return j[t]},set:function(i){j[t]=i}}};for(var h in j)Object.prototype.hasOwnProperty.call(j,h)&&"e"!==h&&"t"!==h&&Object.defineProperty(r,h,s(h));return r.e=function(t){return"ready"===d&&p("prepare"),x++,j.e(t).then(i,function(t){throw i(),t});function i(){x--,"prepare"===d&&(w[t]||D(t),0===x&&0===m&&T())}},r.t=function(t,i){return 1&i&&(t=r(t)),j.t(t,-2&i)},r}function l(t){var i={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:e!==t,active:!0,accept:function(t,e){if(void 0===t)i._selfAccepted=!0;else if("function"==typeof t)i._selfAccepted=t;else if("object"==typeof t)for(var r=0;r<t.length;r++)i._acceptedDependencies[t[r]]=e||function(){};else i._acceptedDependencies[t]=e||function(){}},decline:function(t){if(void 0===t)i._selfDeclined=!0;else if("object"==typeof t)for(var e=0;e<t.length;e++)i._declinedDependencies[t[e]]=!0;else i._declinedDependencies[t]=!0},dispose:function(t){i._disposeHandlers.push(t)},addDisposeHandler:function(t){i._disposeHandlers.push(t)},removeDisposeHandler:function(t){var e=i._disposeHandlers.indexOf(t);e>=0&&i._disposeHandlers.splice(e,1)},check:P,apply:k,status:function(t){if(!t)return d;c.push(t)},addStatusHandler:function(t){c.push(t)},removeStatusHandler:function(t){var i=c.indexOf(t);i>=0&&c.splice(i,1)},data:a[t]};return e=void 0,i}var c=[],d="idle";function p(t){d=t;for(var i=0;i<c.length;i++)c[i].call(null,t)}var f,g,y,m=0,x=0,w={},v={},_={};function b(t){return+t+""===t?+t:t}function P(t){if("idle"!==d)throw new Error("check() is only allowed in idle status");return r=t,p("check"),(i=h,i=i||1e4,new Promise(function(t,e){if("undefined"==typeof XMLHttpRequest)return e(new Error("No browser support"));try{var r=new XMLHttpRequest,h=j.p+""+s+".hot-update.json";r.open("GET",h,!0),r.timeout=i,r.send(null)}catch(t){return e(t)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)e(new Error("Manifest request to "+h+" timed out."));else if(404===r.status)t();else if(200!==r.status&&304!==r.status)e(new Error("Manifest request to "+h+" failed."));else{try{var i=JSON.parse(r.responseText)}catch(t){return void e(t)}t(i)}}})).then(function(t){if(!t)return p("idle"),null;v={},w={},_=t.c,y=t.h,p("prepare");var i=new Promise(function(t,i){f={resolve:t,reject:i}});g={};return D(0),"prepare"===d&&0===x&&0===m&&T(),i});var i}function D(t){_[t]?(v[t]=!0,m++,function(t){var i=document.createElement("script");i.charset="utf-8",i.src=j.p+""+t+"."+s+".hot-update.js",document.head.appendChild(i)}(t)):w[t]=!0}function T(){p("ready");var t=f;if(f=null,t)if(r)Promise.resolve().then(function(){return k(r)}).then(function(i){t.resolve(i)},function(i){t.reject(i)});else{var i=[];for(var e in g)Object.prototype.hasOwnProperty.call(g,e)&&i.push(b(e));t.resolve(i)}}function k(i){if("ready"!==d)throw new Error("apply() is only allowed in ready status");var e,r,h,o,u;function l(t){for(var i=[t],e={},r=i.slice().map(function(t){return{chain:[t],id:t}});r.length>0;){var s=r.pop(),h=s.id,a=s.chain;if((o=M[h])&&!o.hot._selfAccepted){if(o.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:h};if(o.hot._main)return{type:"unaccepted",chain:a,moduleId:h};for(var n=0;n<o.parents.length;n++){var u=o.parents[n],l=M[u];if(l){if(l.hot._declinedDependencies[h])return{type:"declined",chain:a.concat([u]),moduleId:h,parentId:u};-1===i.indexOf(u)&&(l.hot._acceptedDependencies[h]?(e[u]||(e[u]=[]),c(e[u],[h])):(delete e[u],i.push(u),r.push({chain:a.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:t,outdatedModules:i,outdatedDependencies:e}}function c(t,i){for(var e=0;e<i.length;e++){var r=i[e];-1===t.indexOf(r)&&t.push(r)}}i=i||{};var f={},m=[],x={},w=function(){console.warn("[HMR] unexpected require("+P.moduleId+") to disposed module")};for(var v in g)if(Object.prototype.hasOwnProperty.call(g,v)){var P;u=b(v);var D=!1,T=!1,k=!1,I="";switch((P=g[v]?l(u):{type:"disposed",moduleId:v}).chain&&(I="\nUpdate propagation: "+P.chain.join(" -> ")),P.type){case"self-declined":i.onDeclined&&i.onDeclined(P),i.ignoreDeclined||(D=new Error("Aborted because of self decline: "+P.moduleId+I));break;case"declined":i.onDeclined&&i.onDeclined(P),i.ignoreDeclined||(D=new Error("Aborted because of declined dependency: "+P.moduleId+" in "+P.parentId+I));break;case"unaccepted":i.onUnaccepted&&i.onUnaccepted(P),i.ignoreUnaccepted||(D=new Error("Aborted because "+u+" is not accepted"+I));break;case"accepted":i.onAccepted&&i.onAccepted(P),T=!0;break;case"disposed":i.onDisposed&&i.onDisposed(P),k=!0;break;default:throw new Error("Unexception type "+P.type)}if(D)return p("abort"),Promise.reject(D);if(T)for(u in x[u]=g[u],c(m,P.outdatedModules),P.outdatedDependencies)Object.prototype.hasOwnProperty.call(P.outdatedDependencies,u)&&(f[u]||(f[u]=[]),c(f[u],P.outdatedDependencies[u]));k&&(c(m,[P.moduleId]),x[u]=w)}var S,O=[];for(r=0;r<m.length;r++)u=m[r],M[u]&&M[u].hot._selfAccepted&&O.push({module:u,errorHandler:M[u].hot._selfAccepted});p("dispose"),Object.keys(_).forEach(function(t){!1===_[t]&&function(t){delete installedChunks[t]}(t)});for(var E,B,A=m.slice();A.length>0;)if(u=A.pop(),o=M[u]){var C={},R=o.hot._disposeHandlers;for(h=0;h<R.length;h++)(e=R[h])(C);for(a[u]=C,o.hot.active=!1,delete M[u],delete f[u],h=0;h<o.children.length;h++){var G=M[o.children[h]];G&&((S=G.parents.indexOf(u))>=0&&G.parents.splice(S,1))}}for(u in f)if(Object.prototype.hasOwnProperty.call(f,u)&&(o=M[u]))for(B=f[u],h=0;h<B.length;h++)E=B[h],(S=o.children.indexOf(E))>=0&&o.children.splice(S,1);for(u in p("apply"),s=y,x)Object.prototype.hasOwnProperty.call(x,u)&&(t[u]=x[u]);var H=null;for(u in f)if(Object.prototype.hasOwnProperty.call(f,u)&&(o=M[u])){B=f[u];var N=[];for(r=0;r<B.length;r++)if(E=B[r],e=o.hot._acceptedDependencies[E]){if(-1!==N.indexOf(e))continue;N.push(e)}for(r=0;r<N.length;r++){e=N[r];try{e(B)}catch(t){i.onErrored&&i.onErrored({type:"accept-errored",moduleId:u,dependencyId:B[r],error:t}),i.ignoreErrored||H||(H=t)}}}for(r=0;r<O.length;r++){var J=O[r];u=J.module,n=[u];try{j(u)}catch(t){if("function"==typeof J.errorHandler)try{J.errorHandler(t)}catch(e){i.onErrored&&i.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:e,originalError:t}),i.ignoreErrored||H||(H=e),H||(H=t)}else i.onErrored&&i.onErrored({type:"self-accept-errored",moduleId:u,error:t}),i.ignoreErrored||H||(H=t)}}return H?(p("fail"),Promise.reject(H)):(p("idle"),new Promise(function(t){t(m)}))}var M={};function j(i){if(M[i])return M[i].exports;var e=M[i]={i:i,l:!1,exports:{},hot:l(i),parents:(o=n,n=[],o),children:[]};return t[i].call(e.exports,e,e.exports,u(i)),e.l=!0,e.exports}j.m=t,j.c=M,j.d=function(t,i,e){j.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},j.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},j.t=function(t,i){if(1&i&&(t=j(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(j.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)j.d(e,r,function(i){return t[i]}.bind(null,r));return e},j.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return j.d(i,"a",i),i},j.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},j.p="build/",j.h=function(){return s},u(4)(j.s=4)}([function(t,i,e){"use strict";function r(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}e.d(i,"a",function(){return h});var s=0,h=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.type="TCont";this.tCont="xz",this.object3d=new THREE.Object3D,this.object3d.tCont=this,this.children=[],this._parent=void 0,this._scale=1,this._x=0,this._y=0,this.uuid=s+"_"+Math.random(),s++,this.dragBigXZ=function(){},null!=i&&(null==i.tCont?i.add(this.object3d):i.object3d.add(this.object3d))}var i,e,h;return i=t,(e=[{key:"add",value:function(t){if(null==t)return null;for(var i=0;i<this.children.length;i++)this.children[i].uuid==t&&(remove(this.children[i]),i=0);this.children.push(t),this.object3d.add(t.object3d),t.parent=this,t.testVisi()}},{key:"remove",value:function(t){if(null==t)return null;for(var i,e=0;e<this.children.length;e++)if(this.children[e].uuid==t.uuid)return(i=this.children.splice(e,1))[0].parent.object3d.remove(i[0].object3d),i[0].parent=void 0,i[0];return null}},{key:"x",set:function(t){this.object3d.position.x=t},get:function(){return this.object3d.position.x}},{key:"y",set:function(t){this.object3d.position.y=t},get:function(){return this.object3d.position.y}},{key:"scale",set:function(t){this._scale!=t&&(this._scale=t,this.object3d.scale(this._scale,1,this._scale))},get:function(){return this._scale}},{key:"parent",set:function(t){this._parent=t},get:function(){return this._parent}},{key:"alpha",set:function(t){this.parameter.alpha!=t&&(this.parameter.alpha=t,this.div.style.opacity=this.parameter.alpha)},get:function(){return this.parameter.alpha}},{key:"visible",set:function(t){this._visible!=t&&(this._visible=t,this.object3d.visible=this._visible)},get:function(){return this.parameter.visible}}])&&r(i.prototype,e),h&&r(i,h),t}()},function(t,i,e){"use strict";e.d(i,"c",function(){return f}),e.d(i,"b",function(){return w}),e.d(i,"a",function(){return v});var r,s=e(0);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,i,e){return i&&a(t.prototype,i),e&&a(t,e),t}function o(t,i){return!i||"object"!==h(i)&&"function"!=typeof i?u(t):i}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&d(t,i)}function d(t,i){return(d=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function p(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function f(){this.type="TStyle";r=this,this.gBox=new THREE.BoxBufferGeometry(1,1,1),this.gCylinder=new THREE.CylinderBufferGeometry(1,1,1,16,1),this.gStrelka=new THREE.CylinderBufferGeometry(1,0,1,16,1),this.wh=32,this._gage=1,this._color="#008CBA",this._color1="#666666",this._colorText="#ffffff",this._colorText1="#999999",this._fontSize=16,this._fontFamily="Arial",this._bold=!0,this._italic=!1,this._otstup=2,this.font=new g(this),this.objMat={},this.getMat=function(t){return null==this.objMat[t]&&(this.objMat[t]=new THREE.MeshPhongMaterial({color:t})),this.objMat[t]},this.mobile=!1,this.array=[],this.add=function(t){this.array.push(t)},this.addFont=function(t){this.font.ng=t}}Object.defineProperties(f.prototype,{});var g=function t(i){var e;p(this,t),this.par=i,this.tv=new TVector,this._whText=200,this._whTextPlus=Math.round(this._whText+this._whText/8),this.tv._wh=40,this.ng=void 0,this.tv.bitmapData.width!=this._whTextPlus&&(this.tv.bitmapData.width=this._whTextPlus),this.tv.bitmapData.height!=this._whTextPlus&&(this.tv.bitmapData.height=this._whTextPlus),this.object={},this.setObj=function(t){e="",1==t._italic&&(e+="italic "),1==t._bold&&(e+="bold "),e+=this._whText+"px "+t._fontFamily,null==this.object[e]&&(this.object[e]=new y(this,e)),this.object[e].setObj(t)}},y=function t(i,e){var r,s,h,a,n,o;p(this,t),this.par=i,this.key=e,this.arSimvol=[],this.arrSN=[],this.arrSim=[],this.arrkol=[],this.setObj=function(t){for(r=t.cont3d.children.length-1;r>=0;r--)t.cont3d.remove(t.cont3d.children[r]);for(h=0,this.arrSN=t._text.split("\n"),a=0,n=0,s=0;s<this.arrSN.length;s++)for(this.arrSim[s]=[],this.arrkol[s]=0,r=0;r<this.arrSN[s].length;r++)null==this.arSimvol[this.arrSN[s][r]]&&(this.arSimvol[this.arrSN[s][r]]=new m(this,this.arrSN[s][r])),o=this.arSimvol[this.arrSN[s][r]].getMesh(t.material),t.cont3d.add(o),this.arrSim[s].push(o),null!=i.ng?t.cont3d.children[a].position.y=-i._whText-i._whText*s*1.1:t.cont3d.children[a].position.y=0-i._whText*s*1.1,0!=r?(t.cont3d.children[a].position.x=t.cont3d.children[a-1].position.x+t.cont3d.children[a-1].w+this.par._whText/200,t._widthGeom=t.cont3d.children[a].position.x+t.cont3d.children[a].w,this.arrkol[s]=t._widthGeom):(t.cont3d.children[a].position.x=0,t._widthGeom=0,this.arrkol[s]=t.cont3d.children[a].w),t._widthGeom>n&&(n=t._widthGeom),a++;if("left"!=t._textAlign&&this.arrSN.length>=2)for(s=0;s<this.arrSN.length;s++)for(h=0,"center"==t._textAlign&&(h=(n-this.arrkol[s])/2),"right"==t._textAlign&&(h=n-this.arrkol[s]),r=0;r<this.arrSim[s].length;r++)this.arrSim[s][r].position.x+=h;t._widthGeom=n,t._heightGeom=i._whText+i._whText*(this.arrSN.length-1)*1.1}},m=function t(i,e){p(this,t),this.par=i,this.key=e,this.array=[];var r,s=this.par.par._whText,h=this.par.par._whTextPlus;if(null==i.par.ng){var a=this.par.par.tv.bitmapData,n=a.ctx,o=this.par.par.tv;n.clearRect(0,0,h,h);this.par.key;n.font=this.par.key,n.fillText(e,0,s-s/8),a.imgData=n.getImageData(0,0,h,h),o.upDate(),this.geometry=new x(o.points.arrayTriangle,o.points.array,this.par.par.par._gage)," "==e&&(this.geometry.boundingBox.max.x=s/2)}else this.geometry=new THREE.TextGeometry(e,{font:i.par.ng,size:s,height:1,curveSegments:4,bevelThickness:1,bevelSize:1,bevelEnabled:!0}),this.geometry.computeBoundingBox(),this.geometry.computeBoundingSphere()," "==e&&(this.geometry.boundingBox.max.x=s/2);this.getMesh=function(t){for(r=0;r<this.array.length;r++)if(null==this.array[r].parent)return this.array[r].material.uuid!=t.uuid&&(this.array[r].material=t),this.array[r];return this.array.push(new THREE.Mesh(this.geometry,t)),this.array[this.array.length-1].w=this.geometry.boundingBox.max.x,this.array[this.array.length-1]}};function x(t,i,e){var r;THREE.BufferGeometry.call(this),this.arrPosition=[];var s,h,a=e,n=t,o=i;this.update=function(){for(this.arrPosition=[],t=0;t<n.length;t++)for(s=n[t].length,h=0;h<s;h+=6)this.arrPosition.push(n[t][h],-n[t][h+1],a),this.arrPosition.push(n[t][h+2],-n[t][h+1+2],a),this.arrPosition.push(n[t][h+4],-n[t][h+1+4],a),this.arrPosition.push(n[t][h],-n[t][h+1],a),this.arrPosition.push(n[t][h+4],-n[t][h+1+4],a),this.arrPosition.push(n[t][h+2],-n[t][h+1+2],a),this.arrPosition.push(n[t][h+4],-n[t][h+1+4],0),this.arrPosition.push(n[t][h+2],-n[t][h+1+2],0),this.arrPosition.push(n[t][h],-n[t][h+1],0),this.arrPosition.push(n[t][h+4],-n[t][h+1+4],0),this.arrPosition.push(n[t][h],-n[t][h+1],0),this.arrPosition.push(n[t][h+2],-n[t][h+1+2],0);for(t=0;t<o.length;t++)for(s=o[t].length-1,h=0;h<s;h++)this.arrPosition.push(o[t][h].x,-o[t][h].y,0),this.arrPosition.push(o[t][h+1].x,-o[t][h+1].y,0),this.arrPosition.push(o[t][h+1].x,-o[t][h+1].y,a),this.arrPosition.push(o[t][h].x,-o[t][h].y,0),this.arrPosition.push(o[t][h+1].x,-o[t][h+1].y,a),this.arrPosition.push(o[t][h+1].x,-o[t][h+1].y,0),this.arrPosition.push(o[t][h].x,-o[t][h].y,0),this.arrPosition.push(o[t][h+1].x,-o[t][h+1].y,a),this.arrPosition.push(o[t][h].x,-o[t][h].y,a),this.arrPosition.push(o[t][h].x,-o[t][h].y,0),this.arrPosition.push(o[t][h].x,-o[t][h].y,a),this.arrPosition.push(o[t][h+1].x,-o[t][h+1].y,a);r=new Float32Array(3*this.arrPosition.length),this.addAttribute("position",new THREE.BufferAttribute(r,3)),s=this.arrPosition.length;for(var t=0;t<s;t++)r[t]=this.arrPosition[t];this.attributes.position.needsUpdate=!0,this.computeVertexNormals(),this.computeBoundingBox(),this.computeBoundingSphere()},this.serAA=function(t,i){n=t,o=i,this.update()},this.update()}x.prototype=Object.create(THREE.BufferGeometry.prototype),x.prototype.constructor=x;var w=function(t){function i(t,e,s,h){var a;p(this,i),(a=o(this,l(i).call(this,t))).x=e,a.y=s,a._widthGeom=100,a._heightGeom=100,a._width=100,a._gage=r._gage,a._colorText1=r._colorText1,a._textAlign="left",a.material=r.getMat(a._colorText1),a.cont3d=new THREE.Object3D,a.object3d.add(a.cont3d),a.geometry=void 0,a._text=h||"",a._fontSize=r._fontSize,a._fontFamily=r._fontFamily,a._bold=r._bold,a._italic=r._italic;var n=a._fontSize/r.font._whText;return a.cont3d.scale.set(n,n,a._gage),a.drag=function(){r.font.setObj(this),this._width=this._widthGeom*this._fontSize/r.font._whText},a.drag(),a.dragColor=function(){for(var t=0;t<this.cont3d.children.length;t++)this.cont3d.children[t].material=this.material},a}return c(i,s["a"]),n(i,[{key:"width",set:function(t){this._width!=t&&(this._width=t)},get:function(){return this._widthGeom*(this._fontSize/r.font._whText)}},{key:"height",set:function(t){this._height!=t&&(this._height=t)},get:function(){return this._heightGeom*(this._fontSize/r.font._whText)}},{key:"gage",set:function(t){if(this._gage!=t){this._gage=t;var i=this._gage/r.font._whText;this.cont3d.scale.set(i,i,this._gage),this._width=this._widthGeom*this._fontSize/r.font._whText}},get:function(){return this._gage}},{key:"fontSize",set:function(t){if(this._fontSize!=t){this._fontSize=t;var i=this._fontSize/r.font._whText;this.cont3d.scale.set(i,i,this._gage),this._width=this._widthGeom*this._fontSize/r.font._whText}},get:function(){return this._fontSize}},{key:"textAlign",set:function(t){this._textAlign!=t&&(this._textAlign=t,this.drag())},get:function(){return this._textAlign}},{key:"fontFamily",set:function(t){if(this._fontFamily!=t){this._fontFamily=t;this._fontFamily;this.drag()}},get:function(){return this._fontFamily}},{key:"bold",set:function(t){if(this._bold!=t){this._bold=t;this._bold;this.drag()}},get:function(){return this._bold}},{key:"italic",set:function(t){if(this._italic!=t){this._italic=t;this._italic;this.drag()}},get:function(){return this._italic}},{key:"text",set:function(t){this._text!=t&&(this._text=t,this.drag())},get:function(){return this._text}},{key:"colorText1",set:function(t){this._colorText1!=t&&(this._colorText1=t,this.material=r.getMat(this._colorText1),this.dragColor())},get:function(){return this._colorText1}}]),i}(),v=function(t){function i(t,e,s){var h,a;p(this,i),(h=o(this,l(i).call(this,t))).x=e,h.y=s,h._height=10,h._width=100,h.textScale=1,h.textPlus="",h._gage=r._gage,h._color1=r._color1,h._otstup=r._otstup,h.boolMat=!1,h.material=r.getMat(h._color1),h.a=[],h.a[0]=new THREE.Mesh(r.gCylinder,h.material),h.a[1]=new THREE.Mesh(r.gCylinder,h.material),h.a[2]=new THREE.Mesh(r.gCylinder,h.material),h.a[3]=new THREE.Mesh(r.gStrelka,h.material),h.a[4]=new THREE.Mesh(r.gStrelka,h.material);for(var n=0;n<h.a.length;n++)h.object3d.add(h.a[n]);return h.a[0].rotation.z=Math.PI/2,h.a[3].rotation.z=-Math.PI/2,h.a[4].rotation.z=Math.PI/2,h.label=new w(u(u(h)),0,0,h._width+""),h.label.fontSize=10,h.label.colorText1=h._color1,h.drag=function(){var t=this._gage/2,i=t;this.a[0].scale.set(t,this._width-6*t,t),this.a[0].position.set(this._width/2,this._height,i),this.a[1].scale.set(t,this._height+t,t),this.a[1].position.set(0,(this._height+t)/2,i),this.a[2].scale.set(t,this._height+t,t),this.a[2].position.set(this._width,(this._height+t)/2,i),this.a[3].scale.set(4*t,4*t,t),this.a[3].position.set(2*t,this._height,i),this.a[4].scale.set(4*t,4*t,t),this.a[4].position.set(this._width-2*t,this._height,i),a=Math.round(10*this._width)/10*this.textScale,this.label.text=a+this.textPlus,this.label.y=this._height,this.label.x=(this._width-this.label.width)/2},h.drag(),h.dragMat=function(){this.material=r.getMat(this._color1);for(var t=0;t<this.a.length;t++)this.a[t].material=this.material},h}return c(i,s["a"]),n(i,[{key:"width",set:function(t){this._width!=t&&(this._width=t,this.drag())},get:function(){return this._width}},{key:"height",set:function(t){this._height!=t&&(this._height=t,this.drag())},get:function(){return this._height}},{key:"gage",set:function(t){this._gage!=t&&(this._gage=t,this.label.fontSize=20*this.label.gage,this.drag())},get:function(){return this._gage}},{key:"color1",set:function(t){this._color1!=t&&(this._color1=t,this.label.colorText1=t,this.dragMat())},get:function(){return this._color1}}]),i}()},function(t,i,e){"use strict";e.d(i,"a",function(){return a});e(0);function r(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function s(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function h(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(){s(this,t);var i=this;this.type="TVector",this.time=0,this._wh=50,this._sah=2,this._zdvig=2,this._canvas,this.funUp=void 0,this._boolMat=!0,this.dinFun=void 0,this.bitmapData=new c(225,225,[0,0,0,0],function(){i.upDate(),i.dinFun&&i.dinFun()}),this._canvas=this.bitmapData.canvas,this.bloks=new o(this),this.points=new n(this),this.setLink=function(t,e){i.dinFun=e,this.bitmapData.load(t,!0)},this.upDate=function(){var t=(new Date).getMilliseconds();this.bloks.upDate(),this.points.upDate(),this.time=(new Date).getMilliseconds()-t,null!=this.funUp&&this.funUp()}}var i,e,r;return i=t,(e=[{key:"canvas",set:function(t){this._canvas=t},get:function(){return this._canvas}},{key:"wh",set:function(t){this._wh!=Math.round(t)&&(this._wh=Math.round(t),this.upDate())},get:function(){return this._wh}},{key:"sah",set:function(t){this._sah!=t&&(this._sah=t,this.upDate())},get:function(){return this._sah}},{key:"zdvig",set:function(t){this._zdvig!=t&&(this._zdvig=t,this.upDate())},get:function(){return this._zdvig}},{key:"boolMat",set:function(t){this._boolMat!=t&&(this._boolMat=t,this.points._boolMat=t,this.upDate())},get:function(){return this._boolMat}}])&&h(i.prototype,e),r&&h(i,r),t}(),n=function t(i){s(this,t),this.par=i,this.array=[],this.arrayTriangle=[];var e=[],r=0;this._boolMat=!0,this.ts=new d,this.getP=function(){return r==e.length&&e.push({x:0,y:0}),e[++r-1]},this.clear=function(){this.array=[],this.arrayTriangle=[],this.ts.segment.width=2*this.par.wh,this.ts.segment.height=2*this.par.wh,r=0},this.upDate=function(){this.clear();for(var t=0;t<this.par.bloks.array.length;t++)for(var i=0;i<this.par.bloks.array[t].attIJBig.length;i++)this.startGron(this.par.bloks.array[t].attIJBig[i],this.par.bloks.array[t].i,this.par.bloks.array[t].j)},this.startGron=function(t,i,e){if(!(t.length<5)){for(var r,s=[],h=0;h<t.length;h+=2)(r=this.getP()).x=t[h],r.y=t[h+1],s.push(r);1==this._boolMat&&this.sGMat(s);for(h=0;h<s.length;h++)s[h].x+=i,s[h].y+=e;this.ts.arrPosition=[],this.ts.start(s);var a=[];for(h=0;h<this.ts.arrPosition.length;h+=9)a.push(this.ts.arrPosition[h],this.ts.arrPosition[h+1]),a.push(this.ts.arrPosition[h+3],this.ts.arrPosition[h+1+3]),a.push(this.ts.arrPosition[h+6],this.ts.arrPosition[h+1+6]);this.arrayTriangle.push(a),this.array.push(s)}},this.sGMat=function(t){for(var i=0;i<t.length-2;i++)this.sGMat2(t,i)};var h,a;this.sGMat2=function(t,i){if(!(this.getDistance(t[i],t[i+1])>10||Math.abs(this.getDistancePointToLine(t[i],t[i+2],t[i+1]))>1)){h=[];for(var e=0;e<100&&!((a=i+e+2)>=t.length-3);e++)if(h.push(a-1),1==this.sGMat3(t,t[i],h,t[a])){for(var r=h.length-2;r>=0;r--)t.splice(h[r],1);e=999999;break}}},this.sGMat3=function(t,i,e,r){for(var s=!1,h=0;h<e.length;h++)if(Math.abs(this.getDistancePointToLine(i,t[e[h]],r))>this.par._zdvig){s=!0;break}return s},this.getDistance=function(t,i){return null==t?0:(null==i&&(i=rezNull),i=i||rezNull,Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2)))},this.getDistancePointToLine=function(t,i,e){var r=((i.y-t.y)*e.x-(i.x-t.x)*e.y+i.x*t.y-i.y*t.x)/this.getDistance(t,i),s=0;return 0==isNaN(r)&&(s=-r),s}},o=function t(i){s(this,t),this.par=i,this.array=[],this.arrGron=[],this.arrGronMin=[];var e,r,h,a=i.bitmapData,n=0,o=0;this.clear=function(){this.array=[];for(var t=0;t<this.arrGron.length;t++)this.arrGron[t].clear()},this.getGron=function(t,i,e,r){return n==this.arrGron.length&&(this.arrGron.push(new u(this)),this.arrGron[n].idArr=n),this.arrGron[n].start(t,i,e,r),this.array.push(this.arrGron[n]),n++,this.arrGron[n-1]},this.getGMin=function(){return o==this.arrGronMin.length&&(this.arrGronMin.push(new l(this)),this.arrGronMin[o].idArr=o),o++,this.arrGronMin[o-1]},this.upDate=function(){var t,s;this.clear(),n=0,o=0,e=a.width,r=a.height,h=null;for(var u=0;u<e-i._wh;u+=i._wh){u+(t=i._wh+1)>=e-i._wh+1&&(t=e-u);for(var l=0;l<r-i._wh;l+=i._wh)l+(s=i._wh+1)>=r-i._wh+1&&(s=r-l),h=this.getGron(u,l,t,s)}null==h&&(h=this.getGron(0,0,e,r))}},u=function t(i){var e,h;s(this,t),this.par=i,this.idArr=-1,this.array=[],this.status=0,this.i,this.j,this.w,this.h;var a,n=i.par.bitmapData;this.clear=function(){0!=this.array.length&&(this.array=[])},this.start=function(t,e,r,s){this.i=t,this.j=e,this.w=r,this.h=s;for(var h=0;h<r;h++){this.array[h]=[];for(var o=0;o<s;o++)(a=i.getGMin()).start(h+t,o+e,n.getPixel(h+t,o+e)),this.array[h][o]=a}this.testSt(),1==this.status&&this.poisk()},this.testSt=function(){this.status=0,this.attIJBig=[];for(var t=0;t<this.w;t++)for(var i=0;i<this.h;i++)if(0!=this.array[t][i].suma){this.status=1,t=999,i=999;break}if(0!=this.status){for(this.status=2,t=0;t<this.w;t++)for(i=0;i<this.h;i++)if(0==this.array[t][i].suma){this.status=1,t=999,i=999;break}1!=this.status&&(this.attIJBig=[[0,0,this.w-1,0,this.w-1,this.h-1,0,this.h-1,0,0]])}};var o=0;this.attIJ=[],this.attIJ2=[],this.attIJBig=[],this.poisk=function(){if(this.poiskOpok(),this.attIJ=[],this.attIJBig=[],o=-1,this.poiskLine(),this.attIJBig.length>=2){this.slivanie();for(var t=this.attIJBig.length-1;t>=0;t--)this.attIJBig[t].length}},this.slivanie=function(){for(var t=0;t<this.attIJBig.length;t++)this.slivanieMa(this.attIJBig[t],t)},this.slivanieMa=function(t,i){if(t[1]-1>0&&0!=this.array[t[0]][t[1]-1].suma)for(var e=1;e<this.h;e++)if(t[1]-e>=0&&1==this.array[t[0]][t[1]-e].opor){var r=this.array[t[0]][t[1]-e].konur;if(-1!=r){for(var s=0;s<t.length;s++)this.attIJBig[r].push(t[s]);return this.attIJBig[i]=[],void this.rjynehNa(i,r)}}},this.rjynehNa=function(t,i){var e,r;for(e=0;e<this.w;e++)for(r=0;r<this.h;r++)this.array[e][r].konur==t&&(this.array[e][r].konur=i)};var u=(r(e={i:0,y:0,x:0},"y",0),r(e,"error",0),l=e),l=(r(h={i:0,y:0,x:0},"y",0),r(h,"error",0),h);this.poiskLine=function(){-1!=o&&this.attIJBig.push(this.attIJ),o++;for(var t=0;t<this.w;t++)for(var i=0;i<this.h;i++)if(0!=this.array[t][i].suma&&1==this.array[t][i].opor&&-1==this.array[t][i].proshli)return 0,0,this.poiskOFkonur2(t,i,o),this.array[t][i].proshli=5,this.attIJ=[],this.getPoisk(t,i),-999==l.i?(this.poiskLine(),!1):(this.attIJ.push(t,i),this.array[t][i].konur=o,this.attIJ2=[],this.attIJ2.push(t,i),u.i=1*l.i,u.j=1*l.j,u.x=1*l.x,u.y=1*l.y,u.error=0,this.poiskOF(l.i,l.j),!0);return!1},this.poiskOFkonur2=function(t,i,e){-1==this.array[t][i].proshli2&&(this.array[t][i].proshli2=1,this.getPoisk(t,i,"proshli2"),-999!=l.x&&(this.array[l.i][l.j].konur2=e,this.poiskOFkonur2(l.i,l.j,e)),this.getPoisk(t,i,"proshli2"),-999!=l.x&&(this.array[l.i][l.j].konur2=e,this.poiskOFkonur2(l.i,l.j,e)),0)},this.poiskOF=function(t,i){if(-999!=t)if(this.attIJ2.push(t,i),this.array[t][i].konur=o,this.array[t][i].proshli=1,this.getPoisk(t,i),-999!=l.x){var e=!1;l.x==u.x&&l.y==u.y&&(e=!0),this.array[t][i].oporNum>=3&&(u.error=999999999),0==e&&u.error++,1==this.array[l.i][l.j].oporSuper&&(u.error=999999999),u.error<this.par.par._sah?this.poiskOF(l.i,l.j):(this.array[l.i][l.j].proshli=4,u.i=1*l.i,u.j=1*l.j,u.x=1*l.x,u.y=1*l.y,u.error=0,this.attIJ.push(t,i),this.array[l.i][l.j].konur=o,this.poiskOF(l.i,l.j),this.array[t][i].proshli=4)}else this.testOdinokih()};var c,d,p,f,g,y,m,x;this.getPoisk=function(t,i,e){l.x=-999;var r=e||"proshli";x=0,m=-999,f=-999,p=-999,y=-999,g=-999;for(var s=-1;s<2;s++)if(-1!=(c=t+s)&&c<=this.w-1)for(var h=-1;h<2;h++)d=i+h,0==s&&0==h||-1!=d&&d<=this.h-1&&0!=this.array[c][d].suma&&1==this.array[c][d].opor&&-1==this.array[c][d][r]&&(x++,this.array[c][d].oporNum>m&&(m=this.array[c][d].oporNum,p=c,f=d,g=s,y=h));if(l.i=p,l.j=f,l.x=g,l.y=y,1==this.array[t][i].krai){if(t<this.w-1&&null!=this.array[t+1][i]&&0!=this.array[t+1][i].suma&&1==this.array[t+1][i].opor&&-1==this.array[t+1][i][r]&&this.array[t+1][i].oporNum>=m)return l.i=t+1,l.j=i,l.x=1,void(l.y=0);if(t>0&&null!=this.array[t-1][i]&&0!=this.array[t-1][i].suma&&1==this.array[t-1][i].opor&&-1==this.array[t-1][i][r]&&this.array[t-1][i].oporNum>=m)return l.i=t-1,l.j=i,l.x=-1,void(l.y=0);if(null!=this.array[t][i+1]&&0!=this.array[t][i+1].suma&&1==this.array[t][i+1].opor&&-1==this.array[t][i+1][r]&&this.array[t][i+1].oporNum>=m)return l.i=t,l.j=i+1,l.x=0,void(l.y=1);if(null!=this.array[t][i-1]&&0!=this.array[t][i-1].suma&&1==this.array[t][i-1].opor&&-1==this.array[t][i-1][r]&&this.array[t][i-1].oporNum>=m)return l.i=t,l.j=i-1,l.x=0,void(l.y=-1)}},this.testAll=function(){for(var t=-1,i=0,e=9999,r=-1,s=-1,h=Math.sqrt(Math.pow(1*this.attIJ[0]-u.i,2)+Math.pow(1*this.attIJ[1]-u.j,2)),a=0;a<this.w;a++)for(var n=0;n<this.h;n++)this.array[a][n].konur2==o&&(0,-1==this.array[a][n].proshli&&(t=Math.sqrt(Math.pow(u.i-a,2)+Math.pow(u.j-n,2)))<h&&(e>t&&(e=t,r=a,s=n),i++));return 0!=i&&(u.i=r,u.j=s,u.x=0,u.y=0,u.error=0,this.attIJ.push(r,s),this.array[r][s].konur=o,this.array[r][s].proshli=4,this.poiskOF(r,s),!0)},this.testOdinokih=function(){if(1!=this.testAll()){var t=0,i=0,e=!0;if(this.attIJ2.length>=5){e=!1;for(var r=2;r<this.attIJ2.length;r+=2)this.attIJ2[r]!=this.attIJ2[0]&&(t=1),this.attIJ2[r+1]!=this.attIJ2[1]&&(i=1);0==t&&(e=!0),0==i&&(e=!0)}if(1==e)for(r=0;r<this.attIJ2.length;r+=2)this.array[this.attIJ2[r]][this.attIJ2[r+1]].opor=!1,this.array[this.attIJ2[r]][this.attIJ2[r+1]].proshli=-1;else this.attIJ.push(1*this.attIJ[0],1*this.attIJ[1]);this.poiskLine()}},this.poiskOpok=function(){for(var t=-1,i=0;i<this.w;i++){t=-1;for(var e=0;e<this.h;e++)this.array[i][e].suma!=t&&(this.array[i][e].opor=!0,this.array[i][e].oporNum++,t=this.array[i][e].suma);t=-1;for(e=this.h-1;e>=0;e--)this.array[i][e].suma!=t&&(this.array[i][e].opor=!0,this.array[i][e].oporNum++,t=this.array[i][e].suma)}for(e=0;e<this.h;e++){t=-1;for(i=0;i<this.w;i++)this.array[i][e].suma!=t&&(this.array[i][e].opor=!0,this.array[i][e].oporNum++,t=this.array[i][e].suma)}for(e=0;e<this.h;e++){t=-1;for(i=this.w-1;i>=0;i--)this.array[i][e].suma!=t&&(this.array[i][e].opor=!0,this.array[i][e].oporNum++,t=this.array[i][e].suma)}for(e=0;e<this.h;e++)for(i=0;i<this.w;i++)0!=this.array[i][e].suma&&1==this.array[i][e].opor&&this.killOO(i,e);for(e=0;e<this.h;e++)t=-1,this.array[0][e].suma!=t&&(this.array[0][e].krai=!0,this.array[0][e].oporNum++),this.array[this.w-1][e].suma!=t&&(this.array[this.w-1][e].krai=!0,this.array[this.w-1][e].oporNum++);for(i=0;i<this.w;i++)t=-1,this.array[i][0].suma!=t&&(this.array[i][0].krai=!0,this.array[i][0].oporNum++),this.array[i][this.h-1].suma!=t&&(this.array[i][this.h-1].krai=!0,this.array[i][this.h-1].oporNum++);0!=this.array[0][0].suma&&(this.array[0][0].oporNum+=10),0!=this.array[this.w-1][0].suma&&(this.array[this.w-1][0].oporNum+=10),0!=this.array[this.w-1][this.h-1].suma&&(this.array[this.w-1][this.h-1].oporNum+=10),0!=this.array[0][this.h-1].suma&&(this.array[0][this.h-1].oporNum+=10),this.array[0][7].oporNum+=10,t=11;for(e=0;e<this.h;e++)this.array[0][e].suma;this.poiskOpokwwww()},this.poiskOpokwwww=function(){},this.killOO=function(t,i){this.getPoisk(t,i),1==x&&(this.array[t][i].suma=0,this.array[t][i].opor=!1)}},l=function t(i){s(this,t),this.par=i,this.idArr=-1,this.startColor,this.a,this.i,this.j,this.suma=0,this.opor=!1,this.oporSuper=!1,this.proshli=-1,this.oporNum=0,this.krai=!1,this.konur=-1,this.konur2=-1,this.proshli2=-1,this.start=function(t,i,e){this.suma=0,this.opor=!1,this.oporSuper=!1,this.proshli=-1,this.krai=!1,this.konur2=-1,this.proshli2=-1,this.i=t,this.j=i,this.oporNum=0,e[3]>200&&(this.suma=1)}};function c(t,i,e,r){var s=this;this.type="TBitmapData",this.fun=r,this._width=null!=t?t:100,this._height=null!=i?i:100,this._color=null!=e?e:[0,0,0,255],this._widthVisi=100,this._heightVisi=100,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.load=function(t,i){var e=new Image;e.crossOrigin="Anonymous",e.onload=function(){s.width=e.width,s.height=e.height,i&&s.clear(),s.ctx.drawImage(e,0,0),s.imgData=s.ctx.getImageData(0,0,s.width,s.height),s.fun&&s.fun()},e.src=t},this.setCanvas=function(t,i){s.canvas=t,s.ctx=i,s.imgData=s.ctx.getImageData(0,0,s.canvas.width,s.canvas.height),s.upDate()},this.setImage=function(t){this._width=t.width,this._height=t.height,this.canvas.width=this._width,this.canvas.height=this._height,this.ctx.clearRect(0,0,this._width,this._width),this.ctx.drawImage(t,0,0),this.imgData=this.ctx.getImageData(0,0,t.width,t.height)},this.setImage2=function(t,i){this._width=t.width,this._height=t.height,this.canvas.width=this._width*i,this.canvas.height=this._height*i,this.ctx.clearRect(0,0,this._width,this._width),this.ctx.drawImage(t,0,0,this._width,this._height,0,0,this._width*i,this._height*i),this.imgData=this.ctx.getImageData(0,0,t.width,t.height)},this.getData=function(){return this.canvas.toDataURL()},this.arrRgba=[0,0,0,0],this.getPixel=function(t,i){return this.arrRgba[0]=this.imgData.data[4*(i*this.imgData.width+t)+0],this.arrRgba[1]=this.imgData.data[4*(i*this.imgData.width+t)+1],this.arrRgba[2]=this.imgData.data[4*(i*this.imgData.width+t)+2],this.arrRgba[3]=this.imgData.data[4*(i*this.imgData.width+t)+3],this.arrRgba[0]=this.arrRgba[0]?this.arrRgba[0]:0,this.arrRgba[1]=this.arrRgba[1]?this.arrRgba[1]:0,this.arrRgba[2]=this.arrRgba[2]?this.arrRgba[2]:0,this.arrRgba[3]=this.arrRgba[3]?this.arrRgba[3]:0,this.arrRgba},this.getAlphaPixel=function(t,i){return this.getPixel(t,i)[3]},this.setPixelDin=function(t,i,e){var r=this.ctx.createImageData(1,1);r.data[0]=e[0],r.data[1]=e[1],r.data[2]=e[2],r.data[3]=e[3],this.ctx.putImageData(r,t,i)},this.setPixel=function(t,i,e){this.imgData.data[4*(i*this.imgData.width+t)+0]=e[0],this.imgData.data[4*(i*this.imgData.width+t)+1]=e[1],this.imgData.data[4*(i*this.imgData.width+t)+2]=e[2],this.imgData.data[4*(i*this.imgData.width+t)+3]=e[3]},this.addPixel=function(t,i,e){this.setPixel(t,i,this.blendColors(this.getPixel(t,i),e))},this.addImgData=function(t,i,e,r,s,h,a,n,o){for(var u={imgData:t,arrRgba:[]},l=0,c=0,d=i;d<r;d++){for(var p=e;p<s;p++){var f=this.getPixel.call(u,d,p);this.addPixel(h+l,a+c,f),c++}c=0,l++}},this.addBitmapData=function(t,i,e,r,s,h,a,n,o){1==arguments.length?(i=e=0,r=t.imgData.width,s=t.imgData.height,h=a=0):3==arguments.length?(h=i,a=e,i=e=0,r=t.imgData.width,s=t.imgData.height):9==arguments.length?console.warn("todo dWidth, dHeight"):console.error("не правильные аргументы",arguments.length),this.addImgData(t.imgData,i,e,r,s,h,a)},this.upDate=function(){this.ctx.putImageData(this.imgData,0,0)},this.changeWH=function(t,i){var e=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height);this.canvas.width=null!=t?t:this._width,this.canvas.height=null!=i?i:this._height,this.clear(),this.ctx.putImageData(e,0,0),this.imgData=this.ctx.getImageData(0,0,this._width,this._height),this.widthVisi=this._widthVisi,this.heightVisi=this._heightVisi},this.setColor=function(t){t||(t=this._color),this.ctx.fillStyle="rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]/255+")"},this.setPixelTempData=function(t,i,e){this.tempData.data[4*(i*this.tempWidth+t)+0]=e[0],this.tempData.data[4*(i*this.tempWidth+t)+1]=e[1],this.tempData.data[4*(i*this.tempWidth+t)+2]=e[2],this.tempData.data[4*(i*this.tempWidth+t)+3]=e[3]},this.tempData=[],this.tempWidth=100;var h,a,n=1,o=1;this.compress=function(t,i,e){t=Math.round(t),i=Math.round(i),t>this._width&&(t=this._width),i>this._height&&(i=this._height),n=this._width/t,o=this._height/i,n-=n%1,o-=o%1,this.tempWidth=t,this.tempData=this.ctx.createImageData(t,i),h=(this._width+2)/t,a=(this._height+2)/i;for(var r=0;r<t;r++)for(var s=0;s<i;s++)this.setPixelTempData(r,s,this.getPixelMerge(Math.round(r*h),Math.round(s*a)));this.width=t,this.height=i,this.imgData=this.tempData,this.upDate(),e&&e(this)},this.getPixelMerge=function(t,i){var e=this.getPixel(t,i);this.tempPixel[0]=e[0],this.tempPixel[1]=e[1],this.tempPixel[2]=e[2],this.tempPixel[3]=e[3];for(var r,s=1,h=1,a=0;a<n;a++)t+(a+1)<this._width?(r=this.getPixel(t+(a+1),i),this.tempPixel[0]+=r[0]*h,this.tempPixel[1]+=r[1]*h,this.tempPixel[2]+=r[2]*h,this.tempPixel[3]+=r[3]*h,s++):(this.tempPixel[0]+=e[0]*h,this.tempPixel[1]+=e[1]*h,this.tempPixel[2]+=e[2]*h,this.tempPixel[3]+=e[3]*h,s++),t-(a+1)>0?(r=this.getPixel(t-(a+1),i),this.tempPixel[0]+=r[0]*h,this.tempPixel[1]+=r[1]*h,this.tempPixel[2]+=r[2]*h,this.tempPixel[3]+=r[3]*h,s++):(this.tempPixel[0]+=e[0]*h,this.tempPixel[1]+=e[1]*h,this.tempPixel[2]+=e[2]*h,this.tempPixel[3]+=e[3]*h,s++);h=1;for(var u=0;u<o;u++)i+(u+1)<this._height?(r=this.getPixel(t,i+(u+1)),this.tempPixel[0]+=r[0]*h,this.tempPixel[1]+=r[1]*h,this.tempPixel[2]+=r[2]*h,this.tempPixel[3]+=r[3]*h,s++):(this.tempPixel[0]+=e[0]*h,this.tempPixel[1]+=e[1]*h,this.tempPixel[2]+=e[2]*h,this.tempPixel[3]+=e[3]*h,s++),i-(u+1)>0?(r=this.getPixel(t,i-(u+1)),this.tempPixel[0]+=r[0]*h,this.tempPixel[1]+=r[1]*h,this.tempPixel[2]+=r[2]*h,this.tempPixel[3]+=r[3]*h,s++):(this.tempPixel[0]+=e[0]*h,this.tempPixel[1]+=e[1]*h,this.tempPixel[2]+=e[2]*h,this.tempPixel[3]+=e[3]*h,s++);return this.tempPixel[0]=this.tempPixel[0]/s,this.tempPixel[1]=this.tempPixel[1]/s,this.tempPixel[2]=this.tempPixel[2]/s,this.tempPixel[3]=this.tempPixel[3]/s,this.tempPixel},this.tempPixel=[],this.clear=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.imgData=this.ctx.getImageData(0,0,1,1)},this.width=this._width,this.height=this._height,this.setColor(),this.ctx.fillRect(0,0,this._width,this._height),this.imgData=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),this.changeWH(),this.blendColors=function(){for(var t=[],i=0;i<arguments.length;i++)t.push(arguments[i]);for(var e,r,s,h,a=[0,0,0,0];r=t.shift();)void 0===r[3]&&(r[3]=255),s=r[3]/255,(h=a[3]/255)&&s?((e=[0,0,0,0])[3]=1-(1-s)*(1-h),e[0]=Math.round(r[0]*s/e[3]+a[0]*h*(1-s)/e[3]),e[1]=Math.round(r[1]*s/e[3]+a[1]*h*(1-s)/e[3]),e[2]=Math.round(r[2]*s/e[3]+a[2]*h*(1-s)/e[3])):e=s?r:a,a=e;return e[3]=255*e[3],e}}function d(){var t=this;this.segment={x:.5,y:.5,width:100,height:100,rotation:0},this.arrPoint=[],this.arrTriangle=[],this.arrTriangleBig=[],this.arrPosition=[],this.arrUV=[],this.lengthUV=0,this.lengthPosition=0,this.lengthTriangle=0,this.centerShape=new p,this.areaShape=0,this._bound={min:new p,max:new p,center:new p};var i,e,r,s,h,a,n,o,u,l,c,d,f,g,y=new p,m=new p,x=[0,0,this.segment.width,this.segment.height],w=[new p,new p,new p,new p,new p,new p,new p,new p,new p],v=0,_=new p;function b(i,e){return t.getAngle(t._bound.center,i)-t.getAngle(t._bound.center,e)}this.start=function(i){t.lengthUV=0,t.lengthTriangle=0,t.lengthPosition=0;for(var e=[],r=0;r<i.length;r++)e.push(new p(i[r].x,i[r].y));if(0!==this.segment.rotation)for(r=0;r<e.length;r++)t.rotationPoint(e[r],-this.segment.rotation);if(t.arrPoint=e,t.areaShape=t.area(t.arrPoint),t.areaShape){t.getCenterShape();for(r=0;r<t.arrTriangleBig.length;r++)t.segmentationTriangle(t.arrTriangleBig[r]);if(0!==this.segment.rotation){var s=new p;for(r=0;r<t.arrPosition.length;r+=3)s.set(t.arrPosition[r],t.arrPosition[r+1]),t.rotationPoint(s,this.segment.rotation),t.arrPosition[r]=s.x,t.arrPosition[r+1]=s.y}}},this.getCenterShape=function(i){t.arrPoint=i||t.arrPoint,t.arrTriangleBig.length=0,t.arrTriangleBig=t.triangulate(t.arrPoint),t.updateCenterShape()},this.updateCenterShape=function(){var i=0,e=0;t.centerShape.set(0,0);var r=t.convex(t.arrPoint);if(0===r||-1===r)for(var s=0;s<t.arrTriangleBig.length;s++)i<(e=t.area(t.arrTriangleBig[s]))&&(i=e,t.centerShape.x=(t.arrTriangleBig[s][0].x+t.arrTriangleBig[s][1].x+t.arrTriangleBig[s][2].x)/3,t.centerShape.y=(t.arrTriangleBig[s][0].y+t.arrTriangleBig[s][1].y+t.arrTriangleBig[s][2].y)/3);else{for(s=0;s<t.arrPoint.length;s++)t.centerShape.x+=t.arrPoint[s].x,t.centerShape.y+=t.arrPoint[s].y;t.centerShape.x/=t.arrPoint.length,t.centerShape.y/=t.arrPoint.length}},this.segmentationTriangle=function(i){r=this.getBound(this.arrPoint),s=(r.min.x-r.min.x%this.segment.width-2*this.segment.width||0)+this.segment.x*this.segment.width,h=(r.min.y-r.min.y%this.segment.height-2*this.segment.height||0)+this.segment.y*this.segment.height,a=(r.max.x-r.max.x%this.segment.width+2*this.segment.width||500)+this.segment.x*this.segment.width,n=(r.max.y-r.max.y%this.segment.height+2*this.segment.height||500)+this.segment.y*this.segment.height,x[2]=this.segment.width,x[3]=this.segment.height;for(var o=s;o<a;o+=this.segment.width)for(var u=h;u<n;u+=this.segment.height){x[0]=o,x[1]=u,e=t.triangulate(t.getArrPointTriangleSegment(i,x),!1);for(var l=0;l<e.length;l++){t.arrTriangle[t.lengthTriangle++]=e[l];for(var c=0;c<e[l].length;c++)t.generatePointUV(e[l][c],x),t.arrPosition[t.lengthPosition++]=e[l][c].x,t.arrPosition[t.lengthPosition++]=e[l][c].y,t.arrPosition[t.lengthPosition++]=0}}},this.getArrPointTriangleSegment=function(e,r){for(var s=w,h=0;h<s.length;h++)s[h].x=s[h].y=1/0;v=0;for(h=0;h<3;++h)y.x=r[0],y.y=r[1],m.x=r[0]+r[2],m.y=r[1],(i=t.getPointOfIntersection(y,m,e[h],e[(h+1)%3]))&&(t.inArr(s,i)||s[v++].setPoint(i)),y.x=r[0]+r[2],y.y=r[1],m.x=r[0]+r[2],m.y=r[1]+r[3],(i=t.getPointOfIntersection(y,m,e[h],e[(h+1)%3]))&&(t.inArr(s,i)||s[v++].setPoint(i)),y.x=r[0]+r[2],y.y=r[1]+r[3],m.x=r[0],m.y=r[1]+r[3],(i=t.getPointOfIntersection(y,m,e[h],e[(h+1)%3]))&&(t.inArr(s,i)||s[v++].setPoint(i)),y.x=r[0],y.y=r[1],m.x=r[0],m.y=r[1]+r[3],(i=t.getPointOfIntersection(y,m,e[h],e[(h+1)%3]))&&(t.inArr(s,i)||s[v++].setPoint(i)),y.x=r[0],y.y=r[1],m.x=r[0]+r[2],m.y=r[1]+r[3],t.pointInSegment(e[h],y,m)&&(t.inArr(s,e[h])||s[v++].setPoint(e[h]));return y.x=r[0],y.y=r[1],t.isInTriangle(e[0],e[1],e[2],y)&&(t.inArr(s,y)||s[v++].setPoint(y)),y.x=r[0]+r[2],y.y=r[1],t.isInTriangle(e[0],e[1],e[2],y)&&(t.inArr(s,y)||s[v++].setPoint(y)),y.x=r[0]+r[2],y.y=r[1]+r[3],t.isInTriangle(e[0],e[1],e[2],y)&&(t.inArr(s,y)||s[v++].setPoint(y)),y.x=r[0],y.y=r[1]+r[3],t.isInTriangle(e[0],e[1],e[2],y)&&(t.inArr(s,y)||s[v++].setPoint(y)),s=s.slice(0,v),t.getBound(s),s.sort(b),s},this.inArr=function(t,i){for(var e=0;e<t.length;++e)if(t[e].x===i.x&&t[e].y===i.y)return!0;return!1},this.getBound=function(t){this._bound.min.set(999999,999999),this._bound.max.set(-999999,-999999);for(var i=0;i<t.length;i++)this._bound.min.x=Math.min(this._bound.min.x,t[i].x),this._bound.max.x=Math.max(this._bound.max.x,t[i].x),this._bound.min.y=Math.min(this._bound.min.y,t[i].y),this._bound.max.y=Math.max(this._bound.max.y,t[i].y);return this._bound.center.set(this._bound.max.x/2+this._bound.min.x/2,this._bound.max.y/2+this._bound.min.y/2),this._bound},this.pointInSegment=function(t,i,e){return i.x<=t.x&&t.x<=e.x&&i.y<=t.y&&t.y<=e.y},this.generatePointUV=function(i,e){i.x===e[0]?_.x=0:i.x===e[0]+e[2]?_.x=1:_.x=(i.x-e[0])%t.segment.width/t.segment.width,i.y===e[1]?_.y=0:i.y===e[1]+e[3]?_.y=1:_.y=(i.y-e[1])%t.segment.height/t.segment.height,t.arrUV[t.lengthUV++]=_.x,t.arrUV[t.lengthUV++]=_.y},this.convex=function(t){var i,e,r,s,h=t.length,a=0;if(h<3)return 0;for(i=0;i<h;i++)if(r=(i+2)%h,s=(t[e=(i+1)%h].x-t[i].x)*(t[r].y-t[e].y),(s-=(t[e].y-t[i].y)*(t[r].x-t[e].x))<0?a|=1:s>0&&(a|=2),3===a)return-1;return 0!=a?1:0},this.area=function(t){for(var i=t.length,e=0,r=i-1,s=0;s<i;r=s++)e+=t[r].x*t[s].y-t[s].x*t[r].y;return.5*e},this.snip=function(t,i,e,r,s,h){var a,n,o,u,l,c,d,p,f,g,y,m,x,w,v,_,b;if(n=t[h[i]].x,o=t[h[i]].y,u=t[h[e]].x,l=t[h[e]].y,c=t[h[r]].x,d=t[h[r]].y,Number.EPSILON>(u-n)*(d-o)-(l-o)*(c-n))return!1;for(g=c-u,y=d-l,m=n-c,x=o-d,w=u-n,v=l-o,a=0;a<s;a++)if(p=t[h[a]].x,f=t[h[a]].y,!(p===n&&f===o||p===u&&f===l||p===c&&f===d)&&(_=w*(f-o)-v*(p-n),b=m*(f-d)-x*(p-c),g*(f-l)-y*(p-u)>=-Number.EPSILON&&b>=-Number.EPSILON&&_>=-Number.EPSILON))return!1;return!0},this.triangulate=function(i,e){var r=i.length;if(r<3)return[];var s,h,a,n=[],o=[],u=[];if(t.area(i)>0)for(h=0;h<r;h++)o[h]=h;else for(h=0;h<r;h++)o[h]=r-1-h;var l=r,c=2*l;for(h=l-1;l>2;){if(c--<=0)return e?u:n;if(l<=(s=h)&&(s=0),l<=(h=s+1)&&(h=0),l<=(a=h+1)&&(a=0),t.snip(i,s,h,a,l,o)){var d,p,f,g,y;for(d=o[s],p=o[h],f=o[a],n.push([i[d],i[p],i[f]]),u.push([o[s],o[h],o[a]]),g=h,y=h+1;y<l;g++,y++)o[g]=o[y];c=2*--l}}return e?u:n},this.getAngle=function(t,i){return i=i||rezNull,t=t||rezNull,Math.atan2(i.y-t.y,i.x-t.x)},this.rotationPoint=function(t,i,e){var r=0,s=0;e?(r=e.x+(t.x-e.x)*Math.cos(i)-(t.y-e.y)*Math.sin(i),s=e.y+(t.y-e.y)*Math.cos(i)+(t.x-e.x)*Math.sin(i)):(r=t.x*Math.cos(i)-t.y*Math.sin(i),s=t.y*Math.cos(i)+t.x*Math.sin(i)),t.x=r,t.y=s},this.isInTriangle=function(t,i,e,r){var s=(t.x-r.x)*(i.y-t.y)-(i.x-t.x)*(t.y-r.y),h=(i.x-r.x)*(e.y-i.y)-(e.x-i.x)*(i.y-r.y),a=(e.x-r.x)*(t.y-e.y)-(t.x-e.x)*(e.y-r.y);return s>=0&&h>=0&&a>=0||s<=0&&h<=0&&a<=0};var P=new THREE.Vector2(0,0);this.getPointOfIntersection=function(t,i,e,r){return o=(t.x-i.x)*(r.y-e.y)-(t.y-i.y)*(r.x-e.x),u=(t.x-e.x)*(r.y-e.y)-(t.y-e.y)*(r.x-e.x),l=(t.x-i.x)*(t.y-e.y)-(t.y-i.y)*(t.x-e.x),d=l/o,(c=u/o)>=0&&c<=1&&d>=0&&d<=1?(f=t.x+c*(i.x-t.x),g=t.y+c*(i.y-t.y),P.x=f,P.y=g,P):null}}function p(t,i){this.x=t,this.y=i}Object.defineProperties(c.prototype,{width:{set:function(t){var i=this._width;this._width=t,this.changeWH(),i<this._width&&(this.setColor(),this.ctx.fillRect(i,0,this._width,this._height)),this.widthVisi=this._widthVisi},get:function(){return this._width}},height:{set:function(t){var i=this._height;this._height=t,this.changeWH(),i<this._height&&(this.setColor(),this.ctx.fillRect(0,i,this._width,this._height)),this.heightVisi=this._heightVisi},get:function(){return this._height}},widthVisi:{set:function(t){this._widthVisi=t},get:function(){return this._widthVisi}},heightVisi:{set:function(t){this._heightVisi=t},get:function(){return this._heightVisi}}}),p.prototype.set=function(t,i){this.x=t,this.y=i},p.prototype.setPoint=function(t){this.x=t.x,this.y=t.y}},function(t,i,e){"use strict";e.d(i,"a",function(){return r});var r=function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t);var e,r,a=this;this.tv=i,this.otstup=1,this.content=new PIXI.Container,this.dCont=new DCont(document.body),this.graphics=new PIXI.Graphics,this.content.addChild(this.graphics),this.geometriXZ=new h;var n=new THREE.MeshPhongMaterial({color:16777215});this.mesh=new THREE.Mesh(this.geometriXZ,n);var o=new THREE.Object3D;o.add(this.mesh),o.rotation.x=Math.PI,scene.add(o);for(var u=0;u<6;u++){var l;(l=new DButton(this.dCont,204+34*u,2," ",function(){a.setLink("resources/pic/"+this.idArr+".png")},"resources/pic/"+u+".png")).idArr=u,l.width=l.height}(l=new DButton(this.dCont,2,2,"Load PNG/alpha ",function(t){a.setLink(t)})).width=200,l.startFile(".png");var c,d=new DLabel(this.dCont,450,10);d.width=222,new DParamObject(this.dCont,2,130,function(){}).addObject(i),this.setLink=function(t){i.setLink(t,function(){a.drawWH(i.bitmapData.width*a.otstup,i.bitmapData.height*a.otstup)})},i.funUp=function(){a.draw()},this.input=new DInput(this.dCont,204,500,"a",function(){var t=i.bitmapData,e=t.ctx;if(200!=t.width&&(t.width=200),200!=t.height&&(t.height=200),e.clearRect(0,0,200,200),e.font="200px Arial",e.font=" 200px Courier",e.fillText(this.text,0,175),t.imgData=e.getImageData(0,0,200,200),i.upDate(),null==c){c=new s(i.points.arrayTriangle,i.points.array);var r=new THREE.Mesh(c);o.add(r)}else c.serAA(i.points.arrayTriangle,i.points.array)}),this.panel=new DPanel(this.dCont,204,36),this.dC=new DCont(this.dCont),this.dC.x=204,this.dC.y=36,this.dC.div.appendChild(i._canvas),this.dB=function(t){a.chak.value=t,a.otstup=1==t?3:1,a.draw(),a.drawWH(i.bitmapData.width*a.otstup,i.bitmapData.height*a.otstup)},this.chak=new DCheckBox(this.dCont,2,40,"bigDebag",function(){a.dB(this.value)}),this.chak.value=!1;var p=!0;this.chak1=new DCheckBox(this.dCont,2,70,"debag",function(){p=this.value,a.draw()}),this.chak1.value=p,this.chak2=new DCheckBox(this.dCont,2,100,"mouseWipeOff",function(){}),this.textArea=new DTextArea(this.dCont,2,352,"mouseWipeOff",function(){}),this.textArea.width=200,this.textArea.height=600,this.textArea.fontSize=10,this.lll=new DLabel(this.dCont,2,332,"arrayTriangle"),this.lll.width=200;var f,g,y,m=2;this.draw=function(){if(d.text="timeLogic: "+Math.round(1e3*i.time)/1e3+" s.",this.graphics.clear(),0!=p){var t,s,h=i.bloks.array;if(f=this.otstup,m=0,this.panel.width=i.bitmapData.width,this.panel.height=i.bitmapData.height,this.graphics.lineStyle(.2,0,.2),3==a.otstup)for(var n=0;n<h.length;n++){t=h[n].i*f,s=h[n].j*f,0!=h[n].i&&(t=h[n].i*f+m*Math.round(h[n].i/i.wh)),0!=h[n].j&&(s=h[n].j*f+m*Math.round(h[n].j/i.wh)),this.graphics.lineStyle(.2,0,.2),0==h[n].status&&this.graphics.beginFill(16711680,.2),1==h[n].status&&this.graphics.beginFill(65280,.2),2==h[n].status&&this.graphics.beginFill(255,.2),this.graphics.drawRect(t,s,h[n].w*f,h[n].h*f);for(var o=0;o<h[n].array.length;o++)for(var u=0;u<h[n].array[o].length;u++)this.drawMin(h[n].i,h[n].j,h[n].array[o][u],f);this.drawLine(h[n].i,h[n].j,h[n],f)}for(n=0;n<i.points.array.length;n++)this.drawPoint(i.points.array[n],f);clearTimeout(y),g=0;for(n=0;n<i.points.arrayTriangle.length;n++)this.drawTriangleCC(i.points.arrayTriangle[n]);this.geometriXZ.start(i.points.arrayTriangle),this.mesh.position.y=-i.bitmapData.height/2,this.mesh.position.x=-i.bitmapData.width/2,e.render(r),this.textArea.text=JSON.stringify(i.points.arrayTriangle),this.lll.text="arrayTriangle : "+g}else e.render(r)},this.drawTriangle=function(t,i){if(!(i>=t.length)){trace(i),a.graphics.clear(),a.graphics.lineStyle(.5,0,0);for(var s=0;s<i+6;s+=6)a.graphics.beginFill(16777215*Math.random(),.6),a.graphics.moveTo(t[s+0]*f,t[s+1]*f),a.graphics.lineTo(t[s+2]*f,t[s+3]*f),a.graphics.lineTo(t[s+4]*f,t[s+5]*f),a.graphics.lineTo(t[s+0]*f,t[s+1]*f);e.render(r),y=setTimeout(function(){a.drawTriangle(t,i+6)},300)}},this.drawTriangleCC=function(t){a.graphics.lineStyle(.5,0,0);for(var i=0;i<t.length;i+=6)a.graphics.beginFill(16777215*Math.random(),.6),a.graphics.moveTo(t[i+0]*f,t[i+1]*f),a.graphics.lineTo(t[i+2]*f,t[i+3]*f),a.graphics.lineTo(t[i+4]*f,t[i+5]*f),a.graphics.lineTo(t[i+0]*f,t[i+1]*f),g++},this.drawPoint=function(t,i){this.graphics.lineStyle(2,16711680,.7),this.graphics.beginFill(0,0),this.xxx=0,this.graphics.moveTo(t[0].x*i+this.xxx,t[0].y*i+this.xxx);for(var e=1;e<t.length;e++)this.graphics.lineTo(t[e].x*i+this.xxx,t[e].y*i+this.xxx)},this.drawLine=function(t,e,r,s){var h=0;0!=t&&(h=t*s+m*Math.round(t/i.wh));var a=0;0!=e&&(a=e*s+m*Math.round(e/i.wh)),this.graphics.lineStyle(1,0,.5),this.graphics.beginFill(0,0);for(t=0;t<r.attIJBig.length;t++)for(e=0;e<r.attIJBig[t].length-2;e+=2)this.graphics.moveTo(r.attIJBig[t][e]*s+h,r.attIJBig[t][e+1]*s+a),this.graphics.lineTo(r.attIJBig[t][e+2]*s+h,r.attIJBig[t][e+3]*s+a)},this.drawMin=function(t,e,r,s){var h=0;0!=t&&(h=m*Math.round(t/i.wh));var a=0;0!=e&&(a=m*Math.round(e/i.wh)),0!=r.suma&&(this.graphics.beginFill(0,.02),this.graphics.drawRect(r.i*s+h,r.j*s+a,s,s),1==r.opor&&(this.graphics.beginFill(16711680,.1),this.graphics.drawRect(r.i*s+h,r.j*s+a,s,s)),-1!=r.proshli&&(this.graphics.beginFill(65280,.7),5==r.proshli&&this.graphics.beginFill(16711680,.7),2==r.proshli&&this.graphics.beginFill(255,.2),1==r.proshli&&this.graphics.beginFill(255,.1),this.graphics.drawRect(r.i*s+h,r.j*s+a,s,s)))},this.drawWH=function(t,i){var s=e.resolution;e.view.style.width=t+"px",e.view.style.height=i+"px",e.resolution=1,e.resize(t,i),e.resolution=s,e.render(r)},(e=new PIXI.autoDetectRenderer(300,300,{antialias:!0,transparent:!0,preserveDrawingBuffer:!0})).view.style.position="fixed",e.view.style.left="204px",e.view.style.top="36px",a.dCont.div.appendChild(e.view),(r=new PIXI.Container).addChild(a.content),this.drav=function(t,e){var r,s,h=[0,0,0,255];1==a.chak2.value&&(h=[0,0,0,0]);for(var n=0;n<10;n++)if((r=Math.round(n-5+t))>=0&&r<i.bitmapData.width)for(var o=0;o<10;o++)(s=Math.round(o-5+e))>=0&&s<i.bitmapData.height&&i.bitmapData.setPixel(r,s,h);i.bitmapData.upDate()},this.move=function(t){a.drav(t.offsetX,t.offsetY)},this.up=function(t){e.view.removeEventListener("mousemove",a.move),document.removeEventListener("mouseup",a.up),i.upDate()},e.view.addEventListener("mousedown",function(t){a.drav(t.offsetX,t.offsetY),e.view.addEventListener("mousemove",a.move),document.addEventListener("mouseup",a.up)})};function s(t,i){var e;THREE.BufferGeometry.call(this),this.arrPosition=[];var r,s,h=10,a=t,n=i;this.update=function(){for(trace(a),this.arrPosition=[],t=0;t<a.length;t++)for(r=a[t].length,s=0;s<r;s+=6)this.arrPosition.push(a[t][s],a[t][s+1],h),this.arrPosition.push(a[t][s+2],a[t][s+1+2],h),this.arrPosition.push(a[t][s+4],a[t][s+1+4],h),this.arrPosition.push(a[t][s+4],a[t][s+1+4],0),this.arrPosition.push(a[t][s+2],a[t][s+1+2],0),this.arrPosition.push(a[t][s],a[t][s+1],0);for(t=0;t<n.length;t++)for(r=n[t].length-1,s=0;s<r;s++)this.arrPosition.push(n[t][s].x,n[t][s].y,0),this.arrPosition.push(n[t][s+1].x,n[t][s+1].y,0),this.arrPosition.push(n[t][s+1].x,n[t][s+1].y,h),this.arrPosition.push(n[t][s].x,n[t][s].y,0),this.arrPosition.push(n[t][s+1].x,n[t][s+1].y,h),this.arrPosition.push(n[t][s+1].x,n[t][s+1].y,0),this.arrPosition.push(n[t][s].x,n[t][s].y,0),this.arrPosition.push(n[t][s+1].x,n[t][s+1].y,h),this.arrPosition.push(n[t][s].x,n[t][s].y,h),this.arrPosition.push(n[t][s].x,n[t][s].y,0),this.arrPosition.push(n[t][s].x,n[t][s].y,h),this.arrPosition.push(n[t][s+1].x,n[t][s+1].y,h);e=new Float32Array(3*this.arrPosition.length),this.addAttribute("position",new THREE.BufferAttribute(e,3)),r=this.arrPosition.length;for(var t=0;t<r;t++)e[t]=this.arrPosition[t];trace(this.arrPosition),this.attributes.position.needsUpdate=!0},this.serAA=function(t,i){a=t,n=i,this.update()},this.update()}function h(){THREE.BufferGeometry.call(this),this.type="GeometriXZ";var t;this.arrPosition=[],this.start=function(t){this.arrPosition=[];for(var i=0;i<t.length;i++)for(var e=0;e<t[i].length;e+=6)this.srerrrr(t[i][e+4],t[i][e+1+4],t[i][e+2],t[i][e+1+2]),this.srerrrr(t[i][e+2],t[i][e+1+2],t[i][e],t[i][e+1]),this.srerrrr(t[i][e],t[i][e+1],t[i][e+4],t[i][e+1+4]);this.update()},this.srerrrr=function(t,i,e,r){for(var s=.5,h=0;h<50;h++)this.arrPosition.push(t+Math.random()*s-.25,i+Math.random()*s-.25,0),this.arrPosition.push(t+Math.random()*s-.25,i+Math.random()*s-.25,0),this.arrPosition.push(e+Math.random()*s-.25,r+Math.random()*s-.25,0);for(h=0;h<50;h++)this.arrPosition.push(t+Math.random()*s-.25,i+Math.random()*s-.25,0),this.arrPosition.push(e+Math.random()*s-.25,r+Math.random()*s-.25,0),this.arrPosition.push(e+Math.random()*s-.25,r+Math.random()*s-.25,0)},this.update=function(){t=new Float32Array(3*this.arrPosition.length),this.addAttribute("position",new THREE.BufferAttribute(t,3));for(var i=0;i<this.arrPosition.length;i++)t[i]=this.arrPosition[i];this.attributes.position.needsUpdate=!0},this.update()}s.prototype=Object.create(THREE.BufferGeometry.prototype),s.prototype.constructor=s,h.prototype=Object.create(THREE.BufferGeometry.prototype),h.prototype.constructor=h},function(t,i,e){"use strict";e.r(i),function(t){var r=e(0);e.d(i,"TCont",function(){return r.a});var s=e(1);e.d(i,"TStyle",function(){return s.c}),e.d(i,"TArrow",function(){return s.a}),e.d(i,"TLabel",function(){return s.b});var h=e(2);e.d(i,"TVector",function(){return h.a});var a=e(3);e.d(i,"TVectorDebag",function(){return a.a}),t.TStyle=s.c,t.TCont=r.a,t.TArrow=s.a,t.TLabel=s.b,t.TVector=h.a,t.TVectorDebag=a.a}.call(this,e(5))},function(t,i){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e}]);